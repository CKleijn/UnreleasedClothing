{"version":3,"file":"main.js","mappings":";;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC,GAAG,6BAA6B,GAAG,6BAA6B;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA,WAAW,UAAU;AACrB,WAAW,yBAAyB;AACpC,WAAW,sBAAsB;AACjC;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,sBAAsB;AACjC,WAAW,KAAK;AAChB;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;;;;;;;;AC1ExB;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAO,CAAC,4EAAsB;AACzD,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,wCAAwC,mBAAO,CAAC,yEAAmB;AACnE,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,qDAAqD,mBAAO,CAAC,sFAAgC;AAC7F,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,uBAAuB;AACtC,eAAe,QAAQ;AACvB,eAAe,iBAAiB;AAChC;AACA;AACA,oCAAoC;AACpC,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,4IAA4I,2CAA2C;AACvL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,sBAAsB;AACrC,eAAe,YAAY;AAC3B,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA,oCAAoC;AACpC;AACA,wCAAwC,6CAA6C;AACrF,+CAA+C;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,sBAAsB;AACrC,eAAe,sBAAsB;AACrC,eAAe,YAAY;AAC3B,eAAe,YAAY;AAC3B,iBAAiB,gBAAgB;AACjC;AACA;AACA,oCAAoC;AACpC,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,sBAAsB;AACrC,eAAe,sBAAsB;AACrC,eAAe,YAAY;AAC3B,eAAe,YAAY;AAC3B,iBAAiB,gBAAgB;AACjC;AACA;AACA,oCAAoC;AACpC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,sBAAsB;AACrC,eAAe,sBAAsB;AACrC,eAAe,YAAY;AAC3B,eAAe,YAAY;AAC3B,iBAAiB,gBAAgB;AACjC;AACA;AACA,oCAAoC;AACpC;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,0BAA0B;AACzC,eAAe,0BAA0B;AACzC,eAAe,sBAAsB;AACrC,eAAe,sBAAsB;AACrC,eAAe,YAAY;AAC3B,eAAe,YAAY;AAC3B,eAAe,SAAS;AACxB,iBAAiB,gBAAgB;AACjC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,sBAAsB;AACrC,eAAe,YAAY;AAC3B,iBAAiB,gBAAgB;AACjC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,gBAAgB;AAC/B,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACjZF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,oBAAoB,mBAAO,CAAC,qEAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,4CAA4C,oDAAoD;AAChG;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,4CAA4C,4DAA4D;AACxG;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,4CAA4C,mEAAmE;AAC/G;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,4CAA4C,oDAAoD;AAChG;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kBAAe;AACf;AACA;AACA;AACA;AACA;;;;;;;;ACxJa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAO,CAAC,0EAAoB;AACrE,mCAAmC,mBAAO,CAAC,qEAAe;AAC1D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,qDAAqD,mBAAO,CAAC,sFAAgC;AAC7F,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4IAA4I,2CAA2C;AACvL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,kBAAe;;;;;;;;AC3EF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,oBAAoB,mBAAO,CAAC,qEAAe;AAC3C,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,qDAAqD,mBAAO,CAAC,sFAAgC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,2CAA2C,gGAAgG;AAC3I,wCAAwC;AACxC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,2CAA2C,8FAA8F;AACzI,wCAAwC;AACxC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,4CAA4C,kFAAkF;AAC9H;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,4CAA4C,kFAAkF;AAC9H;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe,uBAAuB,6CAA6C,sgBAAsgB;;;;;;;;ACpT5kB;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAO,CAAC,0EAAoB;AACrE,wCAAwC,mBAAO,CAAC,yEAAmB;AACnE,2BAA2B,mBAAO,CAAC,4EAAsB;AACzD,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,qDAAqD,mBAAO,CAAC,sFAAgC;AAC7F,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,4IAA4I,2CAA2C;AACvL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA,wCAAwC,6CAA6C;AACrF,+CAA+C;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD,sDAAsD;AAC3G;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B,eAAe,sBAAsB;AACrC,eAAe,2BAA2B;AAC1C,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,wEAAwE,kEAAkE;AAC1I,sEAAsE,yDAAyD,qBAAqB,4BAA4B;AAChL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC/MF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qDAAqD,mBAAO,CAAC,sFAAgC;AAC7F,kBAAe,cAAc;;;;;;;;ACnChB;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAO,CAAC,0EAAoB;AACrE,wCAAwC,mBAAO,CAAC,yEAAmB;AACnE,2BAA2B,mBAAO,CAAC,4EAAsB;AACzD,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8IAA8I,2CAA2C;AACzL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qDAAqD,0EAA0E;AAC/H;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,wDAAwD,cAAc;AACtE;AACA;AACA;AACA;AACA,oDAAoD,sBAAsB;AAC1E;AACA;AACA,uDAAuD,gBAAgB;AACvE;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B,eAAe,sBAAsB;AACrC,eAAe,2BAA2B;AAC1C,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,wEAAwE,kIAAkI;AAC1M,+EAA+E;AAC/E;AACA;AACA,qCAAqC,qBAAqB,4BAA4B;AACtF;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACvKF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qDAAqD,mBAAO,CAAC,sFAAgC;AAC7F,kBAAe,cAAc;;;;;;;;ACnChB;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,wCAAwC,mBAAO,CAAC,yEAAmB;AACnE,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,uBAAuB;AACtC,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,gDAAgD,sCAAsC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8IAA8I,2CAA2C;AACzL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oCAAoC;AACpC;AACA,wCAAwC,6CAA6C;AACrF,+CAA+C;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC/FF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,kBAAe,cAAc;;;;;;;;ACnChB;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8IAA8I,2CAA2C;AACzL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,kBAAe;;;;;;;;ACpEF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,kBAAe,cAAc;;;;;;;;ACnChB;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,wCAAwC,mBAAO,CAAC,yEAAmB;AACnE,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,2DAA2D,mBAAO,CAAC,4FAAsC;AACzG,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8IAA8I,2CAA2C;AACzL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B,eAAe,sBAAsB;AACrC,eAAe,2BAA2B;AAC1C,iBAAiB,eAAe;AAChC;AACA;AACA,wEAAwE,kIAAkI;AAC1M;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,KAAK;AACpB,eAAe,iBAAiB;AAChC,eAAe,qBAAqB;AACpC,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,oCAAoC;AACpC;AACA,wCAAwC,6CAA6C;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,oHAAoH,2CAA2C;AACvP;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC/IF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,kBAAe,cAAc;;;;;;;;ACnChB;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,wCAAwC,mBAAO,CAAC,yEAAmB;AACnE,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,2DAA2D,mBAAO,CAAC,4FAAsC;AACzG,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8IAA8I,2CAA2C;AACzL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB;AACA,cAAc,QAAQ;AACtB,cAAc,WAAW;AACzB,cAAc,sBAAsB;AACpC,cAAc,2BAA2B;AACzC,gBAAgB,eAAe;AAC/B;AACA;AACA,wEAAwE,0MAA0M;AAClR;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6FAA6F,gEAAgE;AAC7J;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,wDAAwD,cAAc;AACtE;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,qDAAqD,8GAA8G;AACnK;AACA;AACA;AACA;AACA,wFAAwF,oHAAoH,2CAA2C;AACvP;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACxJF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,kBAAe,cAAc;;;;;;;;ACnChB;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D,wCAAwC,mBAAO,CAAC,yEAAmB;AACnE,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8IAA8I,2CAA2C;AACzL;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,KAAK;AACpB,eAAe,iBAAiB;AAChC,eAAe,qBAAqB;AACpC,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,oCAAoC;AACpC;AACA,wCAAwC,6CAA6C;AACrF,+CAA+C;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC1FF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,2DAA2D,mBAAO,CAAC,4FAAsC;AACzG;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kBAAe,gCAAgC,8FAA8F,wLAAwL;;;;;;;;ACtGxT;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,uDAAuD,mBAAO,CAAC,wFAAkC;AACjG,yBAAyB,mBAAO,CAAC,0EAAoB;AACrD,mBAAmB,mBAAO,CAAC,oEAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oCAAoC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;AACA;AACA;;;;;;;;AC/La;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,yCAAyC,mBAAO,CAAC,0EAAoB;AACrE,yCAAyC,mBAAO,CAAC,0EAAoB;AACrE,yCAAyC,mBAAO,CAAC,0EAAoB;AACrE,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,yCAAyC,mBAAO,CAAC,0EAAoB;AACrE;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,WAAW;AACtB,WAAW,QAAQ;AACnB,WAAW,0BAA0B;AACrC,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,wEAAwE;AAC9H;AACA,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,kEAAY;AACpC,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,kCAAkC;AAChD;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,0BAA0B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kBAAe;;;;;;;;ACzHF;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB,GAAG,oBAAoB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAO,CAAC,mEAAa;AACvD,+BAA+B,mBAAO,CAAC,gEAAU;AACjD,2CAA2C,mBAAO,CAAC,4EAAsB;AACzE,0CAA0C,mBAAO,CAAC,2EAAqB;AACvE,aAAa,mBAAO,CAAC,0EAAoB;AACzC,oBAAoB;AACpB,uBAAuB;AACvB,kBAAe;AACf;AACA;AACA;;;;;;;;AChDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,kBAAkB;AAClB,gBAAgB;AAChB,wBAAwB;AACxB,qBAAqB;AACrB,kBAAkB;AAClB,oBAAoB;AACpB,kBAAkB;AAClB,mBAAmB;AACnB,qBAAqB;AACrB,kBAAkB;AAClB,oBAAoB;AACpB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,gBAAgB;AAChC;AACA;AACA,+EAA+E,qCAAqC,IAAI,KAAK;AAC7H;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,gBAAgB;AAChC;AACA;AACA,0EAA0E,0FAA0F;AACpK;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,gBAAgB;AAChC;AACA;AACA,kCAAkC;AAClC,iCAAiC;AACjC,uCAAuC,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,eAAe,yCAAyC,KAAK;AAChI;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,gBAAgB;AAChC;AACA;AACA,oCAAoC;AACpC;AACA,mEAAmE,uEAAuE;AAC1I;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,WAAW;AAC1B,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,gBAAgB;AAChC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,gBAAgB;AAC/B,gBAAgB,gBAAgB;AAChC;AACA;AACA,oCAAoC;AACpC;AACA,kEAAkE,sEAAsE;AACxI;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,gBAAgB;AAC/B,gBAAgB,gBAAgB;AAChC;AACA;AACA,oCAAoC;AACpC;AACA,qEAAqE,yEAAyE;AAC9I;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,gBAAgB,gBAAgB;AAChC;AACA;AACA,yCAAyC;AACzC,oCAAoC;AACpC,uCAAuC;AACvC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,gBAAgB;AAChC;AACA;AACA,yCAAyC;AACzC,oCAAoC;AACpC,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA,WAAW,WAAW;AACtB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,oBAAoB;AAC1F,gEAAgE,iBAAiB;AACjF,kEAAkE,kBAAkB;AACpF,sEAAsE,oBAAoB;AAC1F,oEAAoE,mBAAmB;;;;;;;;AC1Q1E;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA,oBAAoB;AACpB,mBAAmB;AACnB,oBAAoB;AACpB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,iBAAiB,KAAK;AACtB;AACA;AACA,iBAAiB,QAAQ;AACzB,kBAAkB,kCAAkC;AACpD,kBAAkB,kCAAkC;AACpD,kBAAkB,qDAAqD;AACvE;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,qCAAqC;AACpD,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,0BAA0B;AACzC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9Ma;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B,sBAAsB,QAAQ;AAC9B,sBAAsB,UAAU;AAChC;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;AC3MY;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,8BAA8B,GAAG,qBAAqB,GAAG,yBAAyB,GAAG,sBAAsB,GAAG,qBAAqB,GAAG,qBAAqB,GAAG,4BAA4B,GAAG,sBAAsB;AACnN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,0CAA0C,mBAAO,CAAC,2EAAqB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,+EAA+E;AAC9F,eAAe,4DAA4D;AAC3E,eAAe,gBAAgB;AAC/B,eAAe,oCAAoC;AACnD,eAAe,oCAAoC;AACnD,eAAe,wCAAwC;AACvD,eAAe,wCAAwC;AACvD,eAAe,0CAA0C;AACzD,eAAe,0CAA0C;AACzD;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,gDAAgD,kBAAkB;AAClE;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,0BAA0B;AACzC,eAAe,0BAA0B;AACzC,eAAe,4BAA4B;AAC3C,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gCAAgC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,gEAAgE,uBAAuB,IAAI;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,uBAAuB;AAC5E;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,wBAAwB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,wBAAwB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,kBAAkB;AAC3E;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,0BAA0B;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,mBAAmB;AACxE;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,wBAAwB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,mCAAmC;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,sBAAsB;AACrC,eAAe,oBAAoB;AACnC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,uBAAuB;AACtC,eAAe,sBAAsB;AACrC,eAAe,oBAAoB;AACnC;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;AACA;AACA;AACA;AACA,wCAAwC,sBAAsB;AAC9D;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,uBAAuB;AACtC,eAAe,sBAAsB;AACrC,eAAe,2BAA2B;AAC1C;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,iEAAiE,4CAA4C;AAC7G;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,0CAA0C;AAC1C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;AChmBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yCAAyC,GAAG,4BAA4B,GAAG,sBAAsB;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,WAAW,uBAAuB;AAClC,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,eAAe;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;;AC3G5B;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA,gDAAgD,uBAAuB;AACvE,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA,+FAA+F,sDAAsD;AACrJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA,WAAW,KAAK;AAChB,YAAY,SAAS;AACrB;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,qBAAqB;AACjC;AACA;AACA;AACA,WAAW,qBAAqB;AAChC,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,wBAAwB;AACvC;AACA,eAAe,qBAAqB;AACpC,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,wBAAwB;AACvC;AACA,eAAe,qBAAqB;AACpC,eAAe,uBAAuB;AACtC,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,uBAAuB;;;;;;;;ACnIV;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;AC7XY;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,iCAAiC,mBAAO,CAAC,iEAAY;AACrD,kBAAkB;AAClB,kBAAe;;;;;;;;AC1BF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb,+BAA+B,mBAAO,CAAC,QAAQ;AAC/C,4BAA4B,mBAAO,CAAC,8DAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC5Ga;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC5Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,GAAG,eAAe;AACnC,iCAAiC,mBAAO,CAAC,iEAAiB;AAC1D,oBAAoB,mBAAO,CAAC,wEAAe;AAC3C,qCAAqC,mBAAO,CAAC,yEAAgB;AAC7D;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;;;;;;;;ACpNJ;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY,mBAAO,CAAC,8DAAQ;AAC5B,oBAAoB,mBAAO,CAAC,wEAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACzFF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY,GAAG,aAAa,GAAG,qBAAqB;AACpD,aAAa,mBAAO,CAAC,uEAAQ;AAC7B,aAAa,mBAAO,CAAC,qEAAY;AACjC,uBAAuB,mBAAO,CAAC,2EAAkB;AACjD,iDAAgD,EAAE,qCAAqC,qDAAqD,EAAC;AAC7I,oBAAoB,mBAAO,CAAC,wEAAe;AAC3C,yCAAwC,EAAE,qCAAqC,+BAA+B,EAAC;AAC/G,aAAa,mBAAO,CAAC,iEAAQ;AAC7B,wCAAuC,EAAE,qCAAqC,2CAA2C,EAAC;;;;;;;;AC7C7G;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,eAAe;AAC1C,qCAAqC,mBAAO,CAAC,8EAAgB;AAC7D,gDAAgD,mBAAO,CAAC,yFAA2B;AACnF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,eAAe;AACf,wBAAwB;;;;;;;;ACrCX;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAO,CAAC,KAAK;AACzC,4BAA4B,mBAAO,CAAC,KAAK;AACzC,2BAA2B,mBAAO,CAAC,IAAI;AACvC,oCAAoC,mBAAO,CAAC,wEAAgB;AAC5D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yGAAyG,sCAAsC;AAC/I;AACA;AACA;AACA;AACA,gDAAgD,gDAAgD;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gDAAgD;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY,GAAG;AACf;AACA;AACA,gCAAgC,0BAA0B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,qBAAqB;AAC3E,WAAW,QAAQ;AACnB,WAAW,kBAAkB;AAC7B,YAAY,QAAQ;AACpB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,mBAAmB;AACvE,sDAAsD,mBAAmB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACzVF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,mBAAO,CAAC,KAAK;AACzC,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,WAAW;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC/DF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC,mBAAO,CAAC,wEAAe;AAC3D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,+BAA+B,mBAAO,CAAC,QAAQ;AAC/C,uBAAuB,mBAAO,CAAC,gBAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,2CAA2C,gBAAgB,uBAAuB;AAChK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;AACf;AACA;AACA;;;;;;;;AC1Fa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mDAAmD,mBAAO,CAAC,mGAA8B;AACzF,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,8EAA8E;AACtH;AACA;AACA;AACA;AACA,YAAY,0BAA0B;AACtC;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+FAA+F,uCAAuC;AACtI;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+FAA+F,qCAAqC;AACpI;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+FAA+F,uCAAuC;AACtI;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+FAA+F,wBAAwB;AACvH;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACtLF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C,0BAA0B,mBAAO,CAAC,+DAAS;AAC3C,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iHAAiH,mBAAmB;AACpI;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AChPF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,iCAAiC,mBAAO,CAAC,sEAAgB;AACzD,gBAAgB,mBAAO,CAAC,kEAAY;AACpC,mDAAmD,mBAAO,CAAC,mGAA8B;AACzF,mDAAmD,mBAAO,CAAC,mGAA8B;AACzF,uBAAuB,mBAAO,CAAC,yEAAmB;AAClD,mBAAmB,mBAAO,CAAC,qEAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,8EAA8E;AACtH;AACA,SAAS;AACT,oDAAoD,qBAAqB,6BAA6B;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,0BAA0B;AACtC;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,4IAA4I,uEAAuE,8BAA8B,qEAAqE;AACtT;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+FAA+F,uCAAuC;AACtI;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+FAA+F,qCAAqC;AACpI;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+FAA+F,uCAAuC;AACtI;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,kBAAkB;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,yFAAyF,wCAAwC,oBAAoB,IAAI;AACzJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,0CAA0C;AAC/H;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oGAAoG,6CAA6C;AACjJ;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,6HAA6H;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB,IAAI;AACzB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF;AACpF,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,yBAAyB;AACxC,eAAe,aAAa;AAC5B,iBAAiB,sBAAsB;AACvC;AACA;AACA,oCAAoC,+HAA+H;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,QAAQ;AACvB,eAAe,yBAAyB;AACxC,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kEAAkE,UAAU;AAC5E;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,UAAU;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7xBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,0BAA0B;AACtC;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACvDF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iCAAiC,GAAG,gCAAgC,GAAG,gCAAgC,GAAG,gCAAgC;AAC1I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAO,CAAC,mGAA8B;AACzE,4DAA2D,EAAE,qCAAqC,iEAAiE,EAAC;AACpK,mCAAmC,mBAAO,CAAC,mGAA8B;AACzE,4DAA2D,EAAE,qCAAqC,iEAAiE,EAAC;AACpK,mCAAmC,mBAAO,CAAC,mGAA8B;AACzE,4DAA2D,EAAE,qCAAqC,iEAAiE,EAAC;AACpK,oCAAoC,mBAAO,CAAC,oGAA+B;AAC3E,6DAA4D,EAAE,qCAAqC,kEAAkE,EAAC;;;;;;;;AC/BzJ;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,gBAAgB,mBAAO,CAAC,kEAAY;AACpC,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD,mCAAmC,mBAAO,CAAC,0EAAc;AACzD,6BAA6B,mBAAO,CAAC,+DAAS;AAC9C;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,WAAW,wBAAwB;AACnC,WAAW,QAAQ;AACnB,YAAY,YAAY;AACxB;AACA;AACA,wCAAwC;AACxC,oCAAoC,2CAA2C;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,mDAAmD,iCAAiC;AACpF;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,wBAAwB;AACvC,eAAe,eAAe;AAC9B,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA,kDAAkD;AAClD,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,4BAA4B;AAC1E,aAAa;AACb,8CAA8C,0BAA0B;AACxE;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA,WAAW,YAAY;AACvB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;ACjda;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC,mBAAO,CAAC,0EAAc;AACzD;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,4BAA4B,wBAAwB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC5HF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,eAAe;AAC9B,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA,eAAe,wBAAwB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,sBAAsB;AACrC,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACtHF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,8BAA8B,GAAG,0BAA0B,GAAG,yBAAyB,GAAG,kBAAkB;AAC9I,mCAAmC,mBAAO,CAAC,0EAAc;AACzD,kBAAkB;AAClB,wCAAwC,mBAAO,CAAC,kFAAsB;AACtE,yBAAyB;AACzB,2DAA0D,EAAE,qCAAqC,wDAAwD,EAAC;AAC1J,4CAA4C,mBAAO,CAAC,mFAAuB;AAC3E,0BAA0B;AAC1B,iDAAiD,mBAAO,CAAC,wFAA4B;AACrF,8BAA8B;AAC9B,kBAAe;;;;;;;;ACxDF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY,GAAG,kBAAkB,GAAG,eAAe,GAAG,WAAW,GAAG,YAAY,GAAG,qBAAqB;AACxG,qBAAqB,gBAAgB,mBAAO,CAAC,yEAAkB;AAC/D,YAAY,gBAAgB,mBAAO,CAAC,+DAAQ;AAC5C,WAAW,gBAAgB,mBAAO,CAAC,8DAAO;AAC1C,eAAe,gBAAgB,mBAAO,CAAC,kEAAW;AAClD,kBAAkB,gBAAgB,mBAAO,CAAC,qEAAc;AACxD,YAAY,gBAAgB,mBAAO,CAAC,+DAAQ;AAC5C,aAAa,mBAAO,CAAC,8EAAuB;;;;;;;;ACrD/B;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA,gBAAgB;;;;;;;;AChCH;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,kBAAkB,gBAAgB,mBAAO,CAAC,oEAAc;;;;;;;;AC5C3C;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2CAA2C,GAAG,6BAA6B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,mBAAO,CAAC,2FAA2B;AACnF,6BAA6B;AAC7B,gEAAgE,mBAAO,CAAC,2GAA2C;AACnH,2CAA2C;AAC3C,kBAAe;;;;;;;;AC5BF;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,mBAAO,CAAC,2FAA2B;AACnF,gDAAgD,mBAAO,CAAC,2FAA2B;AACnF;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC/FF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC5CF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC9CF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,GAAG,UAAU,GAAG,UAAU;AAC3C,sBAAsB,mBAAO,CAAC,6EAAiB;AAC/C,UAAU;AACV,sBAAsB,mBAAO,CAAC,6EAAiB;AAC/C,UAAU;AACV,6BAA6B,mBAAO,CAAC,yEAAa;AAClD,iBAAiB;AACjB,kBAAe;;;;;;;;AClDF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,GAAG,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,kEAAY;AACpC,aAAa,mBAAO,CAAC,+DAAS;AAC9B,kBAAkB,mBAAO,CAAC,yEAAa;AACvC,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qBAAqB;AACjD;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA;AACA,kDAAkD;AAClD,oCAAoC;AACpC;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtjBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,GAAG,cAAc;AACjC,sBAAsB,mBAAO,CAAC,6EAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,cAAc;AACd;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA;AACA,kDAAkD;AAClD,oCAAoC;AACpC;AACA;AACA;AACA,CAAC;AACD,gBAAgB;;;;;;;;ACrFH;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,iBAAiB;AAC5C,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,kBAAe;;;;;;;;AC5DF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,mCAAmC,GAAG,kBAAkB,GAAG,YAAY;AAClG,iCAAiC,mBAAO,CAAC,qEAAe;AACxD,kBAAkB;AAClB,+DAA8D,EAAE,qCAAqC,qDAAqD,EAAC;AAC3J,oDAAmD,EAAE,qCAAqC,0CAA0C,EAAC;AACrI,6BAA6B,mBAAO,CAAC,8DAAQ;AAC7C,YAAY;AACZ,kBAAe;;;;;;;;ACrDF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC,GAAG,wBAAwB;AAC9D;AACA,wBAAwB;AACxB,6CAA6C;AAC7C,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oCAAoC,mBAAO,CAAC,qEAAe;AAC3D,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA,eAAe,wHAAwH;AACvI;AACA;AACA;AACA,eAAe,2CAA2C;AAC1D;AACA,eAAe,qCAAqC;AACpD;AACA;AACA,eAAe,uCAAuC,SAAS,SAAS;AACxE;AACA,eAAe,kCAAkC;AACjD;AACA,eAAe,YAAY;AAC3B,eAAe,QAAQ;AACvB;AACA;AACA,oCAAoC,6EAA6E,4BAA4B,mEAAmE,4BAA4B,qEAAqE,eAAe,uGAAuG,2FAA2F;AAClgB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,0BAA0B;AAC1G;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG,8BAA8B;AACrI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,sDAAsD,mBAAmB;AACzE;AACA,4DAA4D,sCAAsC;AAClG,4DAA4D,8BAA8B;AAC1F;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,kCAAkC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,4BAA4B;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,iDAAiD;AACnJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,gCAAgC;AACpF;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,wBAAwB;AAC/G;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,yBAAyB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,yBAAyB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACzeF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,GAAG,mBAAmB;AAC1C,oCAAoC,mBAAO,CAAC,4EAAe;AAC3D,mBAAmB;AACnB,sCAAsC,mBAAO,CAAC,8EAAiB;AAC/D,oBAAoB;AACpB,kBAAe;;;;;;;;AC5BF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mBAAO,CAAC,8EAAiB;AAC/D;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,eAAe,QAAQ;AACvB,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACvEF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAO,CAAC,+CAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,eAAe;AAC9B,eAAe,iBAAiB;AAChC,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ,sDAAsD,YAAY,KAAK,YAAY;AAC1G,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;AACA;AACA,0CAA0C,0CAA0C;AACpF;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,eAAe;AAC1B,WAAW,iBAAiB;AAC5B,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7Oa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA,cAAc,8DAA8D;AAC5E;AACA,cAAc,uCAAuC;AACrD;AACA,cAAc,uCAAuC;AACrD;AACA,cAAc,sGAAsG;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;AChFF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc,kBAAkB;AAChC,cAAc,sCAAsC;AACpD,cAAc,sDAAsD;AACpE;AACA;AACA,2BAA2B,uBAAuB;AAClD;AACA;AACA;AACA,WAAW,uBAAuB,UAAU;AAC5C,aAAa;AACb;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wIAAwI,6BAA6B;AACrK;AACA;AACA;AACA;AACA,wCAAwC,QAAQ;AAChD;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,oHAAoH,wBAAwB;AAC5I;AACA;AACA;AACA;AACA,wCAAwC,QAAQ;AAChD;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wIAAwI,6BAA6B;AACrK;AACA;AACA;AACA;AACA,wCAAwC,QAAQ;AAChD;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;;;;;;;;ACrPY;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,kBAAkB,QAAQ;AAC1B,kBAAkB,QAAQ;AAC1B,kBAAkB,WAAW;AAC7B,kBAAkB,QAAQ;AAC1B,kBAAkB,iCAAiC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,kBAAkB,QAAQ;AAC1B,kBAAkB,QAAQ;AAC1B;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC7GF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,sBAAsB;AACrC,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AClIF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,aAAa,GAAG,YAAY,GAAG,cAAc;AACrE,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,mDAAmD,mBAAO,CAAC,sFAAgD;AAC3G,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,eAAe,mBAAO,CAAC,yDAAmB;AAC1C,gCAAgC,mBAAO,CAAC,iDAAW;AACnD,aAAa,mBAAO,CAAC,uDAAiB;AACtC,sDAAsD;AACtD;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,+CAA+C,uCAAuC;AACtF,UAAU;AACV;AACA;AACA,YAAY;AACZ;AACA;AACA,+CAA+C,wCAAwC;AACvF,UAAU;AACV;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,YAAY,KAAK,YAAY;AAC7F,yBAAyB;AACzB,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,sBAAsB;AAC7G;AACA;AACA;AACA,oEAAoE,eAAe;AACnF,qEAAqE,uBAAuB;AAC5F;AACA;AACA;AACA,mDAAmD,mCAAmC;AACtF,mDAAmD,mCAAmC;AACtF,oDAAoD,kBAAkB;AACtE;AACA;AACA,qFAAqF,YAAY,MAAM,oBAAoB;AAC3H;AACA;AACA;AACA,mFAAmF,YAAY,eAAe,oBAAoB;AAClI;AACA;AACA;AACA,4EAA4E,YAAY,eAAe,oBAAoB;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;AACA,mCAAmC,cAAc;AACjD,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,aAAa;AAC1E;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,kHAAkH;AACjI,eAAe,0BAA0B;AACzC;AACA;AACA,iCAAiC;AACjC,wCAAwC,kCAAkC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,qCAAqC;AAC7G,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,kBAAkB;AAC9G,qBAAqB,YAAY,kDAAkD,qBAAqB;AACxG;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,qBAAqB;AACtC;AACA;AACA,oCAAoC;AACpC;AACA,uEAAuE,sCAAsC;AAC7G;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,eAAe;AAChC;AACA;AACA,oCAAoC;AACpC;AACA,uEAAuE,sCAAsC;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,aAAa;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB,SAAS;AACzB;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,cAAc;AACd;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,0BAA0B;AACvC;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;AC1dF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,uBAAuB,GAAG,2BAA2B,GAAG,kBAAkB,GAAG,wBAAwB,GAAG,gBAAgB;AACjJ;AACA;AACA;AACA,8DAA8D,sBAAsB;AACpF,UAAU;AACV;AACA;AACA,2BAA2B;AAC3B;AACA,+DAA+D,sBAAsB;AACrF,UAAU;AACV;AACA;AACA,uBAAuB;AACvB;AACA,8FAA8F,sBAAsB;AACpH,UAAU;AACV;AACA;AACA,sBAAsB;AACtB;AACA,4DAA4D,sBAAsB;AAClF,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,qDAAqD,eAAe;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA,YAAY,YAAY,IAAI;AAC5B;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,aAAa,SAAS;AACtB;AACA;AACA,wBAAwB;AACxB;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;;;;;;;ACtJa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,mBAAmB,GAAG,cAAc,GAAG,YAAY,GAAG,6BAA6B,GAAG,2BAA2B,GAAG,sBAAsB,GAAG,oBAAoB,GAAG,cAAc,GAAG,YAAY;AACzN,aAAa,mBAAO,CAAC,8CAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,eAAe;AAC9B,eAAe,YAAY;AAC3B,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,kBAAkB;AAClB,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,qEAAqE,6BAA6B;AAClG;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA,oBAAoB;AACpB,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,YAAY;AACZ;AACA;AACA,2CAA2C,YAAY;AACvD,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,WAAW;AAC7D;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,kBAAkB;AAClB,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA,kBAAkB;AAClB,4BAA4B,uCAAuC;AACnE;AACA;AACA;AACA;AACA,kBAAkB;AAClB,4BAA4B,qCAAqC;AACjE;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,qEAAqE,6BAA6B;AAClG;AACA;AACA,kBAAkB;AAClB;AACA,uFAAuF,0BAA0B;AACjH;AACA;AACA,kBAAkB;AAClB;AACA,mFAAmF,wBAAwB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA;AACA,2CAA2C,oBAAoB;AAC/D,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,mBAAmB;AACrE;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,kBAAkB;AAClB,4BAA4B,qCAAqC;AACjE;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,qEAAqE,6BAA6B;AAClG;AACA;AACA;AACA;AACA;AACA,wBAAwB,kCAAkC;AAC1D,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B;AAC3B;AACA;AACA,2CAA2C,2BAA2B;AACtE,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,0BAA0B;AAC5E;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,cAAc;AAC7B,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,CAAC;AACD,mBAAmB;AACnB;AACA;AACA,2CAA2C,mBAAmB;AAC9D,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,kBAAkB;AACpE;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,CAAC;AACD,YAAY;AACZ;AACA;AACA,2CAA2C,YAAY;AACvD,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,WAAW;AAC7D;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;;;;;;;ACtWa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAA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GAAG,gBAAgB,GAAG,mBAAmB,GAAG,aAAa,GAAG,WAAW;AACvF;AACA;AACA;AACA,cAAc,mBAAO,CAAC,+CAAS;AAC/B;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB;AACjB;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB,eAAe,QAAQ,QAAQ;AAC/B,eAAe,SAAS;AACxB,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gCAAgC,4BAA4B;AAC3E,eAAe,QAAQ,QAAQ;AAC/B,eAAe,SAAS;AACxB,iBAAiB;AACjB;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB,4BAA4B;AACpE,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB,4BAA4B;AACpE,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB,4BAA4B;AACpE,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ,QAAQ;AAC3B,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,SAAS;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,SAAS;AACrB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA,gBAAgB;AAChB,kBAAe;;;;;;;;AC39BF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,wBAAwB,mBAAO,CAAC,uDAAQ;AACxC;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oDAAoD;AAC7E,YAAY,kCAAkC;AAC9C;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;AACjB;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;ACrKa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,gCAAgC,GAAG,wBAAwB;AAC7F,cAAc,mBAAO,CAAC,+CAAU;AAChC,aAAa,mBAAO,CAAC,uDAAQ;AAC7B,kBAAkB,mBAAO,CAAC,4DAAa;AACvC,kBAAkB,mBAAO,CAAC,4DAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,kBAAkB,QAAQ;AAC1B,kBAAkB,QAAQ;AAC1B,kBAAkB,WAAW;AAC7B,kBAAkB,oBAAoB;AACtC,kBAAkB,SAAS;AAC3B,kBAAkB,+BAA+B;AACjD,kBAAkB,+BAA+B;AACjD;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8LAA8L,wDAAwD;AACtP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gDAAgD,cAAc,IAAI;AAC9G;AACA,gEAAgE,cAAc;AAC9E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA,0EAA0E,+BAA+B;AACzG;AACA;AACA;AACA,gBAAgB,qBAAqB;AACrC;AACA;AACA,0EAA0E,+BAA+B;AACzG;AACA;AACA,CAAC;AACD,gCAAgC;AAChC,kBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;;;;;;;;AC1Ua;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B,GAAG,0BAA0B,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,6BAA6B,GAAG,wCAAwC,GAAG,yCAAyC,GAAG,yBAAyB,GAAG,wBAAwB,GAAG,iBAAiB;AAC9b;AACA,iBAAiB;AACjB,kDAAkD;AAClD,wCAAwC;AACxC;AACA,6BAA6B;AAC7B,+CAA+C;AAC/C,yCAAyC;AACzC;AACA,wBAAwB;AACxB;AACA,yBAAyB;AACzB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,0BAA0B;AAC1B;AACA,0BAA0B;AAC1B;AACA,0BAA0B;AAC1B;AACA,0BAA0B;AAC1B;AACA,0BAA0B;AAC1B;AACA,0BAA0B;;;;;;;;AClDb;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,gBAAgB,GAAG,qBAAqB,GAAG,eAAe,GAAG,cAAc,GAAG,2BAA2B,GAAG,gBAAgB,GAAG,wBAAwB,GAAG,iBAAiB,GAAG,iBAAiB,GAAG,gBAAgB,GAAG,oBAAoB,GAAG,YAAY;AAC7Q,wBAAwB,mBAAO,CAAC,uDAAQ;AACxC,YAAY;AACZ,gCAAgC,mBAAO,CAAC,gEAAiB;AACzD,oBAAoB;AACpB,4BAA4B,mBAAO,CAAC,4DAAa;AACjD,gBAAgB;AAChB,6BAA6B,mBAAO,CAAC,4DAAa;AAClD,iBAAiB;AACjB,6BAA6B,mBAAO,CAAC,4DAAa;AAClD,iBAAiB;AACjB,oCAAoC,mBAAO,CAAC,oEAAqB;AACjE,wBAAwB;AACxB,4BAA4B,mBAAO,CAAC,4DAAa;AACjD,gBAAgB;AAChB,uCAAuC,mBAAO,CAAC,uEAAwB;AACvE,2BAA2B;AAC3B,0BAA0B,mBAAO,CAAC,yDAAU;AAC5C,cAAc;AACd,2BAA2B,mBAAO,CAAC,2DAAY;AAC/C,eAAe;AACf,iCAAiC,mBAAO,CAAC,iEAAkB;AAC3D,qBAAqB;AACrB,4BAA4B,mBAAO,CAAC,iEAAY;AAChD,gBAAgB;AAChB,8BAA8B,mBAAO,CAAC,8DAAe;AACrD,kBAAkB;;;;;;;;ACrEL;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,+CAAU;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,0CAA0C;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,cAAc;AACd;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,0CAA0C;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACrNa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,sBAAsB,GAAG,0BAA0B;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0BAA0B;AAC1B;AACA;AACA,WAAW,KAAK;AAChB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,iEAAiE;AACjE;AACA,WAAW,KAAK;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,6BAA6B;;;;;;;;ACrFhB;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,oCAAoC;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;;;;;;;;ACzFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACnCF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAO,CAAC,iEAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+CAA+C,mDAAmD;AAClG,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC5CF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gCAAgC,GAAG,4BAA4B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,mBAAO,CAAC,mFAA2B;AACnF,4BAA4B;AAC5B,mDAAmD,mBAAO,CAAC,sFAA8B;AACzF,gCAAgC;;;;;;;;AC3BnB;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAO,CAAC,uDAAQ;AAC7B,2BAA2B,mBAAO,CAAC,2DAAY;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;;;;;;;;ACjFR;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,GAAG,gBAAgB,GAAG,yBAAyB,GAAG,6BAA6B,GAAG,yBAAyB,GAAG,yBAAyB,GAAG,uBAAuB,GAAG,sBAAsB,GAAG,wBAAwB,GAAG,uBAAuB,GAAG,+BAA+B,GAAG,wBAAwB,GAAG,eAAe,GAAG,sBAAsB,GAAG,+BAA+B,GAAG,uBAAuB,GAAG,iCAAiC,GAAG,uBAAuB,GAAG,2BAA2B,GAAG,sBAAsB,GAAG,kCAAkC,GAAG,4BAA4B,GAAG,uCAAuC,GAAG,mCAAmC,GAAG,uBAAuB,GAAG,+BAA+B,GAAG,yBAAyB,GAAG,sBAAsB,GAAG,wBAAwB,GAAG,6BAA6B,GAAG,wBAAwB,GAAG,wBAAwB,GAAG,0BAA0B,GAAG,wBAAwB,GAAG,kCAAkC,GAAG,8BAA8B,GAAG,4BAA4B,GAAG,yBAAyB,GAAG,0BAA0B,GAAG,2BAA2B,GAAG,kBAAkB;AACvpC,6BAA6B,mBAAO,CAAC,iDAAY;AACjD,cAAc,mBAAO,CAAC,+CAAU;AAChC,aAAa,mBAAO,CAAC,uDAAQ;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB,2BAA2B;AAC3B,0BAA0B;AAC1B,yBAAyB;AACzB,4BAA4B;AAC5B,8BAA8B;AAC9B,kCAAkC;AAClC,wBAAwB;AACxB,0BAA0B;AAC1B,wBAAwB;AACxB,wBAAwB;AACxB,6BAA6B;AAC7B,wBAAwB;AACxB,sBAAsB;AACtB,yBAAyB;AACzB,+BAA+B;AAC/B,uBAAuB;AACvB;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,uBAAuB;AAClC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW,aAAa;AACxB,WAAW,iCAAiC;AAC5C,YAAY,uBAAuB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,yCAAyC,kBAAkB;AAC3D;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,YAAY;AACvB,WAAW,QAAQ;AACnB,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,wDAAwD;AAC9H,WAAW,uBAAuB,8CAA8C,eAAe;AAC/F,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,8CAA8C,uBAAuB;AACrE;AACA;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACziBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,cAAc,mBAAO,CAAC,+CAAU;AAChC,2CAA2C;AAC3C,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gEAAgE,iCAAiC;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA6F,0BAA0B;AACvH;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oIAAoI,YAAY;AAChJ;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,sDAAsD,gEAAgE;AACtH;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,wFAAwF;AACxF,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,oCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACrNa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB,wBAAwB,mBAAO,CAAC,uDAAQ;AACxC,cAAc,mBAAO,CAAC,+CAAU;AAChC,gBAAgB,mBAAO,CAAC,iDAAY;AACpC;AACA;AACA;AACA,8EAA8E,wBAAwB,cAAc;AACpH,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,4DAA4D,uBAAuB;AACnF;AACA;AACA,CAAC;AACD,gBAAgB;AAChB,kCAAkC;AAClC;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjHa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,WAAW,GAAG,yBAAyB,GAAG,yBAAyB,GAAG,4BAA4B,GAAG,wBAAwB;AAC7H,aAAa,mBAAO,CAAC,uDAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,uBAAuB,KAAK,mCAAmC;AAC/D,kBAAkB;AAClB;AACA;AACA;AACA;AACA,CAAC;AACD,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzSa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,GAAG,qBAAqB,GAAG,kCAAkC,GAAG,uBAAuB,GAAG,6BAA6B,GAAG,oBAAoB,GAAG,oBAAoB,GAAG,oBAAoB,GAAG,gBAAgB,GAAG,gBAAgB,GAAG,2BAA2B;AACtR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,iDAAY;AACpC,aAAa,mBAAO,CAAC,8CAAS;AAC9B;AACA,qBAAqB;AACrB;AACA,sBAAsB;AACtB;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,WAAW,QAAQ,mCAAmC;AACtD,WAAW,QAAQ;AACnB,aAAa,wBAAwB,iCAAiC,mBAAmB;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,kCAAkC;AAClC;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,aAAa,gBAAgB;AAC7B,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,gBAAgB;;;;;;;;ACxMH;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,oBAAoB,mBAAO,CAAC,8DAAwB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iBAAiB;;;;;;;;AC1CJ;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,+CAAS;AAC/B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sDAAsD;AACrE,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,oEAAoE,UAAU;AAC9E;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sDAAsD;AACrE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,oEAAoE,UAAU;AAC9E;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0CAA0C;AAC1C;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,UAAU;AAC9E;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;ACpUF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,GAAG,uBAAuB,GAAG,oBAAoB,GAAG,YAAY,GAAG,oBAAoB,GAAG,kBAAkB,GAAG,iBAAiB;AAC7I,6BAA6B,mBAAO,CAAC,iDAAW;AAChD;AACA,gEAAgE,aAAa;AAC7E;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,8CAA8C,iBAAiB;AAC/D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,qGAAqG;AACrG;AACA;AACA,gBAAgB,8BAA8B;AAC9C,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,yBAAyB;AAC5E;AACA;AACA;AACA,CAAC;AACD,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iCAAiC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,aAAa;AACb;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,4BAA4B;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,kBAAe;;;;;;;;AC7dF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA,uCAAuC,mBAAO,CAAC,wDAAkB;AACjE,iBAAiB,mBAAO,CAAC,wDAAY;AACrC,cAAc,mBAAO,CAAC,+CAAS;AAC/B;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa;AACb;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B,+BAA+B,eAAe,oCAAoC;AAClF,kDAAkD,cAAc,UAAU,cAAc;AACxF,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAwC;AACvD,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,kBAAkB;AACjC;AACA;AACA,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,wBAAwB;AAC7D;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,uBAAuB;AACrE,8CAA8C;AAC9C,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qCAAqC,wBAAwB;AAC7D;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,0BAA0B;AAChF,8CAA8C;AAC9C,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,kCAAkC,oCAAoC;AACtE,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,wBAAwB,KAAK,mBAAmB;AACrF;AACA;AACA,iBAAiB,2DAA2D;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE,oCAAoC;AACpC;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G,mBAAmB;AAChI;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,kCAAkC;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,+EAA+E;AAC3I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,kCAAkC;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,qCAAqC,wBAAwB;AAC7D;AACA,eAAe,kBAAkB,8CAA8C,GAAG;AAClF;AACA,eAAe,iBAAiB,4BAA4B,GAAG;AAC/D,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,wBAAwB;AAC7D;AACA,eAAe,6BAA6B;AAC5C,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,0BAA0B;AACzC,eAAe,0BAA0B;AACzC,eAAe,kCAAkC;AACjD,eAAe,iBAAiB,4BAA4B,GAAG;AAC/D,gBAAgB;AAChB;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,SAAS;AACxB,iBAAiB,wCAAwC;AACzD;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,4DAA4D,oBAAoB;AAChF,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,QAAQ,8IAA8I;AAC1L,SAAS;AACT;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,iCAAiC,4BAA4B;AAC7D,aAAa;AACb;AACA,iCAAiC,4BAA4B;AAC7D,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA,gCAAgC,KAAK,EAAE,EAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;ACtnBF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,aAAa,mBAAO,CAAC,uDAAiB;AACtC,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,cAAc,mBAAO,CAAC,+CAAS;AAC/B,+BAA+B,mBAAO,CAAC,gDAAU;AACjD,0BAA0B,mBAAO,CAAC,oEAA8B;AAChE,6BAA6B,mBAAO,CAAC,uEAAiC;AACtE,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,4CAA4C,mBAAO,CAAC,6DAAuB;AAC3E,4CAA4C,mBAAO,CAAC,6DAAuB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,oBAAoB;AACnC,eAAe,WAAW;AAC1B,eAAe,QAAQ;AACvB,eAAe,QAAQ,eAAe;AACtC,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gCAAgC,UAAU;AAC7F;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,mBAAmB;AAClC,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,oDAAoD;AACrH;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,aAAa;AACb,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,8CAA8C,kCAAkC;AAChF,0CAA0C,wDAAwD,cAAc,KAAK;AACrH;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA,aAAa;AACb;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,wCAAwC;AACtF,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,IAAI;AACjB;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+GAA+G;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,kDAAkD;AACzG;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,mEAAmE,kBAAkB;AACrF;AACA,4EAA4E,6BAA6B;AACzG;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA,mEAAmE,kBAAkB;AACrF;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,2BAA2B;AACvG;AACA,eAAe,oCAAoC;AACnD,gBAAgB,kBAAkB;AAClC,eAAe,mBAAmB;AAClC,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,4BAA4B;AACxG;AACA,eAAe,oCAAoC;AACnD,gBAAgB,kBAAkB;AAClC,eAAe,mBAAmB;AAClC,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,gEAAgE;AAC/H;AACA;AACA,wCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2CAA2C;AAC1D,gBAAgB,kBAAkB;AAClC,eAAe,mBAAmB;AAClC,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2CAA2C;AAC1D,gBAAgB,kBAAkB;AAClC,eAAe,mBAAmB;AAClC,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,UAAU;AACzB,eAAe,wBAAwB;AACvC,iBAAiB;AACjB;AACA;AACA;AACA,+DAA+D,gEAAgE;AAC/H;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,0BAA0B;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;AC1jBF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,GAAG,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAO,CAAC,uDAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4JAA4J;AACjL,qBAAqB,sHAAsH;AAC3I;AACA;AACA,CAAC;AACD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2CAA2C,aAAa;AACxD,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,YAAY;AAC9D;AACA;AACA;AACA;AACA,eAAe;;;;;;;;ACtFF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,gBAAgB,GAAG,uBAAuB,GAAG,qBAAqB,GAAG,cAAc,GAAG,YAAY,GAAG,cAAc,GAAG,YAAY,GAAG,mBAAmB,GAAG,iBAAiB,GAAG,kBAAkB,GAAG,gBAAgB;AACzO,wBAAwB,mBAAO,CAAC,gEAA0B;AAC1D,aAAa,mBAAO,CAAC,uDAAiB;AACtC,cAAc,mBAAO,CAAC,+CAAS;AAC/B,6BAA6B,mBAAO,CAAC,iDAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB;AACA;AACA,2CAA2C,gBAAgB;AAC3D,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,eAAe;AACjE;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA,eAAe,aAAa;AAC5B,eAAe,2BAA2B;AAC1C,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;AACjB;AACA;AACA,2CAA2C,iBAAiB;AAC5D,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,gBAAgB;AAClE;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA,eAAe,aAAa;AAC5B,eAAe,2BAA2B;AAC1C,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,YAAY;AACZ;AACA;AACA,2CAA2C,YAAY;AACvD,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,WAAW;AAC7D;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA,eAAe,aAAa;AAC5B,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,YAAY;AACZ;AACA;AACA,2CAA2C,YAAY;AACvD,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,WAAW;AAC7D;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,YAAY,qBAAqB;AACjC;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA,eAAe,aAAa;AAC5B,eAAe,2BAA2B;AAC1C,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;AACA;AACA,2CAA2C,qBAAqB;AAChE,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,oBAAoB;AACtE;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC,eAAe,iBAAiB;AAChC;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC,eAAe,aAAa;AAC5B,eAAe,2BAA2B;AAC1C,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB;AACA;AACA,2CAA2C,gBAAgB;AAC3D,WAAW,QAAQ;AACnB,YAAY,SAAS,6BAA6B,eAAe;AACjE;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,gBAAgB;AAC3B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvmBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mDAAmD,gCAAgC,UAAU;AAC7F;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;;;;;;;;AC3DF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA,oCAAoC,mBAAO,CAAC,qDAAe;AAC3D;AACA,iBAAiB,4BAA4B,cAAc,mBAAmB;AAC9E;AACA,+FAA+F,mBAAmB;AAClH;AACA,sCAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,eAAe,YAAY;AAC3B,eAAe,gCAAgC;AAC/C,eAAe,YAAY;AAC3B;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD,eAAe,iBAAiB,4BAA4B,GAAG;AAC/D,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,WAAW,wPAAwP;AACtS;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kBAAe;;;;;;;;AC7KF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA,aAAa,mBAAO,CAAC,uDAAiB;AACtC,0BAA0B,mBAAO,CAAC,oEAA8B;AAChE,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,kBAAkB,mBAAO,CAAC,4DAAsB;AAChD,cAAc,mBAAO,CAAC,+CAAS;AAC/B,+BAA+B,mBAAO,CAAC,gDAAU;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,eAAe,YAAY;AAC3B,eAAe,gCAAgC;AAC/C,eAAe,YAAY;AAC3B;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,iCAAiC;AAChD,eAAe,UAAU;AACzB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa;AACb,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA;AACA;AACA,mCAAmC,+BAA+B;AAClE;AACA;AACA;AACA,mDAAmD,gCAAgC,UAAU;AAC7F;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,2DAA2D;AACrG;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAmB;AAC9D,4CAA4C;AAC5C,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAmB;AAC9D,4CAA4C;AAC5C,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,uCAAuC,cAAc,IAAI;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb,0CAA0C,wCAAwC,gCAAgC,IAAI;AACtH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8FAA8F;AAC9F;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,kBAAkB;AAC7B,WAAW,0BAA0B;AACrC,WAAW,gCAAgC;AAC3C,WAAW,kBAAkB;AAC7B,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA,gCAAgC,uCAAuC,cAAc,IAAI;AACzF;AACA;AACA,8CAA8C,qBAAqB;AACnE,kEAAkE,0BAA0B;AAC5F;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,kCAAkC,wCAAwC,gCAAgC,IAAI;AAC9G;AACA;AACA,mFAAmF;AACnF;AACA;AACA,KAAK;AACL;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,kBAAkB;AAC7B,YAAY,QAAQ;AACpB;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,KAAK;AACL;AACA,kBAAe;;;;;;;;AC1fF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;;;;;;;;ACnBhD;;AAEb,6BAA6B,mBAAO,CAAC,8CAA8C;;AAEnF,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB,GAAG,aAAa,GAAG,YAAY,GAAG,cAAc;;AAElE,8CAA8C,mBAAO,CAAC,uCAAuC;;AAE7F,2CAA2C,mBAAO,CAAC,oCAAoC;;AAEvF,wCAAwC,mBAAO,CAAC,iCAAiC;;AAEjF,yDAAyD,mBAAO,CAAC,kDAAkD;;AAEnH,8CAA8C,mBAAO,CAAC,uCAAuC;;AAE7F,uBAAuB,mBAAO,CAAC,+CAAmB;;AAElD,wCAAwC,mBAAO,CAAC,+CAAc;;AAE9D,iCAAiC,6DAA6D,yCAAyC,+DAA+D,iCAAiC,oEAAoE,2DAA2D,OAAO,yCAAyC;;AAEtZ,uCAAuC,wEAAwE,0CAA0C,8CAA8C,MAAM,4EAA4E,IAAI,eAAe,YAAY;;AAExT;AACA;AACA;AACA;AACA,mCAAmC,cAAc;AACjD,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb,YAAY;;AAEZ;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,aAAa;AACrB;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB,WAAW;AAC5B;AACA;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA;;;AAGA,cAAc;;AAEd;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,kBAAkB;;;;;;;ACvHL;;AAEb,6BAA6B,mBAAO,CAAC,8CAA8C;;AAEnF,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,wCAAuC;AACvC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,0CAAyC;AACzC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,iDAAgD;AAChD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,6CAA4C;AAC5C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sDAAqD;AACrD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,8CAA6C;AAC7C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,wCAAuC;AACvC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,gDAA+C;AAC/C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,wCAAuC;AACvC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,+CAA8C;AAC9C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,wCAAuC;AACvC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,yCAAwC;AACxC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,gDAA+C;AAC/C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,mDAAkD;AAClD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,0CAAyC;AACzC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,gDAA+C;AAC/C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,0CAAyC;AACzC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,iDAAgD;AAChD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,wDAAuD;AACvD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,6CAA4C;AAC5C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,iDAAgD;AAChD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,8CAA6C;AAC7C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,wCAAuC;AACvC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,+CAA8C;AAC9C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,uDAAsD;AACtD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,wCAAuC;AACvC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,mDAAkD;AAClD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,kBAAkB;AAClB,cAAc;AACd,yCAAwC;AACxC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,0BAA0B;AAC1B,uCAAsC;AACtC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,eAAe;AACf,0CAAyC;AACzC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,8CAA6C;AAC7C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,8CAA6C;AAC7C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,yCAAwC;AACxC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,mDAAkD;AAClD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,+CAA8C;AAC9C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,oDAAmD;AACnD;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,0CAAyC;AACzC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,aAAa,GAAG,gBAAgB,GAAG,eAAe,GAAG,eAAe,GAAG,eAAe;;AAEtF,0CAA0C,mBAAO,CAAC,4BAA4B;;AAE9E,gDAAgD,mBAAO,CAAC,yCAAyC;;AAEjG,cAAc,mBAAO,CAAC,2CAAU;;AAEhC,sCAAsC,mBAAO,CAAC,4CAAW;;AAEzD,uBAAuB,mBAAO,CAAC,+CAAmB;;AAElD,iCAAiC,mBAAO,CAAC,0DAA8B;;AAEvE,wCAAwC,mBAAO,CAAC,+CAAc;;AAE9D,4CAA4C,mBAAO,CAAC,mDAAkB;;AAEtE,mDAAmD,mBAAO,CAAC,2DAA0B;;AAErF,uCAAuC,mBAAO,CAAC,8CAAa;;AAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,cAAc,8CAA8C,eAAe,UAAU,aAAa;AAChK;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,oBAAoB,2CAA2C,YAAY;AACtF,WAAW,QAAQ;AACnB,aAAa;AACb;;AAEA;AACA;AACA;AACA,iDAAiD;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ;AACA,iDAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ,sCAAsC;AACzD,aAAa,MAAM;AACnB,YAAY,OAAO;AACnB;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,cAAc,kCAAkC;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,6CAA6C,eAAe;AAC5D;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,YAAY;AAC7E;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA,kEAAkE,YAAY,IAAI,eAAe;AACjG;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;;;;;;AC3uBL;;AAEb,6BAA6B,mBAAO,CAAC,8CAA8C;;AAEnF,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB;;AAElB,8CAA8C,mBAAO,CAAC,uCAAuC;;AAE7F,2CAA2C,mBAAO,CAAC,oCAAoC;;AAEvF,uBAAuB,mBAAO,CAAC,+CAAmB;;AAElD,YAAY,mBAAO,CAAC,MAAM;;AAE1B,iBAAiB,mBAAO,CAAC,gBAAgB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;;AAE3C,2CAA2C;;AAE3C;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED,kBAAkB;;AAElB;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC1Ia;;AAEb,6BAA6B,mBAAO,CAAC,8CAA8C;;AAEnF,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB;;AAElB,0CAA0C,mBAAO,CAAC,4BAA4B;;AAE9E,gDAAgD,mBAAO,CAAC,yCAAyC;;AAEjG,8CAA8C,mBAAO,CAAC,uCAAuC;;AAE7F,2CAA2C,mBAAO,CAAC,oCAAoC;;AAEvF,uBAAuB,mBAAO,CAAC,+CAAmB;;AAElD,YAAY,mBAAO,CAAC,MAAM;;AAE1B,iBAAiB,mBAAO,CAAC,gBAAgB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,oBAAoB;AACjC,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sBAAsB;AACrC;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA,4DAA4D,qBAAqB;AACjF;AACA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,iBAAiB;AACzF;AACA,iBAAiB,eAAe;AAChC;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,cAAc;AAC5E;AACA;AACA,iBAAiB,eAAe;AAChC;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB,kBAAkB,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;;AAEX;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED,kBAAkB;;AAElB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA,wEAAwE;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;;;;;;ACvgBY;;AAEb,6BAA6B,mBAAO,CAAC,8CAA8C;;AAEnF,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB;;AAElB,8CAA8C,mBAAO,CAAC,uCAAuC;;AAE7F,2CAA2C,mBAAO,CAAC,oCAAoC;;AAEvF,YAAY,mBAAO,CAAC,MAAM;;AAE1B,iBAAiB,mBAAO,CAAC,gBAAgB;;AAEzC,uCAAuC,mBAAO,CAAC,8CAAa;;AAE5D,uBAAuB,mBAAO,CAAC,+CAAmB;;AAElD,4CAA4C,mBAAO,CAAC,mDAAkB;;AAEtE,mDAAmD,mBAAO,CAAC,2DAA0B;;AAErF,2CAA2C,mBAAO,CAAC,4DAA2B;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,eAAe;AAChF;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA,qFAAqF;AACrF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,mBAAmB;AAChC,eAAe,UAAU;AACzB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,iBAAiB,2BAA2B;AAC5C;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA,4EAA4E,6BAA6B;AACzG,eAAe,0CAA0C;AACzD,eAAe,mBAAmB;AAClC,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,gDAAgD,aAAa;AAC7D;AACA;AACA,4EAA4E,8BAA8B;AAC1G,eAAe,0CAA0C;AACzD,eAAe,mBAAmB;AAClC,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA,eAAe,iDAAiD;AAChE,eAAe,mBAAmB;AAClC,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,gDAAgD,aAAa;AAC7D;AACA;AACA,eAAe,iDAAiD;AAChE,eAAe,mBAAmB;AAClC,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iDAAiD;AAChE,eAAe,mBAAmB;AAClC,iBAAiB;AACjB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C,YAAY,qBAAqB;AACjC;AACA;AACA;AACA;AACA,4EAA4E,+BAA+B;AAC3G;AACA;AACA,iBAAiB;AACjB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C,YAAY,qBAAqB;AACjC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,UAAU;AACV;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA,CAAC;;AAED,kBAAkB;;AAElB;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;AC7Ta;;AAEb,6BAA6B,mBAAO,CAAC,8CAA8C;;AAEnF,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB;;AAElB,8CAA8C,mBAAO,CAAC,uCAAuC;;AAE7F,2CAA2C,mBAAO,CAAC,oCAAoC;;AAEvF,uCAAuC,mBAAO,CAAC,8CAAa;;AAE5D,4CAA4C,mBAAO,CAAC,mDAAkB;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,eAAe;AAC5B,eAAe,sBAAsB;AACrC;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA,kBAAkB;;;;;;;ACrFL;;AAEb,6BAA6B,mBAAO,CAAC,8CAA8C;;AAEnF,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB;;AAElB,8CAA8C,mBAAO,CAAC,uCAAuC;;AAE7F,2CAA2C,mBAAO,CAAC,oCAAoC;;AAEvF,YAAY,mBAAO,CAAC,MAAM;;AAE1B,uCAAuC,mBAAO,CAAC,8CAAa;;AAE5D,8CAA8C,mBAAO,CAAC,+CAAmB;;AAEzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qEAAqE,mBAAmB;AACxF;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA,CAAC;;AAED,kBAAkB;;;;;;;ACzJL;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;;;;;;;;;;;AClClB,uDAAiD;AAEjD,kFAA2C;AAGpC,IAAM,aAAa,GAAnB,MAAM,aAAa;IACxB,YAA6B,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAA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","sources":["webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-util.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v1.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v2.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v3.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x0.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x1.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x2.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x3.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v4x4.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/bolt-protocol-v5x0.utc.transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/create.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/handshake.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/request-message.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/response-handler.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/routing-table-raw.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/stream-observers.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/temporal-factory.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/bolt/transformer.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/buf/base-buf.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/buf/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-buf.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/channel-config.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/chunking.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/combined-buf.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-channel.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/node/node-host-name-resolver.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/channel/utf8.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-direct.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-pooled.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-routing.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/connection-provider-single.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection-provider/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-channel.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-delegate.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection-error-handler.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection/connection.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/connection/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/lang/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/least-connected-load-balancing-strategy.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/load-balancing-strategy.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/load-balancing/round-robin-array-index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/packstream/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v1.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/packstream/packstream-v2.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/packstream/structure.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/pool/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool-config.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/pool/pool.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/index.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/rediscovery.js","webpack://uc-app/./node_modules/neo4j-driver-bolt-connection/lib/rediscovery/routing-table.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/auth.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/bookmark-manager.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/connection-provider.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/connection.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/driver.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/error.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/graph-types.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/index.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/integer.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/bookmarks.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/connection-holder.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/constants.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/index.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/logger.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/object-util.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/observers.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/resolver/base-host-name-resolver.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/resolver/configured-custom-resolver.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/resolver/index.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/server-address.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/temporal-util.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/transaction-executor.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/tx-config.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/url-util.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/internal/util.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/json.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/record.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/result-summary.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/result.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/session.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/spatial-types.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/temporal-types.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/transaction-managed.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/transaction-promise.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/transaction.js","webpack://uc-app/./node_modules/neo4j-driver-core/lib/types.js","webpack://uc-app/./node_modules/neo4j-driver/lib/driver.js","webpack://uc-app/./node_modules/neo4j-driver/lib/index.js","webpack://uc-app/./node_modules/neo4j-driver/lib/internal/retry-logic-rx.js","webpack://uc-app/./node_modules/neo4j-driver/lib/result-rx.js","webpack://uc-app/./node_modules/neo4j-driver/lib/session-rx.js","webpack://uc-app/./node_modules/neo4j-driver/lib/transaction-managed-rx.js","webpack://uc-app/./node_modules/neo4j-driver/lib/transaction-rx.js","webpack://uc-app/./node_modules/neo4j-driver/lib/version.js","webpack://uc-app/./apps/uc-api/src/app/app.controller.ts","webpack://uc-app/./apps/uc-api/src/app/app.module.ts","webpack://uc-app/./apps/uc-api/src/app/app.service.ts","webpack://uc-app/./apps/uc-api/src/app/auth/auth.module.ts","webpack://uc-app/./apps/uc-api/src/app/auth/auth.service.ts","webpack://uc-app/./apps/uc-api/src/app/auth/roles/role.enum.ts","webpack://uc-app/./apps/uc-api/src/app/auth/roles/roles.decorator.ts","webpack://uc-app/./apps/uc-api/src/app/auth/roles/roles.guard.ts","webpack://uc-app/./apps/uc-api/src/app/auth/strategies/jwt.strategy.ts","webpack://uc-app/./apps/uc-api/src/app/auth/strategies/local.strategy.ts","webpack://uc-app/./apps/uc-api/src/app/category/category.controller.ts","webpack://uc-app/./apps/uc-api/src/app/category/category.dto.ts","webpack://uc-app/./apps/uc-api/src/app/category/category.module.ts","webpack://uc-app/./apps/uc-api/src/app/category/category.schema.ts","webpack://uc-app/./apps/uc-api/src/app/category/category.service.ts","webpack://uc-app/./apps/uc-api/src/app/comment/comment.controller.ts","webpack://uc-app/./apps/uc-api/src/app/comment/comment.dto.ts","webpack://uc-app/./apps/uc-api/src/app/comment/comment.module.ts","webpack://uc-app/./apps/uc-api/src/app/comment/comment.service.ts","webpack://uc-app/./apps/uc-api/src/app/icon/icon.controller.ts","webpack://uc-app/./apps/uc-api/src/app/icon/icon.module.ts","webpack://uc-app/./apps/uc-api/src/app/icon/icon.schema.ts","webpack://uc-app/./apps/uc-api/src/app/icon/icon.service.ts","webpack://uc-app/./apps/uc-api/src/app/neo4j/neo4j.module.ts","webpack://uc-app/./apps/uc-api/src/app/neo4j/neo4j.service.ts","webpack://uc-app/./apps/uc-api/src/app/neo4j/neo4j.util.ts","webpack://uc-app/./apps/uc-api/src/app/product/product.controller.ts","webpack://uc-app/./apps/uc-api/src/app/product/product.dto.ts","webpack://uc-app/./apps/uc-api/src/app/product/product.module.ts","webpack://uc-app/./apps/uc-api/src/app/product/product.schema.ts","webpack://uc-app/./apps/uc-api/src/app/product/product.service.ts","webpack://uc-app/./apps/uc-api/src/app/user/dtos/loginUser.dto.ts","webpack://uc-app/./apps/uc-api/src/app/user/dtos/registerUser.dto.ts","webpack://uc-app/./apps/uc-api/src/app/user/user.controller.ts","webpack://uc-app/./apps/uc-api/src/app/user/user.module.ts","webpack://uc-app/./apps/uc-api/src/app/user/user.schema.ts","webpack://uc-app/./apps/uc-api/src/app/user/user.service.ts","webpack://uc-app/external commonjs \"@babel/runtime/helpers/asyncToGenerator\"","webpack://uc-app/external commonjs \"@babel/runtime/helpers/classCallCheck\"","webpack://uc-app/external commonjs \"@babel/runtime/helpers/createClass\"","webpack://uc-app/external commonjs \"@babel/runtime/helpers/getPrototypeOf\"","webpack://uc-app/external commonjs \"@babel/runtime/helpers/inherits\"","webpack://uc-app/external commonjs \"@babel/runtime/helpers/interopRequireDefault\"","webpack://uc-app/external commonjs \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack://uc-app/external commonjs \"@babel/runtime/regenerator\"","webpack://uc-app/external commonjs \"@nestjs/common\"","webpack://uc-app/external commonjs \"@nestjs/core\"","webpack://uc-app/external commonjs \"@nestjs/jwt\"","webpack://uc-app/external commonjs \"@nestjs/mongoose\"","webpack://uc-app/external commonjs \"@nestjs/passport\"","webpack://uc-app/external commonjs \"bcrypt\"","webpack://uc-app/external commonjs \"buffer\"","webpack://uc-app/external commonjs \"mongoose\"","webpack://uc-app/external commonjs \"passport-jwt\"","webpack://uc-app/external commonjs \"passport-local\"","webpack://uc-app/external commonjs \"rxjs\"","webpack://uc-app/external commonjs \"rxjs/operators\"","webpack://uc-app/external commonjs \"string_decoder\"","webpack://uc-app/external commonjs \"tslib\"","webpack://uc-app/external node-commonjs \"dns\"","webpack://uc-app/external node-commonjs \"fs\"","webpack://uc-app/external node-commonjs \"net\"","webpack://uc-app/external node-commonjs \"tls\"","webpack://uc-app/webpack/bootstrap","webpack://uc-app/./apps/uc-api/src/main.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assertImpersonatedUserIsEmpty = exports.assertTxConfigIsEmpty = exports.assertDatabaseIsEmpty = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n/**\n * @param {TxConfig} txConfig the auto-commit transaction configuration.\n * @param {function(error: string)} onProtocolError called when the txConfig is not empty.\n * @param {ResultStreamObserver} observer the response observer.\n */\nfunction assertTxConfigIsEmpty(txConfig, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (txConfig && !txConfig.isEmpty()) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support transaction configuration. ' +\n            'Please upgrade to neo4j 3.5.0 or later in order to use this functionality');\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertTxConfigIsEmpty = assertTxConfigIsEmpty;\n/**\n * Asserts that the passed-in database name is empty.\n * @param {string} database\n * @param {fuction(err: String)} onProtocolError Called when it doesn't have database set\n */\nfunction assertDatabaseIsEmpty(database, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (database) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support multiple databases. ' +\n            'Please upgrade to neo4j 4.0.0 or later in order to use this functionality');\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertDatabaseIsEmpty = assertDatabaseIsEmpty;\n/**\n * Asserts that the passed-in impersonated user is empty\n * @param {string} impersonatedUser\n * @param {function (err:Error)} onProtocolError Called when it does have impersonated user set\n * @param {any} observer\n */\nfunction assertImpersonatedUserIsEmpty(impersonatedUser, onProtocolError, observer) {\n    if (onProtocolError === void 0) { onProtocolError = function () { }; }\n    if (impersonatedUser) {\n        var error = (0, neo4j_driver_core_1.newError)('Driver is connected to the database that does not support user impersonation. ' +\n            'Please upgrade to neo4j 4.4.0 or later in order to use this functionality. ' +\n            \"Trying to impersonate \".concat(impersonatedUser, \".\"));\n        // unsupported API was used, consider this a fatal error for the current connection\n        onProtocolError(error.message);\n        observer.onError(error);\n        throw error;\n    }\n}\nexports.assertImpersonatedUserIsEmpty = assertImpersonatedUserIsEmpty;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_util_1 = require(\"./bolt-protocol-util\");\nvar packstream_1 = require(\"../packstream\");\nvar request_message_1 = __importDefault(require(\"./request-message\"));\nvar stream_observers_1 = require(\"./stream-observers\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar bolt_protocol_v1_transformer_1 = __importDefault(require(\"./bolt-protocol-v1.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, ACCESS_MODE_WRITE = _a.ACCESS_MODE_WRITE, BOLT_PROTOCOL_V1 = _a.BOLT_PROTOCOL_V1, Logger = neo4j_driver_core_1.internal.logger.Logger, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar BoltProtocol = /** @class */ (function () {\n    /**\n     * @callback CreateResponseHandler Creates the response handler\n     * @param {BoltProtocol} protocol The bolt protocol\n     * @returns {ResponseHandler} The response handler\n     */\n    /**\n     * @callback OnProtocolError Handles protocol error\n     * @param {string} error The description\n     */\n    /**\n     * @constructor\n     * @param {Object} server the server informatio.\n     * @param {Chunker} chunker the chunker.\n     * @param {Object} packstreamConfig Packstream configuration\n     * @param {boolean} packstreamConfig.disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n     * @param {CreateResponseHandler} createResponseHandler Function which creates the response handler\n     * @param {Logger} log the logger\n     * @param {OnProtocolError} onProtocolError handles protocol errors\n     */\n    function BoltProtocol(server, chunker, _a, createResponseHandler, log, onProtocolError) {\n        var _b = _a === void 0 ? {} : _a, disableLosslessIntegers = _b.disableLosslessIntegers, useBigInt = _b.useBigInt;\n        if (createResponseHandler === void 0) { createResponseHandler = function () { return null; }; }\n        this._server = server || {};\n        this._chunker = chunker;\n        this._packer = this._createPacker(chunker);\n        this._unpacker = this._createUnpacker(disableLosslessIntegers, useBigInt);\n        this._responseHandler = createResponseHandler(this);\n        this._log = log;\n        this._onProtocolError = onProtocolError;\n        this._fatalError = null;\n        this._lastMessageSignature = null;\n        this._config = { disableLosslessIntegers: disableLosslessIntegers, useBigInt: useBigInt };\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        /**\n         * Returns the numerical version identifier for this protocol\n         */\n        get: function () {\n            return BOLT_PROTOCOL_V1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Get the packer.\n     * @return {Packer} the protocol's packer.\n     */\n    BoltProtocol.prototype.packer = function () {\n        return this._packer;\n    };\n    /**\n     * Creates a packable function out of the provided value\n     * @param x the value to pack\n     * @returns Function\n     */\n    BoltProtocol.prototype.packable = function (x) {\n        return this._packer.packable(x, this.transformer.toStructure);\n    };\n    /**\n     * Get the unpacker.\n     * @return {Unpacker} the protocol's unpacker.\n     */\n    BoltProtocol.prototype.unpacker = function () {\n        return this._unpacker;\n    };\n    /**\n     * Unpack a buffer\n     * @param {Buffer} buf\n     * @returns {any|null} The unpacked value\n     */\n    BoltProtocol.prototype.unpack = function (buf) {\n        return this._unpacker.unpack(buf, this.transformer.fromStructure);\n    };\n    /**\n     * Transform metadata received in SUCCESS message before it is passed to the handler.\n     * @param {Object} metadata the received metadata.\n     * @return {Object} transformed metadata.\n     */\n    BoltProtocol.prototype.transformMetadata = function (metadata) {\n        return metadata;\n    };\n    /**\n     * Perform initialization and authentication of the underlying connection.\n     * @param {Object} param\n     * @param {string} param.userAgent the user agent.\n     * @param {Object} param.authToken the authentication token.\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, authToken = _b.authToken, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, onComplete); }\n        });\n        this.write(request_message_1.default.init(userAgent, authToken), observer, true);\n        return observer;\n    };\n    /**\n     * Perform protocol related operations for closing this connection\n     */\n    BoltProtocol.prototype.prepareToClose = function () {\n        // no need to notify the database in this protocol version\n    };\n    /**\n     * Begin an explicit transaction.\n     * @param {Object} param\n     * @param {Bookmarks} param.bookmarks the bookmarks.\n     * @param {TxConfig} param.txConfig the configuration.\n     * @param {string} param.database the target database name.\n     * @param {string} param.mode the access mode.\n     * @param {string} param.impersonatedUser the impersonated user\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        return this.run('BEGIN', bookmarks ? bookmarks.asBeginTransactionParameters() : {}, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            flush: false\n        });\n    };\n    /**\n     * Commit the explicit transaction.\n     * @param {Object} param\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.commitTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        // WRITE access mode is used as a place holder here, it has\n        // no effect on behaviour for Bolt V1 & V2\n        return this.run('COMMIT', {}, {\n            bookmarks: Bookmarks.empty(),\n            txConfig: TxConfig.empty(),\n            mode: ACCESS_MODE_WRITE,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n    };\n    /**\n     * Rollback the explicit transaction.\n     * @param {Object} param\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.rollbackTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        // WRITE access mode is used as a place holder here, it has\n        // no effect on behaviour for Bolt V1 & V2\n        return this.run('ROLLBACK', {}, {\n            bookmarks: Bookmarks.empty(),\n            txConfig: TxConfig.empty(),\n            mode: ACCESS_MODE_WRITE,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n    };\n    /**\n     * Send a Cypher query through the underlying connection.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @param {Object} param\n     * @param {Bookmarks} param.bookmarks the bookmarks.\n     * @param {TxConfig} param.txConfig the transaction configuration.\n     * @param {string} param.database the target database name.\n     * @param {string} param.impersonatedUser the impersonated user\n     * @param {string} param.mode the access mode.\n     * @param {function(keys: string[])} param.beforeKeys the callback to invoke before handling the keys.\n     * @param {function(keys: string[])} param.afterKeys the callback to invoke after handling the keys.\n     * @param {function(err: Error)} param.beforeError the callback to invoke before handling the error.\n     * @param {function(err: Error)} param.afterError the callback to invoke after handling the error.\n     * @param {function()} param.beforeComplete the callback to invoke before handling the completion.\n     * @param {function()} param.afterComplete the callback to invoke after handling the completion.\n     * @param {boolean} param.flush whether to flush the buffered messages.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.highRecordWatermark, highRecordWatermark = _d === void 0 ? Number.MAX_VALUE : _d, _e = _b.lowRecordWatermark, lowRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // bookmarks and mode are ignored in this version of the protocol\n        (0, bolt_protocol_util_1.assertTxConfigIsEmpty)(txConfig, this._onProtocolError, observer);\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        this.write(request_message_1.default.run(query, parameters), observer, false);\n        this.write(request_message_1.default.pullAll(), observer, flush);\n        return observer;\n    };\n    Object.defineProperty(BoltProtocol.prototype, \"currentFailure\", {\n        get: function () {\n            return this._responseHandler.currentFailure;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send a RESET through the underlying connection.\n     * @param {Object} param\n     * @param {function(err: Error)} param.onError the callback to invoke on error.\n     * @param {function()} param.onComplete the callback to invoke on completion.\n     * @returns {StreamObserver} the stream observer that monitors the corresponding server response.\n     */\n    BoltProtocol.prototype.reset = function (_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.ResetObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onComplete: onComplete\n        });\n        this.write(request_message_1.default.reset(), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype._createPacker = function (chunker) {\n        return new packstream_1.v1.Packer(chunker);\n    };\n    BoltProtocol.prototype._createUnpacker = function (disableLosslessIntegers, useBigInt) {\n        return new packstream_1.v1.Unpacker(disableLosslessIntegers, useBigInt);\n    };\n    /**\n     * Write a message to the network channel.\n     * @param {RequestMessage} message the message to write.\n     * @param {StreamObserver} observer the response observer.\n     * @param {boolean} flush `true` if flush should happen after the message is written to the buffer.\n     */\n    BoltProtocol.prototype.write = function (message, observer, flush) {\n        var queued = this.queueObserverIfProtocolIsNotBroken(observer);\n        if (queued) {\n            if (this._log.isDebugEnabled()) {\n                this._log.debug(\"C: \".concat(message));\n            }\n            this._lastMessageSignature = message.signature;\n            var messageStruct = new packstream_1.structure.Structure(message.signature, message.fields);\n            this.packable(messageStruct)();\n            this._chunker.messageBoundary();\n            if (flush) {\n                this._chunker.flush();\n            }\n        }\n    };\n    BoltProtocol.prototype.isLastMessageLogin = function () {\n        return this._lastMessageSignature === 0x01;\n    };\n    BoltProtocol.prototype.isLastMessageReset = function () {\n        return this._lastMessageSignature === 0x0f;\n    };\n    /**\n     * Notifies faltal erros to the observers and mark the protocol in the fatal error state.\n     * @param {Error} error The error\n     */\n    BoltProtocol.prototype.notifyFatalError = function (error) {\n        this._fatalError = error;\n        return this._responseHandler._notifyErrorToObservers(error);\n    };\n    /**\n     * Updates the the current observer with the next one on the queue.\n     */\n    BoltProtocol.prototype.updateCurrentObserver = function () {\n        return this._responseHandler._updateCurrentObserver();\n    };\n    /**\n     * Checks if exist an ongoing observable requests\n     * @return {boolean}\n     */\n    BoltProtocol.prototype.hasOngoingObservableRequests = function () {\n        return this._responseHandler.hasOngoingObservableRequests();\n    };\n    /**\n     * Enqueue the observer if the protocol is not broken.\n     * In case it's broken, the observer will be notified about the error.\n     *\n     * @param {StreamObserver} observer The observer\n     * @returns {boolean} if it was queued\n     */\n    BoltProtocol.prototype.queueObserverIfProtocolIsNotBroken = function (observer) {\n        if (this.isBroken()) {\n            this.notifyFatalErrorToObserver(observer);\n            return false;\n        }\n        return this._responseHandler._queueObserver(observer);\n    };\n    /**\n     * Veritfy the protocol is not broken.\n     * @returns {boolean}\n     */\n    BoltProtocol.prototype.isBroken = function () {\n        return !!this._fatalError;\n    };\n    /**\n     * Notifies the current fatal error to the observer\n     *\n     * @param {StreamObserver} observer The observer\n     */\n    BoltProtocol.prototype.notifyFatalErrorToObserver = function (observer) {\n        if (observer && observer.onError) {\n            observer.onError(this._fatalError);\n        }\n    };\n    /**\n     * Reset current failure on the observable response handler to null.\n     */\n    BoltProtocol.prototype.resetFailure = function () {\n        this._responseHandler._resetFailure();\n    };\n    BoltProtocol.prototype._onLoginCompleted = function (metadata, onCompleted) {\n        if (metadata) {\n            var serverVersion = metadata.server;\n            if (!this._server.version) {\n                this._server.version = serverVersion;\n            }\n        }\n        if (onCompleted) {\n            onCompleted(metadata);\n        }\n    };\n    BoltProtocol.prototype._onLoginError = function (error, onError) {\n        this._onProtocolError(error.message);\n        if (onError) {\n            onError(error);\n        }\n    };\n    return BoltProtocol;\n}());\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar packstream_1 = require(\"../packstream\");\nvar transformer_1 = require(\"./transformer\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar NODE = 0x4e;\nvar NODE_STRUCT_SIZE = 3;\nvar RELATIONSHIP = 0x52;\nvar RELATIONSHIP_STRUCT_SIZE = 5;\nvar UNBOUND_RELATIONSHIP = 0x72;\nvar UNBOUND_RELATIONSHIP_STRUCT_SIZE = 3;\nvar PATH = 0x50;\nvar PATH_STRUCT_SIZE = 3;\n/**\n * Creates the Node Transformer\n * @returns {TypeTransformer}\n */\nfunction createNodeTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: NODE,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Node; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass nodes in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Node', NODE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), identity = _a[0], labels = _a[1], properties = _a[2];\n            return new neo4j_driver_core_1.Node(identity, labels, properties);\n        }\n    });\n}\n/**\n * Creates the Relationship Transformer\n * @returns {TypeTransformer}\n */\nfunction createRelationshipTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: RELATIONSHIP,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Relationship; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass relationships in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Relationship', RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 5), identity = _a[0], startNodeIdentity = _a[1], endNodeIdentity = _a[2], type = _a[3], properties = _a[4];\n            return new neo4j_driver_core_1.Relationship(identity, startNodeIdentity, endNodeIdentity, type, properties);\n        }\n    });\n}\n/**\n * Creates the Unbound Relationship Transformer\n * @returns {TypeTransformer}\n */\nfunction createUnboundRelationshipTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: UNBOUND_RELATIONSHIP,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.UnboundRelationship; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass unbound relationships in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('UnboundRelationship', UNBOUND_RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), identity = _a[0], type = _a[1], properties = _a[2];\n            return new neo4j_driver_core_1.UnboundRelationship(identity, type, properties);\n        }\n    });\n}\n/**\n * Creates the Path Transformer\n * @returns {TypeTransformer}\n */\nfunction createPathTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: PATH,\n        isTypeInstance: function (object) { return object instanceof neo4j_driver_core_1.Path; },\n        toStructure: function (object) {\n            throw (0, neo4j_driver_core_1.newError)(\"It is not allowed to pass paths in query parameters, given: \".concat(object), PROTOCOL_ERROR);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Path', PATH_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), nodes = _a[0], rels = _a[1], sequence = _a[2];\n            var segments = [];\n            var prevNode = nodes[0];\n            for (var i = 0; i < sequence.length; i += 2) {\n                var nextNode = nodes[sequence[i + 1]];\n                var relIndex = (0, neo4j_driver_core_1.toNumber)(sequence[i]);\n                var rel = void 0;\n                if (relIndex > 0) {\n                    rel = rels[relIndex - 1];\n                    if (rel instanceof neo4j_driver_core_1.UnboundRelationship) {\n                        // To avoid duplication, relationships in a path do not contain\n                        // information about their start and end nodes, that's instead\n                        // inferred from the path sequence. This is us inferring (and,\n                        // for performance reasons remembering) the start/end of a rel.\n                        rels[relIndex - 1] = rel = rel.bindTo(prevNode, nextNode);\n                    }\n                }\n                else {\n                    rel = rels[-relIndex - 1];\n                    if (rel instanceof neo4j_driver_core_1.UnboundRelationship) {\n                        // See above\n                        rels[-relIndex - 1] = rel = rel.bindTo(nextNode, prevNode);\n                    }\n                }\n                // Done hydrating one path segment.\n                segments.push(new neo4j_driver_core_1.PathSegment(prevNode, rel, nextNode));\n                prevNode = nextNode;\n            }\n            return new neo4j_driver_core_1.Path(nodes[0], nodes[nodes.length - 1], segments);\n        }\n    });\n}\nexports.default = {\n    createNodeTransformer: createNodeTransformer,\n    createRelationshipTransformer: createRelationshipTransformer,\n    createUnboundRelationshipTransformer: createUnboundRelationshipTransformer,\n    createPathTransformer: createPathTransformer\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v1_1 = __importDefault(require(\"./bolt-protocol-v1\"));\nvar packstream_1 = __importDefault(require(\"../packstream\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar bolt_protocol_v2_transformer_1 = __importDefault(require(\"./bolt-protocol-v2.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar BOLT_PROTOCOL_V2 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V2;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BoltProtocol.prototype._createPacker = function (chunker) {\n        return new packstream_1.default.Packer(chunker);\n    };\n    BoltProtocol.prototype._createUnpacker = function (disableLosslessIntegers, useBigInt) {\n        return new packstream_1.default.Unpacker(disableLosslessIntegers, useBigInt);\n    };\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BoltProtocol;\n}(bolt_protocol_v1_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar packstream_1 = require(\"../packstream\");\nvar transformer_1 = require(\"./transformer\");\nvar temporal_factory_1 = require(\"./temporal-factory\");\nvar bolt_protocol_v1_transformer_1 = __importDefault(require(\"./bolt-protocol-v1.transformer\"));\nvar _a = neo4j_driver_core_1.internal.temporalUtil, dateToEpochDay = _a.dateToEpochDay, localDateTimeToEpochSecond = _a.localDateTimeToEpochSecond, localTimeToNanoOfDay = _a.localTimeToNanoOfDay;\nvar POINT_2D = 0x58;\nvar POINT_2D_STRUCT_SIZE = 3;\nvar POINT_3D = 0x59;\nvar POINT_3D_STRUCT_SIZE = 4;\nvar DURATION = 0x45;\nvar DURATION_STRUCT_SIZE = 4;\nvar LOCAL_TIME = 0x74;\nvar LOCAL_TIME_STRUCT_SIZE = 1;\nvar TIME = 0x54;\nvar TIME_STRUCT_SIZE = 2;\nvar DATE = 0x44;\nvar DATE_STRUCT_SIZE = 1;\nvar LOCAL_DATE_TIME = 0x64;\nvar LOCAL_DATE_TIME_STRUCT_SIZE = 2;\nvar DATE_TIME_WITH_ZONE_OFFSET = 0x46;\nvar DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE = 3;\nvar DATE_TIME_WITH_ZONE_ID = 0x66;\nvar DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE = 3;\n/**\n * Creates the Point2D Transformer\n * @returns {TypeTransformer}\n */\nfunction createPoint2DTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: POINT_2D,\n        isTypeInstance: function (point) { return (0, neo4j_driver_core_1.isPoint)(point) && (point.z === null || point.z === undefined); },\n        toStructure: function (point) { return new packstream_1.structure.Structure(POINT_2D, [\n            (0, neo4j_driver_core_1.int)(point.srid),\n            point.x,\n            point.y\n        ]); },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Point2D', POINT_2D_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), srid = _a[0], x = _a[1], y = _a[2];\n            return new neo4j_driver_core_1.Point(srid, x, y, undefined // z\n            );\n        }\n    });\n}\n/**\n * Creates the Point3D Transformer\n * @returns {TypeTransformer}\n */\nfunction createPoint3DTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: POINT_3D,\n        isTypeInstance: function (point) { return (0, neo4j_driver_core_1.isPoint)(point) && point.z !== null && point.z !== undefined; },\n        toStructure: function (point) { return new packstream_1.structure.Structure(POINT_3D, [\n            (0, neo4j_driver_core_1.int)(point.srid),\n            point.x,\n            point.y,\n            point.z\n        ]); },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Point3D', POINT_3D_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), srid = _a[0], x = _a[1], y = _a[2], z = _a[3];\n            return new neo4j_driver_core_1.Point(srid, x, y, z);\n        }\n    });\n}\n/**\n * Creates the Duration Transformer\n * @returns {TypeTransformer}\n */\nfunction createDurationTransformer() {\n    return new transformer_1.TypeTransformer({\n        signature: DURATION,\n        isTypeInstance: neo4j_driver_core_1.isDuration,\n        toStructure: function (value) {\n            var months = (0, neo4j_driver_core_1.int)(value.months);\n            var days = (0, neo4j_driver_core_1.int)(value.days);\n            var seconds = (0, neo4j_driver_core_1.int)(value.seconds);\n            var nanoseconds = (0, neo4j_driver_core_1.int)(value.nanoseconds);\n            return new packstream_1.structure.Structure(DURATION, [months, days, seconds, nanoseconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Duration', DURATION_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), months = _a[0], days = _a[1], seconds = _a[2], nanoseconds = _a[3];\n            return new neo4j_driver_core_1.Duration(months, days, seconds, nanoseconds);\n        }\n    });\n}\n/**\n * Creates the LocalTime Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createLocalTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: LOCAL_TIME,\n        isTypeInstance: neo4j_driver_core_1.isLocalTime,\n        toStructure: function (value) {\n            var nanoOfDay = localTimeToNanoOfDay(value.hour, value.minute, value.second, value.nanosecond);\n            return new packstream_1.structure.Structure(LOCAL_TIME, [nanoOfDay]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('LocalTime', LOCAL_TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 1), nanoOfDay = _a[0];\n            var result = (0, temporal_factory_1.nanoOfDayToLocalTime)(nanoOfDay);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the Time Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: TIME,\n        isTypeInstance: neo4j_driver_core_1.isTime,\n        toStructure: function (value) {\n            var nanoOfDay = localTimeToNanoOfDay(value.hour, value.minute, value.second, value.nanosecond);\n            var offsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(TIME, [nanoOfDay, offsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Time', TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 2), nanoOfDay = _a[0], offsetSeconds = _a[1];\n            var localTime = (0, temporal_factory_1.nanoOfDayToLocalTime)(nanoOfDay);\n            var result = new neo4j_driver_core_1.Time(localTime.hour, localTime.minute, localTime.second, localTime.nanosecond, offsetSeconds);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the Date Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE,\n        isTypeInstance: neo4j_driver_core_1.isDate,\n        toStructure: function (value) {\n            var epochDay = dateToEpochDay(value.year, value.month, value.day);\n            return new packstream_1.structure.Structure(DATE, [epochDay]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Date', DATE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 1), epochDay = _a[0];\n            var result = (0, temporal_factory_1.epochDayToDate)(epochDay);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the LocalDateTime Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createLocalDateTimeTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: LOCAL_DATE_TIME,\n        isTypeInstance: neo4j_driver_core_1.isLocalDateTime,\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            return new packstream_1.structure.Structure(LOCAL_DATE_TIME, [epochSecond, nano]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('LocalDateTime', LOCAL_DATE_TIME_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 2), epochSecond = _a[0], nano = _a[1];\n            var result = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the DateTime with ZoneId Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTimeWithZoneIdTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE_TIME_WITH_ZONE_ID,\n        isTypeInstance: function (object) { return (0, neo4j_driver_core_1.isDateTime)(object) && object.timeZoneId != null; },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneId = value.timeZoneId;\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_ID, [epochSecond, nano, timeZoneId]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneId', DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneId = _a[2];\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, null, timeZoneId);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\n/**\n * Creates the DateTime with Offset Transformer\n * @param {Object} param\n * @param {boolean} param.disableLosslessIntegers Disables lossless integers\n * @param {boolean} param.useBigInt Uses BigInt instead of number or Integer\n * @returns {TypeTransformer}\n */\nfunction createDateTimeWithOffsetTransformer(_a) {\n    var disableLosslessIntegers = _a.disableLosslessIntegers, useBigInt = _a.useBigInt;\n    return new transformer_1.TypeTransformer({\n        signature: DATE_TIME_WITH_ZONE_OFFSET,\n        isTypeInstance: function (object) { return (0, neo4j_driver_core_1.isDateTime)(object) && object.timeZoneId == null; },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneOffsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET, [epochSecond, nano, timeZoneOffsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneOffset', DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneOffsetSeconds = _a[2];\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, timeZoneOffsetSeconds, null);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\nfunction convertIntegerPropsIfNeeded(obj, disableLosslessIntegers, useBigInt) {\n    if (!disableLosslessIntegers && !useBigInt) {\n        return obj;\n    }\n    var convert = function (value) {\n        return useBigInt ? value.toBigInt() : value.toNumberOrInfinity();\n    };\n    var clone = Object.create(Object.getPrototypeOf(obj));\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop) === true) {\n            var value = obj[prop];\n            clone[prop] = (0, neo4j_driver_core_1.isInt)(value) ? convert(value) : value;\n        }\n    }\n    Object.freeze(clone);\n    return clone;\n}\nexports.default = __assign(__assign({}, bolt_protocol_v1_transformer_1.default), { createPoint2DTransformer: createPoint2DTransformer, createPoint3DTransformer: createPoint3DTransformer, createDurationTransformer: createDurationTransformer, createLocalTimeTransformer: createLocalTimeTransformer, createTimeTransformer: createTimeTransformer, createDateTransformer: createDateTransformer, createLocalDateTimeTransformer: createLocalDateTimeTransformer, createDateTimeWithZoneIdTransformer: createDateTimeWithZoneIdTransformer, createDateTimeWithOffsetTransformer: createDateTimeWithOffsetTransformer });\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v2_1 = __importDefault(require(\"./bolt-protocol-v2\"));\nvar request_message_1 = __importDefault(require(\"./request-message\"));\nvar bolt_protocol_util_1 = require(\"./bolt-protocol-util\");\nvar stream_observers_1 = require(\"./stream-observers\");\nvar bolt_protocol_v3_transformer_1 = __importDefault(require(\"./bolt-protocol-v3.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, BOLT_PROTOCOL_V3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V3, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar CONTEXT = 'context';\nvar CALL_GET_ROUTING_TABLE = \"CALL dbms.cluster.routing.getRoutingTable($\".concat(CONTEXT, \")\");\nvar noOpObserver = new stream_observers_1.StreamObserver();\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.transformMetadata = function (metadata) {\n        if ('t_first' in metadata) {\n            // Bolt V3 uses shorter key 't_first' to represent 'result_available_after'\n            // adjust the key to be the same as in Bolt V1 so that ResultSummary can retrieve the value\n            metadata.result_available_after = metadata.t_first;\n            delete metadata.t_first;\n        }\n        if ('t_last' in metadata) {\n            // Bolt V3 uses shorter key 't_last' to represent 'result_consumed_after'\n            // adjust the key to be the same as in Bolt V1 so that ResultSummary can retrieve the value\n            metadata.result_consumed_after = metadata.t_last;\n            delete metadata.t_last;\n        }\n        return metadata;\n    };\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, authToken = _b.authToken, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, onComplete); }\n        });\n        this.write(request_message_1.default.hello(userAgent, authToken), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.prepareToClose = function () {\n        this.write(request_message_1.default.goodbye(), noOpObserver, true);\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, mode = _b.mode, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, mode: mode }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.commitTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.commit(), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.rollbackTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.rollback(), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, mode = _b.mode, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.highRecordWatermark, highRecordWatermark = _d === void 0 ? Number.MAX_VALUE : _d, _e = _b.lowRecordWatermark, lowRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing in a database name on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertDatabaseIsEmpty)(database, this._onProtocolError, observer);\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            mode: mode\n        }), observer, false);\n        this.write(request_message_1.default.pullAll(), observer, flush);\n        return observer;\n    };\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {string} params.sessionContext.mode The session mode\n     * @param {string} params.sessionContext.database The database name used on the session\n     * @param {function()} params.sessionContext.afterComplete The session param used after the session closed\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b;\n        var _c = _a.routingContext, routingContext = _c === void 0 ? {} : _c, _d = _a.sessionContext, sessionContext = _d === void 0 ? {} : _d, onError = _a.onError, onCompleted = _a.onCompleted;\n        var resultObserver = this.run(CALL_GET_ROUTING_TABLE, (_b = {}, _b[CONTEXT] = routingContext, _b), __assign(__assign({}, sessionContext), { txConfig: TxConfig.empty() }));\n        return new stream_observers_1.ProcedureRouteObserver({\n            resultObserver: resultObserver,\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v2_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bolt_protocol_v2_transformer_1 = __importDefault(require(\"./bolt-protocol-v2.transformer\"));\nexports.default = __assign({}, bolt_protocol_v2_transformer_1.default);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v3_1 = __importDefault(require(\"./bolt-protocol-v3\"));\nvar request_message_1 = __importDefault(require(\"./request-message\"));\nvar bolt_protocol_util_1 = require(\"./bolt-protocol-util\");\nvar stream_observers_1 = require(\"./stream-observers\");\nvar bolt_protocol_v4x0_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x0.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, FETCH_ALL = _a.FETCH_ALL, TxConfig = neo4j_driver_core_1.internal.txConfig.TxConfig;\nvar CONTEXT = 'context';\nvar DATABASE = 'database';\nvar CALL_GET_ROUTING_TABLE_MULTI_DB = \"CALL dbms.routing.getRoutingTable($\".concat(CONTEXT, \", $\").concat(DATABASE, \")\");\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x0_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, mode = _b.mode, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, impersonatedUser = _b.impersonatedUser, mode = _b.mode, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        // passing impersonated user on this protocol version throws an error\n        (0, bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(impersonatedUser, this._onProtocolError, observer);\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    BoltProtocol.prototype._requestMore = function (stmtId, n, observer) {\n        this.write(request_message_1.default.pull({ stmtId: stmtId, n: n }), observer, true);\n    };\n    BoltProtocol.prototype._requestDiscard = function (stmtId, observer) {\n        this.write(request_message_1.default.discard({ stmtId: stmtId }), observer, true);\n    };\n    BoltProtocol.prototype._noOp = function () { };\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {string} params.sessionContext.mode The session mode\n     * @param {string} params.sessionContext.database The database name used on the session\n     * @param {function()} params.sessionContext.afterComplete The session param used after the session closed\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b;\n        var _c = _a.routingContext, routingContext = _c === void 0 ? {} : _c, _d = _a.databaseName, databaseName = _d === void 0 ? null : _d, _e = _a.sessionContext, sessionContext = _e === void 0 ? {} : _e, onError = _a.onError, onCompleted = _a.onCompleted;\n        var resultObserver = this.run(CALL_GET_ROUTING_TABLE_MULTI_DB, (_b = {},\n            _b[CONTEXT] = routingContext,\n            _b[DATABASE] = databaseName,\n            _b), __assign(__assign({}, sessionContext), { txConfig: TxConfig.empty() }));\n        return new stream_observers_1.ProcedureRouteObserver({\n            resultObserver: resultObserver,\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n    };\n    return BoltProtocol;\n}(bolt_protocol_v3_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bolt_protocol_v3_transformer_1 = __importDefault(require(\"./bolt-protocol-v3.transformer\"));\nexports.default = __assign({}, bolt_protocol_v3_transformer_1.default);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x0_1 = __importDefault(require(\"./bolt-protocol-v4x0\"));\nvar request_message_1 = __importDefault(require(\"./request-message\"));\nvar stream_observers_1 = require(\"./stream-observers\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar bolt_protocol_v4x1_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x1.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar BOLT_PROTOCOL_V4_1 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_1;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    /**\n     * @constructor\n     * @param {Object} server the server informatio.\n     * @param {Chunker} chunker the chunker.\n     * @param {Object} packstreamConfig Packstream configuration\n     * @param {boolean} packstreamConfig.disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n     * @param {CreateResponseHandler} createResponseHandler Function which creates the response handler\n     * @param {Logger} log the logger\n     * @param {Object} serversideRouting\n     *\n     */\n    function BoltProtocol(server, chunker, packstreamConfig, createResponseHandler, log, onProtocolError, serversideRouting) {\n        if (createResponseHandler === void 0) { createResponseHandler = function () { return null; }; }\n        var _this = _super.call(this, server, chunker, packstreamConfig, createResponseHandler, log, onProtocolError) || this;\n        _this._serversideRouting = serversideRouting;\n        return _this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x1_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, authToken = _b.authToken, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, onComplete); }\n        });\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting), observer, true);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x0_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bolt_protocol_v4x0_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x0.transformer\"));\nexports.default = __assign({}, bolt_protocol_v4x0_transformer_1.default);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x1_1 = __importDefault(require(\"./bolt-protocol-v4x1\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar bolt_protocol_v4x2_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x2.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar BOLT_PROTOCOL_V4_2 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_2;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x2_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return BoltProtocol;\n}(bolt_protocol_v4x1_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bolt_protocol_v4x1_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x1.transformer\"));\nexports.default = __assign({}, bolt_protocol_v4x1_transformer_1.default);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x2_1 = __importDefault(require(\"./bolt-protocol-v4x2\"));\nvar request_message_1 = __importDefault(require(\"./request-message\"));\nvar stream_observers_1 = require(\"./stream-observers\");\nvar bolt_protocol_v4x3_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x3.transformer\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(require(\"./bolt-protocol-v5x0.utc.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, BOLT_PROTOCOL_V4_3 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V4_3;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x3_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Request routing information\n     *\n     * @param {Object} param -\n     * @param {object} param.routingContext The routing context used to define the routing table.\n     *  Multi-datacenter deployments is one of its use cases\n     * @param {string} param.databaseName The database name\n     * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     * @returns {RouteObserver} the route observer\n     */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b = _a.routingContext, routingContext = _b === void 0 ? {} : _b, _c = _a.databaseName, databaseName = _c === void 0 ? null : _c, _d = _a.sessionContext, sessionContext = _d === void 0 ? {} : _d, onError = _a.onError, onCompleted = _a.onCompleted;\n        var observer = new stream_observers_1.RouteObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n        var bookmarks = sessionContext.bookmarks || Bookmarks.empty();\n        this.write(request_message_1.default.route(routingContext, bookmarks.values(), databaseName), observer, true);\n        return observer;\n    };\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} param0 The params\n     * @param {string} param0.userAgent The user agent\n     * @param {any} param0.authToken The auth token\n     * @param {function(error)} param0.onError On error callback\n     * @param {function(onComplte)} param0.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, authToken = _b.authToken, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) {\n                if (metadata.patch_bolt !== undefined) {\n                    _this._applyPatches(metadata.patch_bolt);\n                }\n                return _this._onLoginCompleted(metadata, onComplete);\n            }\n        });\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting, ['utc']), observer, true);\n        return observer;\n    };\n    /**\n     *\n     * @param {string[]} patches Patches to be applied to the protocol\n     */\n    BoltProtocol.prototype._applyPatches = function (patches) {\n        if (patches.includes('utc')) {\n            this._applyUtcPatch();\n        }\n    };\n    BoltProtocol.prototype._applyUtcPatch = function () {\n        var _this = this;\n        this._transformer = new transformer_1.default(Object.values(__assign(__assign({}, bolt_protocol_v4x3_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default)).map(function (create) { return create(_this._config, _this._log); }));\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x2_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bolt_protocol_v4x2_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x2.transformer\"));\nexports.default = __assign({}, bolt_protocol_v4x2_transformer_1.default);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x3_1 = __importDefault(require(\"./bolt-protocol-v4x3\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar request_message_1 = __importDefault(require(\"./request-message\"));\nvar stream_observers_1 = require(\"./stream-observers\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x4.transformer\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(require(\"./bolt-protocol-v5x0.utc.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4, FETCH_ALL = _a.FETCH_ALL, Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V4_4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v4x4_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n    * Request routing information\n    *\n    * @param {Object} param -\n    * @param {object} param.routingContext The routing context used to define the routing table.\n    *  Multi-datacenter deployments is one of its use cases\n    * @param {string} param.databaseName The database name\n    * @param {Bookmarks} params.sessionContext.bookmarks The bookmarks used for requesting the routing table\n    * @param {function(err: Error)} param.onError\n    * @param {function(RawRoutingTable)} param.onCompleted\n    * @returns {RouteObserver} the route observer\n    */\n    BoltProtocol.prototype.requestRoutingInformation = function (_a) {\n        var _b = _a.routingContext, routingContext = _b === void 0 ? {} : _b, _c = _a.databaseName, databaseName = _c === void 0 ? null : _c, _d = _a.impersonatedUser, impersonatedUser = _d === void 0 ? null : _d, _e = _a.sessionContext, sessionContext = _e === void 0 ? {} : _e, onError = _a.onError, onCompleted = _a.onCompleted;\n        var observer = new stream_observers_1.RouteObserver({\n            onProtocolError: this._onProtocolError,\n            onError: onError,\n            onCompleted: onCompleted\n        });\n        var bookmarks = sessionContext.bookmarks || Bookmarks.empty();\n        this.write(request_message_1.default.routeV4x4(routingContext, bookmarks.values(), { databaseName: databaseName, impersonatedUser: impersonatedUser }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype.run = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, _c = _b.flush, flush = _c === void 0 ? true : _c, _d = _b.reactive, reactive = _d === void 0 ? false : _d, _e = _b.fetchSize, fetchSize = _e === void 0 ? FETCH_ALL : _e, _f = _b.highRecordWatermark, highRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f, _g = _b.lowRecordWatermark, lowRecordWatermark = _g === void 0 ? Number.MAX_VALUE : _g;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            moreFunction: this._requestMore.bind(this),\n            discardFunction: this._requestDiscard.bind(this),\n            beforeKeys: beforeKeys,\n            afterKeys: afterKeys,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        });\n        var flushRun = reactive;\n        this.write(request_message_1.default.runWithMetadata(query, parameters, {\n            bookmarks: bookmarks,\n            txConfig: txConfig,\n            database: database,\n            mode: mode,\n            impersonatedUser: impersonatedUser\n        }), observer, flushRun && flush);\n        if (!reactive) {\n            this.write(request_message_1.default.pull({ n: fetchSize }), observer, flush);\n        }\n        return observer;\n    };\n    BoltProtocol.prototype.beginTransaction = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser, beforeError = _b.beforeError, afterError = _b.afterError, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete;\n        var observer = new stream_observers_1.ResultStreamObserver({\n            server: this._server,\n            beforeError: beforeError,\n            afterError: afterError,\n            beforeComplete: beforeComplete,\n            afterComplete: afterComplete\n        });\n        observer.prepareToHandleSingleResponse();\n        this.write(request_message_1.default.begin({ bookmarks: bookmarks, txConfig: txConfig, database: database, mode: mode, impersonatedUser: impersonatedUser }), observer, true);\n        return observer;\n    };\n    BoltProtocol.prototype._applyUtcPatch = function () {\n        var _this = this;\n        this._transformer = new transformer_1.default(Object.values(__assign(__assign({}, bolt_protocol_v4x4_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default)).map(function (create) { return create(_this._config, _this._log); }));\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x3_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bolt_protocol_v4x3_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x3.transformer\"));\nexports.default = __assign({}, bolt_protocol_v4x3_transformer_1.default);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar bolt_protocol_v4x4_1 = __importDefault(require(\"./bolt-protocol-v4x4\"));\nvar bolt_protocol_v5x0_transformer_1 = __importDefault(require(\"./bolt-protocol-v5x0.transformer\"));\nvar transformer_1 = __importDefault(require(\"./transformer\"));\nvar request_message_1 = __importDefault(require(\"./request-message\"));\nvar stream_observers_1 = require(\"./stream-observers\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar BOLT_PROTOCOL_V5_0 = neo4j_driver_core_1.internal.constants.BOLT_PROTOCOL_V5_0;\nvar BoltProtocol = /** @class */ (function (_super) {\n    __extends(BoltProtocol, _super);\n    function BoltProtocol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BoltProtocol.prototype, \"version\", {\n        get: function () {\n            return BOLT_PROTOCOL_V5_0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BoltProtocol.prototype, \"transformer\", {\n        get: function () {\n            var _this = this;\n            if (this._transformer === undefined) {\n                this._transformer = new transformer_1.default(Object.values(bolt_protocol_v5x0_transformer_1.default).map(function (create) { return create(_this._config, _this._log); }));\n            }\n            return this._transformer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Initialize a connection with the server\n     *\n     * @param {Object} param0 The params\n     * @param {string} param0.userAgent The user agent\n     * @param {any} param0.authToken The auth token\n     * @param {function(error)} param0.onError On error callback\n     * @param {function(onComplte)} param0.onComplete On complete callback\n     * @returns {LoginObserver} The Login observer\n     */\n    BoltProtocol.prototype.initialize = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, userAgent = _b.userAgent, authToken = _b.authToken, onError = _b.onError, onComplete = _b.onComplete;\n        var observer = new stream_observers_1.LoginObserver({\n            onError: function (error) { return _this._onLoginError(error, onError); },\n            onCompleted: function (metadata) { return _this._onLoginCompleted(metadata, onComplete); }\n        });\n        this.write(request_message_1.default.hello(userAgent, authToken, this._serversideRouting), observer, true);\n        return observer;\n    };\n    return BoltProtocol;\n}(bolt_protocol_v4x4_1.default));\nexports.default = BoltProtocol;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar packstream_1 = require(\"../packstream\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x4.transformer\"));\nvar bolt_protocol_v5x0_utc_transformer_1 = __importDefault(require(\"./bolt-protocol-v5x0.utc.transformer\"));\nvar NODE_STRUCT_SIZE = 4;\nvar RELATIONSHIP_STRUCT_SIZE = 8;\nvar UNBOUND_RELATIONSHIP_STRUCT_SIZE = 4;\n/**\n * Create an extend Node transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createNodeTransformer(config) {\n    var node4x4Transformer = bolt_protocol_v4x4_transformer_1.default.createNodeTransformer(config);\n    return node4x4Transformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Node', NODE_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), identity = _a[0], lables = _a[1], properties = _a[2], elementId = _a[3];\n            return new neo4j_driver_core_1.Node(identity, lables, properties, elementId);\n        }\n    });\n}\n/**\n * Create an extend Relationship transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createRelationshipTransformer(config) {\n    var relationship4x4Transformer = bolt_protocol_v4x4_transformer_1.default.createRelationshipTransformer(config);\n    return relationship4x4Transformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('Relationship', RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 8), identity = _a[0], startNodeIdentity = _a[1], endNodeIdentity = _a[2], type = _a[3], properties = _a[4], elementId = _a[5], startNodeElementId = _a[6], endNodeElementId = _a[7];\n            return new neo4j_driver_core_1.Relationship(identity, startNodeIdentity, endNodeIdentity, type, properties, elementId, startNodeElementId, endNodeElementId);\n        }\n    });\n}\n/**\n * Create an extend Unbound Relationship transformer with support to elementId\n * @param {any} config\n * @returns {TypeTransformer}\n */\nfunction createUnboundRelationshipTransformer(config) {\n    var unboundRelationshipTransformer = bolt_protocol_v4x4_transformer_1.default.createUnboundRelationshipTransformer(config);\n    return unboundRelationshipTransformer.extendsWith({\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('UnboundRelationship', UNBOUND_RELATIONSHIP_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 4), identity = _a[0], type = _a[1], properties = _a[2], elementId = _a[3];\n            return new neo4j_driver_core_1.UnboundRelationship(identity, type, properties, elementId);\n        }\n    });\n}\nexports.default = __assign(__assign(__assign({}, bolt_protocol_v4x4_transformer_1.default), bolt_protocol_v5x0_utc_transformer_1.default), { createNodeTransformer: createNodeTransformer, createRelationshipTransformer: createRelationshipTransformer, createUnboundRelationshipTransformer: createUnboundRelationshipTransformer });\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar packstream_1 = require(\"../packstream\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar bolt_protocol_v4x4_transformer_1 = __importDefault(require(\"./bolt-protocol-v4x4.transformer\"));\nvar temporal_factory_1 = require(\"./temporal-factory\");\nvar functional_1 = require(\"../lang/functional\");\nvar localDateTimeToEpochSecond = neo4j_driver_core_1.internal.temporalUtil.localDateTimeToEpochSecond;\nvar DATE_TIME_WITH_ZONE_OFFSET = 0x49;\nvar DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE = 3;\nvar DATE_TIME_WITH_ZONE_ID = 0x69;\nvar DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE = 3;\nfunction createDateTimeWithZoneIdTransformer(config, logger) {\n    var disableLosslessIntegers = config.disableLosslessIntegers, useBigInt = config.useBigInt;\n    var dateTimeWithZoneIdTransformer = bolt_protocol_v4x4_transformer_1.default.createDateTimeWithZoneIdTransformer(config);\n    return dateTimeWithZoneIdTransformer.extendsWith({\n        signature: DATE_TIME_WITH_ZONE_ID,\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneId', DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), epochSecond = _a[0], nano = _a[1], timeZoneId = _a[2];\n            var localDateTime = getTimeInZoneId(timeZoneId, epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, (0, neo4j_driver_core_1.int)(nano), localDateTime.timeZoneOffsetSeconds, timeZoneId);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        },\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var offset = value.timeZoneOffsetSeconds != null\n                ? value.timeZoneOffsetSeconds\n                : getOffsetFromZoneId(value.timeZoneId, epochSecond, value.nanosecond);\n            if (value.timeZoneOffsetSeconds == null) {\n                logger.warn('DateTime objects without \"timeZoneOffsetSeconds\" property ' +\n                    'are prune to bugs related to ambiguous times. For instance, ' +\n                    '2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');\n            }\n            var utc = epochSecond.subtract(offset);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneId = value.timeZoneId;\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_ID, [utc, nano, timeZoneId]);\n        }\n    });\n}\n/**\n * Returns the offset for a given timezone id\n *\n * Javascript doesn't have support for direct getting the timezone offset from a given\n * TimeZoneId and DateTime in the given TimeZoneId. For solving this issue,\n *\n * 1. The ZoneId is applied to the timestamp, so we could make the difference between the\n * given timestamp and the new calculated one. This is the offset for the timezone\n * in the utc is equal to epoch (some time in the future or past)\n * 2. The offset is subtracted from the timestamp, so we have an estimated utc timestamp.\n * 3. The ZoneId is applied to the new timestamp, se we could could make the difference\n * between the new timestamp and the calculated one. This is the offset for the given timezone.\n *\n * Example:\n *    Input: 2022-3-27 1:59:59 'Europe/Berlin'\n *    Apply 1, 2022-3-27 1:59:59 => 2022-3-27 3:59:59 'Europe/Berlin' +2:00\n *    Apply 2, 2022-3-27 1:59:59 - 2:00 => 2022-3-26 23:59:59\n *    Apply 3, 2022-3-26 23:59:59 => 2022-3-27 00:59:59 'Europe/Berlin' +1:00\n *  The offset is +1 hour.\n *\n * @param {string} timeZoneId The timezone id\n * @param {Integer} epochSecond The epoch second in the timezone id\n * @param {Integerable} nanosecond The nanoseconds in the timezone id\n * @returns The timezone offset\n */\nfunction getOffsetFromZoneId(timeZoneId, epochSecond, nanosecond) {\n    var dateTimeWithZoneAppliedTwice = getTimeInZoneId(timeZoneId, epochSecond, nanosecond);\n    // The wallclock form the current date time\n    var epochWithZoneAppliedTwice = localDateTimeToEpochSecond(dateTimeWithZoneAppliedTwice.year, dateTimeWithZoneAppliedTwice.month, dateTimeWithZoneAppliedTwice.day, dateTimeWithZoneAppliedTwice.hour, dateTimeWithZoneAppliedTwice.minute, dateTimeWithZoneAppliedTwice.second, nanosecond);\n    var offsetOfZoneInTheFutureUtc = epochWithZoneAppliedTwice.subtract(epochSecond);\n    var guessedUtc = epochSecond.subtract(offsetOfZoneInTheFutureUtc);\n    var zonedDateTimeFromGuessedUtc = getTimeInZoneId(timeZoneId, guessedUtc, nanosecond);\n    var zonedEpochFromGuessedUtc = localDateTimeToEpochSecond(zonedDateTimeFromGuessedUtc.year, zonedDateTimeFromGuessedUtc.month, zonedDateTimeFromGuessedUtc.day, zonedDateTimeFromGuessedUtc.hour, zonedDateTimeFromGuessedUtc.minute, zonedDateTimeFromGuessedUtc.second, nanosecond);\n    var offset = zonedEpochFromGuessedUtc.subtract(guessedUtc);\n    return offset;\n}\nfunction getTimeInZoneId(timeZoneId, epochSecond, nano) {\n    var formatter = new Intl.DateTimeFormat('en-US', {\n        timeZone: timeZoneId,\n        year: 'numeric',\n        month: 'numeric',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false,\n        era: 'narrow'\n    });\n    var utc = (0, neo4j_driver_core_1.int)(epochSecond)\n        .multiply(1000)\n        .add((0, neo4j_driver_core_1.int)(nano).div(1000000))\n        .toNumber();\n    var formattedUtcParts = formatter.formatToParts(utc);\n    var localDateTime = formattedUtcParts.reduce(function (obj, currentValue) {\n        if (currentValue.type === 'era') {\n            obj.adjustEra =\n                currentValue.value.toUpperCase() === 'B'\n                    ? function (year) { return year.subtract(1).negate(); } // 1BC equals to year 0 in astronomical year numbering\n                    : functional_1.identity;\n        }\n        else if (currentValue.type !== 'literal') {\n            obj[currentValue.type] = (0, neo4j_driver_core_1.int)(currentValue.value);\n        }\n        return obj;\n    }, {});\n    localDateTime.year = localDateTime.adjustEra(localDateTime.year);\n    var epochInTimeZone = localDateTimeToEpochSecond(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond);\n    localDateTime.timeZoneOffsetSeconds = epochInTimeZone.subtract(epochSecond);\n    localDateTime.hour = localDateTime.hour.modulo(24);\n    return localDateTime;\n}\nfunction createDateTimeWithOffsetTransformer(config) {\n    var disableLosslessIntegers = config.disableLosslessIntegers, useBigInt = config.useBigInt;\n    var dateTimeWithOffsetTransformer = bolt_protocol_v4x4_transformer_1.default.createDateTimeWithOffsetTransformer(config);\n    return dateTimeWithOffsetTransformer.extendsWith({\n        signature: DATE_TIME_WITH_ZONE_OFFSET,\n        toStructure: function (value) {\n            var epochSecond = localDateTimeToEpochSecond(value.year, value.month, value.day, value.hour, value.minute, value.second, value.nanosecond);\n            var nano = (0, neo4j_driver_core_1.int)(value.nanosecond);\n            var timeZoneOffsetSeconds = (0, neo4j_driver_core_1.int)(value.timeZoneOffsetSeconds);\n            var utcSecond = epochSecond.subtract(timeZoneOffsetSeconds);\n            return new packstream_1.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET, [utcSecond, nano, timeZoneOffsetSeconds]);\n        },\n        fromStructure: function (struct) {\n            packstream_1.structure.verifyStructSize('DateTimeWithZoneOffset', DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE, struct.size);\n            var _a = __read(struct.fields, 3), utcSecond = _a[0], nano = _a[1], timeZoneOffsetSeconds = _a[2];\n            var epochSecond = (0, neo4j_driver_core_1.int)(utcSecond).add(timeZoneOffsetSeconds);\n            var localDateTime = (0, temporal_factory_1.epochSecondAndNanoToLocalDateTime)(epochSecond, nano);\n            var result = new neo4j_driver_core_1.DateTime(localDateTime.year, localDateTime.month, localDateTime.day, localDateTime.hour, localDateTime.minute, localDateTime.second, localDateTime.nanosecond, timeZoneOffsetSeconds, null);\n            return convertIntegerPropsIfNeeded(result, disableLosslessIntegers, useBigInt);\n        }\n    });\n}\nfunction convertIntegerPropsIfNeeded(obj, disableLosslessIntegers, useBigInt) {\n    if (!disableLosslessIntegers && !useBigInt) {\n        return obj;\n    }\n    var convert = function (value) {\n        return useBigInt ? value.toBigInt() : value.toNumberOrInfinity();\n    };\n    var clone = Object.create(Object.getPrototypeOf(obj));\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop) === true) {\n            var value = obj[prop];\n            clone[prop] = (0, neo4j_driver_core_1.isInt)(value) ? convert(value) : value;\n        }\n    }\n    Object.freeze(clone);\n    return clone;\n}\nexports.default = {\n    createDateTimeWithZoneIdTransformer: createDateTimeWithZoneIdTransformer,\n    createDateTimeWithOffsetTransformer: createDateTimeWithOffsetTransformer\n};\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar bolt_protocol_v1_1 = __importDefault(require(\"./bolt-protocol-v1\"));\nvar bolt_protocol_v2_1 = __importDefault(require(\"./bolt-protocol-v2\"));\nvar bolt_protocol_v3_1 = __importDefault(require(\"./bolt-protocol-v3\"));\nvar bolt_protocol_v4x0_1 = __importDefault(require(\"./bolt-protocol-v4x0\"));\nvar bolt_protocol_v4x1_1 = __importDefault(require(\"./bolt-protocol-v4x1\"));\nvar bolt_protocol_v4x2_1 = __importDefault(require(\"./bolt-protocol-v4x2\"));\nvar bolt_protocol_v4x3_1 = __importDefault(require(\"./bolt-protocol-v4x3\"));\nvar bolt_protocol_v4x4_1 = __importDefault(require(\"./bolt-protocol-v4x4\"));\nvar bolt_protocol_v5x0_1 = __importDefault(require(\"./bolt-protocol-v5x0\"));\nvar response_handler_1 = __importDefault(require(\"./response-handler\"));\n/**\n * Creates a protocol with a given version\n *\n * @param {object} config\n * @param {number} config.version The version of the protocol\n * @param {channel} config.channel The channel\n * @param {Chunker} config.chunker The chunker\n * @param {Dechunker} config.dechunker The dechunker\n * @param {Logger} config.log The logger\n * @param {ResponseHandler~Observer} config.observer Observer\n * @param {boolean} config.disableLosslessIntegers Disable the lossless integers\n * @param {boolean} packstreamConfig.useBigInt if this connection should convert all received integers to native BigInt numbers.\n * @param {boolean} config.serversideRouting It's using server side routing\n */\nfunction create(_a) {\n    var _b = _a === void 0 ? {} : _a, version = _b.version, chunker = _b.chunker, dechunker = _b.dechunker, channel = _b.channel, disableLosslessIntegers = _b.disableLosslessIntegers, useBigInt = _b.useBigInt, serversideRouting = _b.serversideRouting, server = _b.server, // server info\n    log = _b.log, observer = _b.observer;\n    var createResponseHandler = function (protocol) {\n        var responseHandler = new response_handler_1.default({\n            transformMetadata: protocol.transformMetadata.bind(protocol),\n            log: log,\n            observer: observer\n        });\n        // reset the error handler to just handle errors and forget about the handshake promise\n        channel.onerror = observer.onError.bind(observer);\n        // Ok, protocol running. Simply forward all messages to the dechunker\n        channel.onmessage = function (buf) { return dechunker.write(buf); };\n        // setup dechunker to dechunk messages and forward them to the message handler\n        dechunker.onmessage = function (buf) {\n            try {\n                responseHandler.handleResponse(protocol.unpack(buf));\n            }\n            catch (e) {\n                return observer.onError(e);\n            }\n        };\n        return responseHandler;\n    };\n    return createProtocol(version, server, chunker, { disableLosslessIntegers: disableLosslessIntegers, useBigInt: useBigInt }, serversideRouting, createResponseHandler, observer.onProtocolError.bind(observer), log);\n}\nexports.default = create;\nfunction createProtocol(version, server, chunker, packingConfig, serversideRouting, createResponseHandler, onProtocolError, log) {\n    switch (version) {\n        case 1:\n            return new bolt_protocol_v1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 2:\n            return new bolt_protocol_v2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 3:\n            return new bolt_protocol_v3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 4.0:\n            return new bolt_protocol_v4x0_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError);\n        case 4.1:\n            return new bolt_protocol_v4x1_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.2:\n            return new bolt_protocol_v4x2_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.3:\n            return new bolt_protocol_v4x3_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 4.4:\n            return new bolt_protocol_v4x4_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        case 5.0:\n            return new bolt_protocol_v5x0_1.default(server, chunker, packingConfig, createResponseHandler, log, onProtocolError, serversideRouting);\n        default:\n            throw (0, neo4j_driver_core_1.newError)('Unknown Bolt protocol version: ' + version);\n    }\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_1 = require(\"../channel\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar BOLT_MAGIC_PREAMBLE = 0x6060b017;\nfunction version(major, minor) {\n    return {\n        major: major,\n        minor: minor\n    };\n}\nfunction createHandshakeMessage(versions) {\n    if (versions.length > 4) {\n        throw (0, neo4j_driver_core_1.newError)('It should not have more than 4 versions of the protocol');\n    }\n    var handshakeBuffer = (0, channel_1.alloc)(5 * 4);\n    handshakeBuffer.writeInt32(BOLT_MAGIC_PREAMBLE);\n    versions.forEach(function (version) {\n        if (version instanceof Array) {\n            var _a = version[0], major = _a.major, minor = _a.minor;\n            var minMinor = version[1].minor;\n            var range = minor - minMinor;\n            handshakeBuffer.writeInt32((range << 16) | (minor << 8) | major);\n        }\n        else {\n            var major = version.major, minor = version.minor;\n            handshakeBuffer.writeInt32((minor << 8) | major);\n        }\n    });\n    handshakeBuffer.reset();\n    return handshakeBuffer;\n}\nfunction parseNegotiatedResponse(buffer) {\n    var h = [\n        buffer.readUInt8(),\n        buffer.readUInt8(),\n        buffer.readUInt8(),\n        buffer.readUInt8()\n    ];\n    if (h[0] === 0x48 && h[1] === 0x54 && h[2] === 0x54 && h[3] === 0x50) {\n        throw (0, neo4j_driver_core_1.newError)('Server responded HTTP. Make sure you are not trying to connect to the http endpoint ' +\n            '(HTTP defaults to port 7474 whereas BOLT defaults to port 7687)');\n    }\n    return Number(h[3] + '.' + h[2]);\n}\n/**\n * @return {BaseBuffer}\n * @private\n */\nfunction newHandshakeBuffer() {\n    return createHandshakeMessage([\n        version(5, 0),\n        [version(4, 4), version(4, 2)],\n        version(4, 1),\n        version(3, 0)\n    ]);\n}\n/**\n * This callback is displayed as a global member.\n * @callback BufferConsumerCallback\n * @param {buffer} buffer the remaining buffer\n */\n/**\n * @typedef HandshakeResult\n * @property {number} protocolVersion The protocol version negotiated in the handshake\n * @property {function(BufferConsumerCallback)} consumeRemainingBuffer A function to consume the remaining buffer if it exists\n */\n/**\n * Shake hands using the channel and return the protocol version\n *\n * @param {Channel} channel the channel use to shake hands\n * @returns {Promise<HandshakeResult>} Promise of protocol version and consumeRemainingBuffer\n */\nfunction handshake(channel) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n        var handshakeErrorHandler = function (error) {\n            reject(error);\n        };\n        channel.onerror = handshakeErrorHandler.bind(_this);\n        if (channel._error) {\n            handshakeErrorHandler(channel._error);\n        }\n        channel.onmessage = function (buffer) {\n            try {\n                // read the response buffer and initialize the protocol\n                var protocolVersion = parseNegotiatedResponse(buffer);\n                resolve({\n                    protocolVersion: protocolVersion,\n                    consumeRemainingBuffer: function (consumer) {\n                        if (buffer.hasRemaining()) {\n                            consumer(buffer.readSlice(buffer.remaining()));\n                        }\n                    }\n                });\n            }\n            catch (e) {\n                reject(e);\n            }\n        };\n        channel.write(newHandshakeBuffer());\n    });\n}\nexports.default = handshake;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RawRoutingTable = exports.BoltProtocol = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar handshake_1 = __importDefault(require(\"./handshake\"));\nvar create_1 = __importDefault(require(\"./create\"));\nvar bolt_protocol_v4x3_1 = __importDefault(require(\"./bolt-protocol-v4x3\"));\nvar routing_table_raw_1 = __importDefault(require(\"./routing-table-raw\"));\n__exportStar(require(\"./stream-observers\"), exports);\nexports.BoltProtocol = bolt_protocol_v4x3_1.default;\nexports.RawRoutingTable = routing_table_raw_1.default;\nexports.default = {\n    handshake: handshake_1.default,\n    create: create_1.default\n};\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar _a = neo4j_driver_core_1.internal.constants, ACCESS_MODE_READ = _a.ACCESS_MODE_READ, FETCH_ALL = _a.FETCH_ALL, assertString = neo4j_driver_core_1.internal.util.assertString;\n/* eslint-disable no-unused-vars */\n// Signature bytes for each request message type\nvar INIT = 0x01; // 0000 0001 // INIT <user_agent> <authentication_token>\nvar ACK_FAILURE = 0x0e; // 0000 1110 // ACK_FAILURE - unused\nvar RESET = 0x0f; // 0000 1111 // RESET\nvar RUN = 0x10; // 0001 0000 // RUN <query> <parameters>\nvar DISCARD_ALL = 0x2f; // 0010 1111 // DISCARD_ALL - unused\nvar PULL_ALL = 0x3f; // 0011 1111 // PULL_ALL\nvar HELLO = 0x01; // 0000 0001 // HELLO <metadata>\nvar GOODBYE = 0x02; // 0000 0010 // GOODBYE\nvar BEGIN = 0x11; // 0001 0001 // BEGIN <metadata>\nvar COMMIT = 0x12; // 0001 0010 // COMMIT\nvar ROLLBACK = 0x13; // 0001 0011 // ROLLBACK\nvar ROUTE = 0x66; // 0110 0110 // ROUTE\nvar DISCARD = 0x2f; // 0010 1111 // DISCARD\nvar PULL = 0x3f; // 0011 1111 // PULL\nvar READ_MODE = 'r';\n/* eslint-enable no-unused-vars */\nvar NO_STATEMENT_ID = -1;\nvar RequestMessage = /** @class */ (function () {\n    function RequestMessage(signature, fields, toString) {\n        this.signature = signature;\n        this.fields = fields;\n        this.toString = toString;\n    }\n    /**\n     * Create a new INIT message.\n     * @param {string} clientName the client name.\n     * @param {Object} authToken the authentication token.\n     * @return {RequestMessage} new INIT message.\n     */\n    RequestMessage.init = function (clientName, authToken) {\n        return new RequestMessage(INIT, [clientName, authToken], function () { return \"INIT \".concat(clientName, \" {...}\"); });\n    };\n    /**\n     * Create a new RUN message.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @return {RequestMessage} new RUN message.\n     */\n    RequestMessage.run = function (query, parameters) {\n        return new RequestMessage(RUN, [query, parameters], function () { return \"RUN \".concat(query, \" \").concat(neo4j_driver_core_1.json.stringify(parameters)); });\n    };\n    /**\n     * Get a PULL_ALL message.\n     * @return {RequestMessage} the PULL_ALL message.\n     */\n    RequestMessage.pullAll = function () {\n        return PULL_ALL_MESSAGE;\n    };\n    /**\n     * Get a RESET message.\n     * @return {RequestMessage} the RESET message.\n     */\n    RequestMessage.reset = function () {\n        return RESET_MESSAGE;\n    };\n    /**\n     * Create a new HELLO message.\n     * @param {string} userAgent the user agent.\n     * @param {Object} authToken the authentication token.\n     * @param {Object} optional server side routing, set to routing context to turn on server side routing (> 4.1)\n     * @return {RequestMessage} new HELLO message.\n     */\n    RequestMessage.hello = function (userAgent, authToken, routing, patchs) {\n        if (routing === void 0) { routing = null; }\n        if (patchs === void 0) { patchs = null; }\n        var metadata = Object.assign({ user_agent: userAgent }, authToken);\n        if (routing) {\n            metadata.routing = routing;\n        }\n        if (patchs) {\n            metadata.patch_bolt = patchs;\n        }\n        return new RequestMessage(HELLO, [metadata], function () { return \"HELLO {user_agent: '\".concat(userAgent, \"', ...}\"); });\n    };\n    /**\n     * Create a new BEGIN message.\n     * @param {Bookmarks} bookmarks the bookmarks.\n     * @param {TxConfig} txConfig the configuration.\n     * @param {string} database the database name.\n     * @param {string} mode the access mode.\n     * @param {string} impersonatedUser the impersonated user.\n     * @return {RequestMessage} new BEGIN message.\n     */\n    RequestMessage.begin = function (_a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser);\n        return new RequestMessage(BEGIN, [metadata], function () { return \"BEGIN \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Get a COMMIT message.\n     * @return {RequestMessage} the COMMIT message.\n     */\n    RequestMessage.commit = function () {\n        return COMMIT_MESSAGE;\n    };\n    /**\n     * Get a ROLLBACK message.\n     * @return {RequestMessage} the ROLLBACK message.\n     */\n    RequestMessage.rollback = function () {\n        return ROLLBACK_MESSAGE;\n    };\n    /**\n     * Create a new RUN message with additional metadata.\n     * @param {string} query the cypher query.\n     * @param {Object} parameters the query parameters.\n     * @param {Bookmarks} bookmarks the bookmarks.\n     * @param {TxConfig} txConfig the configuration.\n     * @param {string} database the database name.\n     * @param {string} mode the access mode.\n     * @param {string} impersonatedUser the impersonated user.\n     * @return {RequestMessage} new RUN message with additional metadata.\n     */\n    RequestMessage.runWithMetadata = function (query, parameters, _a) {\n        var _b = _a === void 0 ? {} : _a, bookmarks = _b.bookmarks, txConfig = _b.txConfig, database = _b.database, mode = _b.mode, impersonatedUser = _b.impersonatedUser;\n        var metadata = buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser);\n        return new RequestMessage(RUN, [query, parameters, metadata], function () {\n            return \"RUN \".concat(query, \" \").concat(neo4j_driver_core_1.json.stringify(parameters), \" \").concat(neo4j_driver_core_1.json.stringify(metadata));\n        });\n    };\n    /**\n     * Get a GOODBYE message.\n     * @return {RequestMessage} the GOODBYE message.\n     */\n    RequestMessage.goodbye = function () {\n        return GOODBYE_MESSAGE;\n    };\n    /**\n     * Generates a new PULL message with additional metadata.\n     * @param {Integer|number} stmtId\n     * @param {Integer|number} n\n     * @return {RequestMessage} the PULL message.\n     */\n    RequestMessage.pull = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.stmtId, stmtId = _c === void 0 ? NO_STATEMENT_ID : _c, _d = _b.n, n = _d === void 0 ? FETCH_ALL : _d;\n        var metadata = buildStreamMetadata(stmtId === null || stmtId === undefined ? NO_STATEMENT_ID : stmtId, n || FETCH_ALL);\n        return new RequestMessage(PULL, [metadata], function () { return \"PULL \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Generates a new DISCARD message with additional metadata.\n     * @param {Integer|number} stmtId\n     * @param {Integer|number} n\n     * @return {RequestMessage} the PULL message.\n     */\n    RequestMessage.discard = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.stmtId, stmtId = _c === void 0 ? NO_STATEMENT_ID : _c, _d = _b.n, n = _d === void 0 ? FETCH_ALL : _d;\n        var metadata = buildStreamMetadata(stmtId === null || stmtId === undefined ? NO_STATEMENT_ID : stmtId, n || FETCH_ALL);\n        return new RequestMessage(DISCARD, [metadata], function () { return \"DISCARD \".concat(neo4j_driver_core_1.json.stringify(metadata)); });\n    };\n    /**\n     * Generate the ROUTE message, this message is used to fetch the routing table from the server\n     *\n     * @param {object} routingContext The routing context used to define the routing table. Multi-datacenter deployments is one of its use cases\n     * @param {string[]} bookmarks The list of the bookmarks should be used\n     * @param {string} databaseName The name of the database to get the routing table for.\n     * @return {RequestMessage} the ROUTE message.\n     */\n    RequestMessage.route = function (routingContext, bookmarks, databaseName) {\n        if (routingContext === void 0) { routingContext = {}; }\n        if (bookmarks === void 0) { bookmarks = []; }\n        if (databaseName === void 0) { databaseName = null; }\n        return new RequestMessage(ROUTE, [routingContext, bookmarks, databaseName], function () {\n            return \"ROUTE \".concat(neo4j_driver_core_1.json.stringify(routingContext), \" \").concat(neo4j_driver_core_1.json.stringify(bookmarks), \" \").concat(databaseName);\n        });\n    };\n    /**\n     * Generate the ROUTE message, this message is used to fetch the routing table from the server\n     *\n     * @param {object} routingContext The routing context used to define the routing table. Multi-datacenter deployments is one of its use cases\n     * @param {string[]} bookmarks The list of the bookmarks should be used\n     * @param {object} databaseContext The context inforamtion of the database to get the routing table for.\n     * @param {string} databaseContext.databaseName The name of the database to get the routing table.\n     * @param {string} databaseContext.impersonatedUser The name of the user to impersonation when getting the routing table.\n     * @return {RequestMessage} the ROUTE message.\n     */\n    RequestMessage.routeV4x4 = function (routingContext, bookmarks, databaseContext) {\n        if (routingContext === void 0) { routingContext = {}; }\n        if (bookmarks === void 0) { bookmarks = []; }\n        if (databaseContext === void 0) { databaseContext = {}; }\n        var dbContext = {};\n        if (databaseContext.databaseName) {\n            dbContext.db = databaseContext.databaseName;\n        }\n        if (databaseContext.impersonatedUser) {\n            dbContext.imp_user = databaseContext.impersonatedUser;\n        }\n        return new RequestMessage(ROUTE, [routingContext, bookmarks, dbContext], function () {\n            return \"ROUTE \".concat(neo4j_driver_core_1.json.stringify(routingContext), \" \").concat(neo4j_driver_core_1.json.stringify(bookmarks), \" \").concat(neo4j_driver_core_1.json.stringify(dbContext));\n        });\n    };\n    return RequestMessage;\n}());\nexports.default = RequestMessage;\n/**\n * Create an object that represent transaction metadata.\n * @param {Bookmarks} bookmarks the bookmarks.\n * @param {TxConfig} txConfig the configuration.\n * @param {string} database the database name.\n * @param {string} mode the access mode.\n * @param {string} impersonatedUser the impersonated user mode.\n * @return {Object} a metadata object.\n */\nfunction buildTxMetadata(bookmarks, txConfig, database, mode, impersonatedUser) {\n    var metadata = {};\n    if (!bookmarks.isEmpty()) {\n        metadata.bookmarks = bookmarks.values();\n    }\n    if (txConfig.timeout !== null) {\n        metadata.tx_timeout = txConfig.timeout;\n    }\n    if (txConfig.metadata) {\n        metadata.tx_metadata = txConfig.metadata;\n    }\n    if (database) {\n        metadata.db = assertString(database, 'database');\n    }\n    if (impersonatedUser) {\n        metadata.imp_user = assertString(impersonatedUser, 'impersonatedUser');\n    }\n    if (mode === ACCESS_MODE_READ) {\n        metadata.mode = READ_MODE;\n    }\n    return metadata;\n}\n/**\n * Create an object that represents streaming metadata.\n * @param {Integer|number} stmtId The query id to stream its results.\n * @param {Integer|number} n The number of records to stream.\n * @returns {Object} a metadata object.\n */\nfunction buildStreamMetadata(stmtId, n) {\n    var metadata = { n: (0, neo4j_driver_core_1.int)(n) };\n    if (stmtId !== NO_STATEMENT_ID) {\n        metadata.qid = (0, neo4j_driver_core_1.int)(stmtId);\n    }\n    return metadata;\n}\n// constants for messages that never change\nvar PULL_ALL_MESSAGE = new RequestMessage(PULL_ALL, [], function () { return 'PULL_ALL'; });\nvar RESET_MESSAGE = new RequestMessage(RESET, [], function () { return 'RESET'; });\nvar COMMIT_MESSAGE = new RequestMessage(COMMIT, [], function () { return 'COMMIT'; });\nvar ROLLBACK_MESSAGE = new RequestMessage(ROLLBACK, [], function () { return 'ROLLBACK'; });\nvar GOODBYE_MESSAGE = new RequestMessage(GOODBYE, [], function () { return 'GOODBYE'; });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n// Signature bytes for each response message type\nvar SUCCESS = 0x70; // 0111 0000 // SUCCESS <metadata>\nvar RECORD = 0x71; // 0111 0001 // RECORD <value>\nvar IGNORED = 0x7e; // 0111 1110 // IGNORED <metadata>\nvar FAILURE = 0x7f; // 0111 1111 // FAILURE <metadata>\nfunction NO_OP() { }\nfunction NO_OP_IDENTITY(subject) {\n    return subject;\n}\nvar NO_OP_OBSERVER = {\n    onNext: NO_OP,\n    onCompleted: NO_OP,\n    onError: NO_OP\n};\n/**\n * Treat the protocol responses and notify the observers\n */\nvar ResponseHandler = /** @class */ (function () {\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~Observer~OnErrorApplyTransformation\n     * @param {any} error The error\n     * @returns {any} The new error\n     */\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~Observer~OnError\n     * @param {any} error The error\n     */\n    /**\n     * Called when something went wrong with the connectio\n     * @callback ResponseHandler~MetadataTransformer\n     * @param {any} metadata The metadata got onSuccess\n     * @returns {any} The transformed metadata\n     */\n    /**\n     * @typedef {Object} ResponseHandler~Observer\n     * @property {ResponseHandler~Observer~OnError} onError Invoke when a connection error occurs\n     * @property {ResponseHandler~Observer~OnError} onFailure Invoke when a protocol failure occurs\n     * @property {ResponseHandler~Observer~OnErrorApplyTransformation} onErrorApplyTransformation Invoke just after the failure occurs,\n     *  before notify to respective observer. This method should transform the failure reason to the approprited one.\n     */\n    /**\n     * Constructor\n     * @param {Object} param The params\n     * @param {ResponseHandler~MetadataTransformer} transformMetadata Transform metadata when the SUCCESS is received.\n     * @param {Channel} channel The channel used to exchange messages\n     * @param {Logger} log The logger\n     * @param {ResponseHandler~Observer} observer Object which will be notified about errors\n     */\n    function ResponseHandler(_a) {\n        var _b = _a === void 0 ? {} : _a, transformMetadata = _b.transformMetadata, log = _b.log, observer = _b.observer;\n        this._pendingObservers = [];\n        this._log = log;\n        this._transformMetadata = transformMetadata || NO_OP_IDENTITY;\n        this._observer = Object.assign({\n            onPendingObserversChange: NO_OP,\n            onError: NO_OP,\n            onFailure: NO_OP,\n            onErrorApplyTransformation: NO_OP_IDENTITY\n        }, observer);\n    }\n    Object.defineProperty(ResponseHandler.prototype, \"currentFailure\", {\n        get: function () {\n            return this._currentFailure;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ResponseHandler.prototype.handleResponse = function (msg) {\n        var payload = msg.fields[0];\n        switch (msg.signature) {\n            case RECORD:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: RECORD \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                this._currentObserver.onNext(payload);\n                break;\n            case SUCCESS:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: SUCCESS \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    var metadata = this._transformMetadata(payload);\n                    this._currentObserver.onCompleted(metadata);\n                }\n                finally {\n                    this._updateCurrentObserver();\n                }\n                break;\n            case FAILURE:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: FAILURE \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    var standardizedCode = _standardizeCode(payload.code);\n                    var error = (0, neo4j_driver_core_1.newError)(payload.message, standardizedCode);\n                    this._currentFailure = this._observer.onErrorApplyTransformation(error);\n                    this._currentObserver.onError(this._currentFailure);\n                }\n                finally {\n                    this._updateCurrentObserver();\n                    // Things are now broken. Pending observers will get FAILURE messages routed until we are done handling this failure.\n                    this._observer.onFailure(this._currentFailure);\n                }\n                break;\n            case IGNORED:\n                if (this._log.isDebugEnabled()) {\n                    this._log.debug(\"S: IGNORED \".concat(neo4j_driver_core_1.json.stringify(msg)));\n                }\n                try {\n                    if (this._currentFailure && this._currentObserver.onError) {\n                        this._currentObserver.onError(this._currentFailure);\n                    }\n                    else if (this._currentObserver.onError) {\n                        this._currentObserver.onError((0, neo4j_driver_core_1.newError)('Ignored either because of an error or RESET'));\n                    }\n                }\n                finally {\n                    this._updateCurrentObserver();\n                }\n                break;\n            default:\n                this._observer.onError((0, neo4j_driver_core_1.newError)('Unknown Bolt protocol message: ' + msg));\n        }\n    };\n    /*\n     * Pop next pending observer form the list of observers and make it current observer.\n     * @protected\n     */\n    ResponseHandler.prototype._updateCurrentObserver = function () {\n        this._currentObserver = this._pendingObservers.shift();\n        this._observer.onPendingObserversChange(this._pendingObservers.length);\n    };\n    ResponseHandler.prototype._queueObserver = function (observer) {\n        observer = observer || NO_OP_OBSERVER;\n        observer.onCompleted = observer.onCompleted || NO_OP;\n        observer.onError = observer.onError || NO_OP;\n        observer.onNext = observer.onNext || NO_OP;\n        if (this._currentObserver === undefined) {\n            this._currentObserver = observer;\n        }\n        else {\n            this._pendingObservers.push(observer);\n        }\n        this._observer.onPendingObserversChange(this._pendingObservers.length);\n        return true;\n    };\n    ResponseHandler.prototype._notifyErrorToObservers = function (error) {\n        if (this._currentObserver && this._currentObserver.onError) {\n            this._currentObserver.onError(error);\n        }\n        while (this._pendingObservers.length > 0) {\n            var observer = this._pendingObservers.shift();\n            if (observer && observer.onError) {\n                observer.onError(error);\n            }\n        }\n    };\n    ResponseHandler.prototype.hasOngoingObservableRequests = function () {\n        return this._currentObserver != null || this._pendingObservers.length > 0;\n    };\n    ResponseHandler.prototype._resetFailure = function () {\n        this._currentFailure = null;\n    };\n    return ResponseHandler;\n}());\nexports.default = ResponseHandler;\n/**\n * Standardize error classification that are different between 5.x and previous versions.\n *\n * The transient error were clean-up for being retrieable and because of this\n * `Terminated` and `LockClientStopped` were reclassified as `ClientError`.\n *\n * @param {string} code\n * @returns {string} the standardized error code\n */\nfunction _standardizeCode(code) {\n    if (code === 'Neo.TransientError.Transaction.Terminated') {\n        return 'Neo.ClientError.Transaction.Terminated';\n    }\n    else if (code === 'Neo.TransientError.Transaction.LockClientStopped') {\n        return 'Neo.ClientError.Transaction.LockClientStopped';\n    }\n    return code;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Represente the raw version of the routing table\n */\nvar RawRoutingTable = /** @class */ (function () {\n    function RawRoutingTable() {\n    }\n    /**\n     * Constructs the raw routing table for Record based result\n     * @param {Record} record The record which will be used get the raw routing table\n     * @returns {RawRoutingTable} The raw routing table\n     */\n    RawRoutingTable.ofRecord = function (record) {\n        if (record === null) {\n            return RawRoutingTable.ofNull();\n        }\n        return new RecordRawRoutingTable(record);\n    };\n    /**\n     * Constructs the raw routing table for Success result for a Routing Message\n     * @param {object} response The result\n     * @returns {RawRoutingTable} The raw routing table\n     */\n    RawRoutingTable.ofMessageResponse = function (response) {\n        if (response === null) {\n            return RawRoutingTable.ofNull();\n        }\n        return new ResponseRawRoutingTable(response);\n    };\n    /**\n     * Construct the raw routing table of a null response\n     *\n     * @returns {RawRoutingTable} the raw routing table\n     */\n    RawRoutingTable.ofNull = function () {\n        return new NullRawRoutingTable();\n    };\n    Object.defineProperty(RawRoutingTable.prototype, \"ttl\", {\n        /**\n         * Get raw ttl\n         *\n         * @returns {number|string} ttl Time to live\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"db\", {\n        /**\n         * Get raw db\n         *\n         * @returns {string?} The database name\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"servers\", {\n        /**\n         *\n         * @typedef {Object} ServerRole\n         * @property {string} role the role of the address on the cluster\n         * @property {string[]} addresses the address within the role\n         *\n         * @return {ServerRole[]} list of servers addresses\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RawRoutingTable.prototype, \"isNull\", {\n        /**\n         * Indicates the result is null\n         *\n         * @returns {boolean} Is null\n         */\n        get: function () {\n            throw new Error('Not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RawRoutingTable;\n}());\nexports.default = RawRoutingTable;\n/**\n * Get the raw routing table information from route message response\n */\nvar ResponseRawRoutingTable = /** @class */ (function (_super) {\n    __extends(ResponseRawRoutingTable, _super);\n    function ResponseRawRoutingTable(response) {\n        var _this = _super.call(this) || this;\n        _this._response = response;\n        return _this;\n    }\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"ttl\", {\n        get: function () {\n            return this._response.rt.ttl;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"servers\", {\n        get: function () {\n            return this._response.rt.servers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"db\", {\n        get: function () {\n            return this._response.rt.db;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return this._response === null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ResponseRawRoutingTable;\n}(RawRoutingTable));\n/**\n * Null routing table\n */\nvar NullRawRoutingTable = /** @class */ (function (_super) {\n    __extends(NullRawRoutingTable, _super);\n    function NullRawRoutingTable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(NullRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NullRawRoutingTable;\n}(RawRoutingTable));\n/**\n * Get the raw routing table information from the record\n */\nvar RecordRawRoutingTable = /** @class */ (function (_super) {\n    __extends(RecordRawRoutingTable, _super);\n    function RecordRawRoutingTable(record) {\n        var _this = _super.call(this) || this;\n        _this._record = record;\n        return _this;\n    }\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"ttl\", {\n        get: function () {\n            return this._record.get('ttl');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"servers\", {\n        get: function () {\n            return this._record.get('servers');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"db\", {\n        get: function () {\n            return this._record.has('db') ? this._record.get('db') : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RecordRawRoutingTable.prototype, \"isNull\", {\n        get: function () {\n            return this._record === null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RecordRawRoutingTable;\n}(RawRoutingTable));\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProcedureRouteObserver = exports.RouteObserver = exports.CompletedObserver = exports.FailedObserver = exports.ResetObserver = exports.LoginObserver = exports.ResultStreamObserver = exports.StreamObserver = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar routing_table_raw_1 = __importDefault(require(\"./routing-table-raw\"));\nvar FETCH_ALL = neo4j_driver_core_1.internal.constants.FETCH_ALL;\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar StreamObserver = /** @class */ (function () {\n    function StreamObserver() {\n    }\n    StreamObserver.prototype.onNext = function (rawRecord) { };\n    StreamObserver.prototype.onError = function (_error) { };\n    StreamObserver.prototype.onCompleted = function (meta) { };\n    return StreamObserver;\n}());\nexports.StreamObserver = StreamObserver;\n/**\n * Handles a RUN/PULL_ALL, or RUN/DISCARD_ALL requests, maps the responses\n * in a way that a user-provided observer can see these as a clean Stream\n * of records.\n * This class will queue up incoming messages until a user-provided observer\n * for the incoming stream is registered. Thus, we keep fields around\n * for tracking head/records/tail. These are only used if there is no\n * observer registered.\n * @access private\n */\nvar ResultStreamObserver = /** @class */ (function (_super) {\n    __extends(ResultStreamObserver, _super);\n    /**\n     *\n     * @param {Object} param\n     * @param {Object} param.server\n     * @param {boolean} param.reactive\n     * @param {function(stmtId: number|Integer, n: number|Integer, observer: StreamObserver)} param.moreFunction -\n     * @param {function(stmtId: number|Integer, observer: StreamObserver)} param.discardFunction -\n     * @param {number|Integer} param.fetchSize -\n     * @param {function(err: Error): Promise|void} param.beforeError -\n     * @param {function(err: Error): Promise|void} param.afterError -\n     * @param {function(keys: string[]): Promise|void} param.beforeKeys -\n     * @param {function(keys: string[]): Promise|void} param.afterKeys -\n     * @param {function(metadata: Object): Promise|void} param.beforeComplete -\n     * @param {function(metadata: Object): Promise|void} param.afterComplete -\n     */\n    function ResultStreamObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.reactive, reactive = _c === void 0 ? false : _c, moreFunction = _b.moreFunction, discardFunction = _b.discardFunction, _d = _b.fetchSize, fetchSize = _d === void 0 ? FETCH_ALL : _d, beforeError = _b.beforeError, afterError = _b.afterError, beforeKeys = _b.beforeKeys, afterKeys = _b.afterKeys, beforeComplete = _b.beforeComplete, afterComplete = _b.afterComplete, server = _b.server, _e = _b.highRecordWatermark, highRecordWatermark = _e === void 0 ? Number.MAX_VALUE : _e, _f = _b.lowRecordWatermark, lowRecordWatermark = _f === void 0 ? Number.MAX_VALUE : _f;\n        var _this = _super.call(this) || this;\n        _this._fieldKeys = null;\n        _this._fieldLookup = null;\n        _this._head = null;\n        _this._queuedRecords = [];\n        _this._tail = null;\n        _this._error = null;\n        _this._observers = [];\n        _this._meta = {};\n        _this._server = server;\n        _this._beforeError = beforeError;\n        _this._afterError = afterError;\n        _this._beforeKeys = beforeKeys;\n        _this._afterKeys = afterKeys;\n        _this._beforeComplete = beforeComplete;\n        _this._afterComplete = afterComplete;\n        _this._queryId = null;\n        _this._moreFunction = moreFunction;\n        _this._discardFunction = discardFunction;\n        _this._discard = false;\n        _this._fetchSize = fetchSize;\n        _this._lowRecordWatermark = lowRecordWatermark;\n        _this._highRecordWatermark = highRecordWatermark;\n        _this._setState(reactive ? _states.READY : _states.READY_STREAMING);\n        _this._setupAutoPull();\n        _this._paused = false;\n        return _this;\n    }\n    /**\n     * Pause the record consuming\n     *\n     * This function will supend the record consuming. It will not cancel the stream and the already\n     * requested records will be sent to the subscriber.\n     */\n    ResultStreamObserver.prototype.pause = function () {\n        this._paused = true;\n    };\n    /**\n     * Resume the record consuming\n     *\n     * This function will resume the record consuming fetching more records from the server.\n     */\n    ResultStreamObserver.prototype.resume = function () {\n        this._paused = false;\n        this._setupAutoPull(true);\n        this._state.pull(this);\n    };\n    /**\n     * Will be called on every record that comes in and transform a raw record\n     * to a Object. If user-provided observer is present, pass transformed record\n     * to it's onNext method, otherwise, push to record que.\n     * @param {Array} rawRecord - An array with the raw record\n     */\n    ResultStreamObserver.prototype.onNext = function (rawRecord) {\n        var record = new neo4j_driver_core_1.Record(this._fieldKeys, rawRecord, this._fieldLookup);\n        if (this._observers.some(function (o) { return o.onNext; })) {\n            this._observers.forEach(function (o) {\n                if (o.onNext) {\n                    o.onNext(record);\n                }\n            });\n        }\n        else {\n            this._queuedRecords.push(record);\n            if (this._queuedRecords.length > this._highRecordWatermark) {\n                this._autoPull = false;\n            }\n        }\n    };\n    ResultStreamObserver.prototype.onCompleted = function (meta) {\n        this._state.onSuccess(this, meta);\n    };\n    /**\n     * Will be called on errors.\n     * If user-provided observer is present, pass the error\n     * to it's onError method, otherwise set instance variable _error.\n     * @param {Object} error - An error object\n     */\n    ResultStreamObserver.prototype.onError = function (error) {\n        this._state.onError(this, error);\n    };\n    /**\n     * Cancel pending record stream\n     */\n    ResultStreamObserver.prototype.cancel = function () {\n        this._discard = true;\n    };\n    /**\n     * Stream observer defaults to handling responses for two messages: RUN + PULL_ALL or RUN + DISCARD_ALL.\n     * Response for RUN initializes query keys. Response for PULL_ALL / DISCARD_ALL exposes the result stream.\n     *\n     * However, some operations can be represented as a single message which receives full metadata in a single response.\n     * For example, operations to begin, commit and rollback an explicit transaction use two messages in Bolt V1 but a single message in Bolt V3.\n     * Messages are `RUN \"BEGIN\" {}` + `PULL_ALL` in Bolt V1 and `BEGIN` in Bolt V3.\n     *\n     * This function prepares the observer to only handle a single response message.\n     */\n    ResultStreamObserver.prototype.prepareToHandleSingleResponse = function () {\n        this._head = [];\n        this._fieldKeys = [];\n        this._setState(_states.STREAMING);\n    };\n    /**\n     * Mark this observer as if it has completed with no metadata.\n     */\n    ResultStreamObserver.prototype.markCompleted = function () {\n        this._head = [];\n        this._fieldKeys = [];\n        this._tail = {};\n        this._setState(_states.SUCCEEDED);\n    };\n    /**\n     * Subscribe to events with provided observer.\n     * @param {Object} observer - Observer object\n     * @param {function(keys: String[])} observer.onKeys - Handle stream header, field keys.\n     * @param {function(record: Object)} observer.onNext - Handle records, one by one.\n     * @param {function(metadata: Object)} observer.onCompleted - Handle stream tail, the metadata.\n     * @param {function(error: Object)} observer.onError - Handle errors, should always be provided.\n     */\n    ResultStreamObserver.prototype.subscribe = function (observer) {\n        if (this._head && observer.onKeys) {\n            observer.onKeys(this._head);\n        }\n        if (this._queuedRecords.length > 0 && observer.onNext) {\n            for (var i = 0; i < this._queuedRecords.length; i++) {\n                observer.onNext(this._queuedRecords[i]);\n                if (this._queuedRecords.length - i - 1 <= this._lowRecordWatermark) {\n                    this._autoPull = true;\n                    if (this._state === _states.READY) {\n                        this._handleStreaming();\n                    }\n                }\n            }\n        }\n        if (this._tail && observer.onCompleted) {\n            observer.onCompleted(this._tail);\n        }\n        if (this._error) {\n            observer.onError(this._error);\n        }\n        this._observers.push(observer);\n        if (this._state === _states.READY) {\n            this._handleStreaming();\n        }\n    };\n    ResultStreamObserver.prototype._handleHasMore = function (meta) {\n        // We've consumed current batch and server notified us that there're more\n        // records to stream. Let's invoke more or discard function based on whether\n        // the user wants to discard streaming or not\n        this._setState(_states.READY); // we've done streaming\n        this._handleStreaming();\n        delete meta.has_more;\n    };\n    ResultStreamObserver.prototype._handlePullSuccess = function (meta) {\n        var _this = this;\n        var completionMetadata = Object.assign(this._server ? { server: this._server } : {}, this._meta, meta);\n        if (![undefined, null, 'r', 'w', 'rw', 's'].includes(completionMetadata.type)) {\n            this.onError((0, neo4j_driver_core_1.newError)(\"Server returned invalid query type. Expected one of [undefined, null, \\\"r\\\", \\\"w\\\", \\\"rw\\\", \\\"s\\\"] but got '\".concat(completionMetadata.type, \"'\"), PROTOCOL_ERROR));\n            return;\n        }\n        this._setState(_states.SUCCEEDED);\n        var beforeHandlerResult = null;\n        if (this._beforeComplete) {\n            beforeHandlerResult = this._beforeComplete(completionMetadata);\n        }\n        var continuation = function () {\n            // End of stream\n            _this._tail = completionMetadata;\n            if (_this._observers.some(function (o) { return o.onCompleted; })) {\n                _this._observers.forEach(function (o) {\n                    if (o.onCompleted) {\n                        o.onCompleted(completionMetadata);\n                    }\n                });\n            }\n            if (_this._afterComplete) {\n                _this._afterComplete(completionMetadata);\n            }\n        };\n        if (beforeHandlerResult) {\n            Promise.resolve(beforeHandlerResult).then(function () { return continuation(); });\n        }\n        else {\n            continuation();\n        }\n    };\n    ResultStreamObserver.prototype._handleRunSuccess = function (meta, afterSuccess) {\n        var _this = this;\n        if (this._fieldKeys === null) {\n            // Stream header, build a name->index field lookup table\n            // to be used by records. This is an optimization to make it\n            // faster to look up fields in a record by name, rather than by index.\n            // Since the records we get back via Bolt are just arrays of values.\n            this._fieldKeys = [];\n            this._fieldLookup = {};\n            if (meta.fields && meta.fields.length > 0) {\n                this._fieldKeys = meta.fields;\n                for (var i = 0; i < meta.fields.length; i++) {\n                    this._fieldLookup[meta.fields[i]] = i;\n                }\n                // remove fields key from metadata object\n                delete meta.fields;\n            }\n            // Extract server generated query id for use in requestMore and discard\n            // functions\n            if (meta.qid !== null && meta.qid !== undefined) {\n                this._queryId = meta.qid;\n                // remove qid from metadata object\n                delete meta.qid;\n            }\n            this._storeMetadataForCompletion(meta);\n            var beforeHandlerResult = null;\n            if (this._beforeKeys) {\n                beforeHandlerResult = this._beforeKeys(this._fieldKeys);\n            }\n            var continuation_1 = function () {\n                _this._head = _this._fieldKeys;\n                if (_this._observers.some(function (o) { return o.onKeys; })) {\n                    _this._observers.forEach(function (o) {\n                        if (o.onKeys) {\n                            o.onKeys(_this._fieldKeys);\n                        }\n                    });\n                }\n                if (_this._afterKeys) {\n                    _this._afterKeys(_this._fieldKeys);\n                }\n                afterSuccess();\n            };\n            if (beforeHandlerResult) {\n                Promise.resolve(beforeHandlerResult).then(function () { return continuation_1(); });\n            }\n            else {\n                continuation_1();\n            }\n        }\n    };\n    ResultStreamObserver.prototype._handleError = function (error) {\n        var _this = this;\n        this._setState(_states.FAILED);\n        this._error = error;\n        var beforeHandlerResult = null;\n        if (this._beforeError) {\n            beforeHandlerResult = this._beforeError(error);\n        }\n        var continuation = function () {\n            if (_this._observers.some(function (o) { return o.onError; })) {\n                _this._observers.forEach(function (o) {\n                    if (o.onError) {\n                        o.onError(error);\n                    }\n                });\n            }\n            if (_this._afterError) {\n                _this._afterError(error);\n            }\n        };\n        if (beforeHandlerResult) {\n            Promise.resolve(beforeHandlerResult).then(function () { return continuation(); });\n        }\n        else {\n            continuation();\n        }\n    };\n    ResultStreamObserver.prototype._handleStreaming = function () {\n        if (this._head && this._observers.some(function (o) { return o.onNext || o.onCompleted; })) {\n            if (!this._paused && (this._discard || this._autoPull)) {\n                this._more();\n            }\n        }\n    };\n    ResultStreamObserver.prototype._more = function () {\n        if (this._discard) {\n            this._discardFunction(this._queryId, this);\n        }\n        else {\n            this._moreFunction(this._queryId, this._fetchSize, this);\n        }\n        this._setState(_states.STREAMING);\n    };\n    ResultStreamObserver.prototype._storeMetadataForCompletion = function (meta) {\n        var keys = Object.keys(meta);\n        var index = keys.length;\n        var key = '';\n        while (index--) {\n            key = keys[index];\n            this._meta[key] = meta[key];\n        }\n    };\n    ResultStreamObserver.prototype._setState = function (state) {\n        this._state = state;\n    };\n    ResultStreamObserver.prototype._setupAutoPull = function () {\n        this._autoPull = true;\n    };\n    return ResultStreamObserver;\n}(StreamObserver));\nexports.ResultStreamObserver = ResultStreamObserver;\nvar LoginObserver = /** @class */ (function (_super) {\n    __extends(LoginObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onCompleted\n     */\n    function LoginObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    LoginObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when initializing ' + neo4j_driver_core_1.json.stringify(record)));\n    };\n    LoginObserver.prototype.onError = function (error) {\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    LoginObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(metadata);\n        }\n    };\n    return LoginObserver;\n}(StreamObserver));\nexports.LoginObserver = LoginObserver;\nvar ResetObserver = /** @class */ (function (_super) {\n    __extends(ResetObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: String)} param.onProtocolError\n     * @param {function(err: Error)} param.onError\n     * @param {function(metadata)} param.onComplete\n     */\n    function ResetObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onProtocolError = _b.onProtocolError, onError = _b.onError, onComplete = _b.onComplete;\n        var _this = _super.call(this) || this;\n        _this._onProtocolError = onProtocolError;\n        _this._onError = onError;\n        _this._onComplete = onComplete;\n        return _this;\n    }\n    ResetObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when resetting: received record is: ' +\n            neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    ResetObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    ResetObserver.prototype.onCompleted = function (metadata) {\n        if (this._onComplete) {\n            this._onComplete(metadata);\n        }\n    };\n    return ResetObserver;\n}(StreamObserver));\nexports.ResetObserver = ResetObserver;\nvar FailedObserver = /** @class */ (function (_super) {\n    __extends(FailedObserver, _super);\n    function FailedObserver(_a) {\n        var error = _a.error, onError = _a.onError;\n        var _this = _super.call(this, { beforeError: onError }) || this;\n        _this.onError(error);\n        return _this;\n    }\n    return FailedObserver;\n}(ResultStreamObserver));\nexports.FailedObserver = FailedObserver;\nvar CompletedObserver = /** @class */ (function (_super) {\n    __extends(CompletedObserver, _super);\n    function CompletedObserver() {\n        var _this = _super.call(this) || this;\n        _super.prototype.markCompleted.call(_this);\n        return _this;\n    }\n    return CompletedObserver;\n}(ResultStreamObserver));\nexports.CompletedObserver = CompletedObserver;\nvar ProcedureRouteObserver = /** @class */ (function (_super) {\n    __extends(ProcedureRouteObserver, _super);\n    function ProcedureRouteObserver(_a) {\n        var resultObserver = _a.resultObserver, onProtocolError = _a.onProtocolError, onError = _a.onError, onCompleted = _a.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._resultObserver = resultObserver;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        _this._records = [];\n        _this._onProtocolError = onProtocolError;\n        resultObserver.subscribe(_this);\n        return _this;\n    }\n    ProcedureRouteObserver.prototype.onNext = function (record) {\n        this._records.push(record);\n    };\n    ProcedureRouteObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    ProcedureRouteObserver.prototype.onCompleted = function () {\n        if (this._records !== null && this._records.length !== 1) {\n            this.onError((0, neo4j_driver_core_1.newError)('Illegal response from router. Received ' +\n                this._records.length +\n                ' records but expected only one.\\n' +\n                neo4j_driver_core_1.json.stringify(this._records), PROTOCOL_ERROR));\n            return;\n        }\n        if (this._onCompleted) {\n            this._onCompleted(routing_table_raw_1.default.ofRecord(this._records[0]));\n        }\n    };\n    return ProcedureRouteObserver;\n}(StreamObserver));\nexports.ProcedureRouteObserver = ProcedureRouteObserver;\nvar RouteObserver = /** @class */ (function (_super) {\n    __extends(RouteObserver, _super);\n    /**\n     *\n     * @param {Object} param -\n     * @param {function(err: String)} param.onProtocolError\n     * @param {function(err: Error)} param.onError\n     * @param {function(RawRoutingTable)} param.onCompleted\n     */\n    function RouteObserver(_a) {\n        var _b = _a === void 0 ? {} : _a, onProtocolError = _b.onProtocolError, onError = _b.onError, onCompleted = _b.onCompleted;\n        var _this = _super.call(this) || this;\n        _this._onProtocolError = onProtocolError;\n        _this._onError = onError;\n        _this._onCompleted = onCompleted;\n        return _this;\n    }\n    RouteObserver.prototype.onNext = function (record) {\n        this.onError((0, neo4j_driver_core_1.newError)('Received RECORD when resetting: received record is: ' +\n            neo4j_driver_core_1.json.stringify(record), PROTOCOL_ERROR));\n    };\n    RouteObserver.prototype.onError = function (error) {\n        if (error.code === PROTOCOL_ERROR && this._onProtocolError) {\n            this._onProtocolError(error.message);\n        }\n        if (this._onError) {\n            this._onError(error);\n        }\n    };\n    RouteObserver.prototype.onCompleted = function (metadata) {\n        if (this._onCompleted) {\n            this._onCompleted(routing_table_raw_1.default.ofMessageResponse(metadata));\n        }\n    };\n    return RouteObserver;\n}(StreamObserver));\nexports.RouteObserver = RouteObserver;\nvar _states = {\n    READY_STREAMING: {\n        // async start state\n        onSuccess: function (streamObserver, meta) {\n            streamObserver._handleRunSuccess(meta, function () {\n                streamObserver._setState(_states.STREAMING);\n            } // after run succeeded, async directly move to streaming\n            // state\n            );\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'READY_STREAMING';\n        },\n        pull: function () { }\n    },\n    READY: {\n        // reactive start state\n        onSuccess: function (streamObserver, meta) {\n            streamObserver._handleRunSuccess(meta, function () { return streamObserver._handleStreaming(); } // after run succeeded received, reactive shall start pulling\n            );\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'READY';\n        },\n        pull: function (streamObserver) { return streamObserver._more(); }\n    },\n    STREAMING: {\n        onSuccess: function (streamObserver, meta) {\n            if (meta.has_more) {\n                streamObserver._handleHasMore(meta);\n            }\n            else {\n                streamObserver._handlePullSuccess(meta);\n            }\n        },\n        onError: function (streamObserver, error) {\n            streamObserver._handleError(error);\n        },\n        name: function () {\n            return 'STREAMING';\n        },\n        pull: function () { }\n    },\n    FAILED: {\n        onError: function (_error) {\n            // more errors are ignored\n        },\n        name: function () {\n            return 'FAILED';\n        },\n        pull: function () { }\n    },\n    SUCCEEDED: {\n        name: function () {\n            return 'SUCCEEDED';\n        },\n        pull: function () { }\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.epochSecondAndNanoToLocalDateTime = exports.nanoOfDayToLocalTime = exports.epochDayToDate = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar _a = neo4j_driver_core_1.internal.temporalUtil, DAYS_0000_TO_1970 = _a.DAYS_0000_TO_1970, DAYS_PER_400_YEAR_CYCLE = _a.DAYS_PER_400_YEAR_CYCLE, NANOS_PER_HOUR = _a.NANOS_PER_HOUR, NANOS_PER_MINUTE = _a.NANOS_PER_MINUTE, NANOS_PER_SECOND = _a.NANOS_PER_SECOND, SECONDS_PER_DAY = _a.SECONDS_PER_DAY, floorDiv = _a.floorDiv, floorMod = _a.floorMod;\n/**\n * Converts given epoch day to a local date.\n * @param {Integer|number|string} epochDay the epoch day to convert.\n * @return {Date} the date representing the epoch day in years, months and days.\n */\nfunction epochDayToDate(epochDay) {\n    epochDay = (0, neo4j_driver_core_1.int)(epochDay);\n    var zeroDay = epochDay.add(DAYS_0000_TO_1970).subtract(60);\n    var adjust = (0, neo4j_driver_core_1.int)(0);\n    if (zeroDay.lessThan(0)) {\n        var adjustCycles = zeroDay\n            .add(1)\n            .div(DAYS_PER_400_YEAR_CYCLE)\n            .subtract(1);\n        adjust = adjustCycles.multiply(400);\n        zeroDay = zeroDay.add(adjustCycles.multiply(-DAYS_PER_400_YEAR_CYCLE));\n    }\n    var year = zeroDay\n        .multiply(400)\n        .add(591)\n        .div(DAYS_PER_400_YEAR_CYCLE);\n    var dayOfYearEst = zeroDay.subtract(year\n        .multiply(365)\n        .add(year.div(4))\n        .subtract(year.div(100))\n        .add(year.div(400)));\n    if (dayOfYearEst.lessThan(0)) {\n        year = year.subtract(1);\n        dayOfYearEst = zeroDay.subtract(year\n            .multiply(365)\n            .add(year.div(4))\n            .subtract(year.div(100))\n            .add(year.div(400)));\n    }\n    year = year.add(adjust);\n    var marchDayOfYear = dayOfYearEst;\n    var marchMonth = marchDayOfYear\n        .multiply(5)\n        .add(2)\n        .div(153);\n    var month = marchMonth\n        .add(2)\n        .modulo(12)\n        .add(1);\n    var day = marchDayOfYear\n        .subtract(marchMonth\n        .multiply(306)\n        .add(5)\n        .div(10))\n        .add(1);\n    year = year.add(marchMonth.div(10));\n    return new neo4j_driver_core_1.Date(year, month, day);\n}\nexports.epochDayToDate = epochDayToDate;\n/**\n * Converts nanoseconds of the day into local time.\n * @param {Integer|number|string} nanoOfDay the nanoseconds of the day to convert.\n * @return {LocalTime} the local time representing given nanoseconds of the day.\n */\nfunction nanoOfDayToLocalTime(nanoOfDay) {\n    nanoOfDay = (0, neo4j_driver_core_1.int)(nanoOfDay);\n    var hour = nanoOfDay.div(NANOS_PER_HOUR);\n    nanoOfDay = nanoOfDay.subtract(hour.multiply(NANOS_PER_HOUR));\n    var minute = nanoOfDay.div(NANOS_PER_MINUTE);\n    nanoOfDay = nanoOfDay.subtract(minute.multiply(NANOS_PER_MINUTE));\n    var second = nanoOfDay.div(NANOS_PER_SECOND);\n    var nanosecond = nanoOfDay.subtract(second.multiply(NANOS_PER_SECOND));\n    return new neo4j_driver_core_1.LocalTime(hour, minute, second, nanosecond);\n}\nexports.nanoOfDayToLocalTime = nanoOfDayToLocalTime;\n/**\n * Converts given epoch second and nanosecond adjustment into a local date time object.\n * @param {Integer|number|string} epochSecond the epoch second to use.\n * @param {Integer|number|string} nano the nanosecond to use.\n * @return {LocalDateTime} the local date time representing given epoch second and nano.\n */\nfunction epochSecondAndNanoToLocalDateTime(epochSecond, nano) {\n    var epochDay = floorDiv(epochSecond, SECONDS_PER_DAY);\n    var secondsOfDay = floorMod(epochSecond, SECONDS_PER_DAY);\n    var nanoOfDay = secondsOfDay.multiply(NANOS_PER_SECOND).add(nano);\n    var localDate = epochDayToDate(epochDay);\n    var localTime = nanoOfDayToLocalTime(nanoOfDay);\n    return new neo4j_driver_core_1.LocalDateTime(localDate.year, localDate.month, localDate.day, localTime.hour, localTime.minute, localTime.second, localTime.nanosecond);\n}\nexports.epochSecondAndNanoToLocalDateTime = epochSecondAndNanoToLocalDateTime;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeTransformer = void 0;\nvar packstream_1 = require(\"../packstream\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar objectUtil = neo4j_driver_core_1.internal.objectUtil;\n/**\n * Class responsible for applying the expected {@link TypeTransformer} to\n * transform the driver types from and to {@link struct.Structure}\n */\nvar Transformer = /** @class */ (function () {\n    /**\n     * Constructor\n     * @param {TypeTransformer[]} transformers The type transformers\n     */\n    function Transformer(transformers) {\n        this._transformers = transformers;\n        this._transformersPerSignature = new Map(transformers.map(function (typeTransformer) { return [typeTransformer.signature, typeTransformer]; }));\n        this.fromStructure = this.fromStructure.bind(this);\n        this.toStructure = this.toStructure.bind(this);\n        Object.freeze(this);\n    }\n    /**\n     * Transform from structure to specific object\n     *\n     * @param {struct.Structure} struct The structure\n     * @returns {<T>|structure.Structure} The driver object or the structure if the transformer was not found.\n     */\n    Transformer.prototype.fromStructure = function (struct) {\n        try {\n            if (struct instanceof packstream_1.structure.Structure && this._transformersPerSignature.has(struct.signature)) {\n                var fromStructure = this._transformersPerSignature.get(struct.signature).fromStructure;\n                return fromStructure(struct);\n            }\n            return struct;\n        }\n        catch (error) {\n            return objectUtil.createBrokenObject(error);\n        }\n    };\n    /**\n     * Transform from object to structure\n     * @param {<T>} type The object to be transoformed in structure\n     * @returns {<T>|structure.Structure} The structure or the object, if any transformer was found\n     */\n    Transformer.prototype.toStructure = function (type) {\n        var transformer = this._transformers.find(function (_a) {\n            var isTypeInstance = _a.isTypeInstance;\n            return isTypeInstance(type);\n        });\n        if (transformer !== undefined) {\n            return transformer.toStructure(type);\n        }\n        return type;\n    };\n    return Transformer;\n}());\nexports.default = Transformer;\n/**\n * @callback isTypeInstanceFunction\n * @param {any} object The object\n * @return {boolean} is instance of\n */\n/**\n * @callback toStructureFunction\n * @param {any} object The object\n * @return {structure.Structure} The structure\n */\n/**\n * @callback fromStructureFunction\n * @param {structure.Structure} struct The structure\n * @return {any} The object\n */\n/**\n * Class responsible for grouping the properties of a TypeTransformer\n */\nvar TypeTransformer = /** @class */ (function () {\n    /**\n     * @param {Object} param\n     * @param {number} param.signature The signature of the structure\n     * @param {isTypeInstanceFunction} param.isTypeInstance The function which checks if object is\n     *                instance of the type described by the TypeTransformer\n     * @param {toStructureFunction} param.toStructure The function which gets the object and converts to structure\n     * @param {fromStructureFunction} param.fromStructure The function which get the structure and covnverts to object\n     */\n    function TypeTransformer(_a) {\n        var signature = _a.signature, fromStructure = _a.fromStructure, toStructure = _a.toStructure, isTypeInstance = _a.isTypeInstance;\n        this.signature = signature;\n        this.isTypeInstance = isTypeInstance;\n        this.fromStructure = fromStructure;\n        this.toStructure = toStructure;\n        Object.freeze(this);\n    }\n    /**\n     * @param {Object} param\n     * @param {number} [param.signature] The signature of the structure\n     * @param {isTypeInstanceFunction} [param.isTypeInstance] The function which checks if object is\n     *                instance of the type described by the TypeTransformer\n     * @param {toStructureFunction} [param.toStructure] The function which gets the object and converts to structure\n     * @param {fromStructureFunction} pparam.fromStructure] The function which get the structure and covnverts to object\n     * @returns {TypeTransformer} A new type transform extends with new methods\n     */\n    TypeTransformer.prototype.extendsWith = function (_a) {\n        var signature = _a.signature, fromStructure = _a.fromStructure, toStructure = _a.toStructure, isTypeInstance = _a.isTypeInstance;\n        return new TypeTransformer({\n            signature: signature || this.signature,\n            fromStructure: fromStructure || this.fromStructure,\n            toStructure: toStructure || this.toStructure,\n            isTypeInstance: isTypeInstance || this.isTypeInstance\n        });\n    };\n    return TypeTransformer;\n}());\nexports.TypeTransformer = TypeTransformer;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Common base with default implementation for most buffer methods.\n * Buffers are stateful - they track a current \"position\", this helps greatly\n * when reading and writing from them incrementally. You can also ignore the\n * stateful read/write methods.\n * readXXX and writeXXX-methods move the inner position of the buffer.\n * putXXX and getXXX-methods do not.\n * @access private\n */\nvar BaseBuffer = /** @class */ (function () {\n    /**\n     * Create a instance with the injected size.\n     * @constructor\n     * @param {Integer} size\n     */\n    function BaseBuffer(size) {\n        this.position = 0;\n        this.length = size;\n    }\n    BaseBuffer.prototype.getUInt8 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.getInt8 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.getFloat64 = function (position) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putUInt8 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putInt8 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    BaseBuffer.prototype.putFloat64 = function (position, val) {\n        throw new Error('Not implemented');\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt16 = function (p) {\n        return (this.getInt8(p) << 8) | this.getUInt8(p + 1);\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getUInt16 = function (p) {\n        return (this.getUInt8(p) << 8) | this.getUInt8(p + 1);\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt32 = function (p) {\n        return ((this.getInt8(p) << 24) |\n            (this.getUInt8(p + 1) << 16) |\n            (this.getUInt8(p + 2) << 8) |\n            this.getUInt8(p + 3));\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getUInt32 = function (p) {\n        return ((this.getUInt8(p) << 24) |\n            (this.getUInt8(p + 1) << 16) |\n            (this.getUInt8(p + 2) << 8) |\n            this.getUInt8(p + 3));\n    };\n    /**\n     * @param p\n     */\n    BaseBuffer.prototype.getInt64 = function (p) {\n        return ((this.getInt8(p) << 56) |\n            (this.getUInt8(p + 1) << 48) |\n            (this.getUInt8(p + 2) << 40) |\n            (this.getUInt8(p + 3) << 32) |\n            (this.getUInt8(p + 4) << 24) |\n            (this.getUInt8(p + 5) << 16) |\n            (this.getUInt8(p + 6) << 8) |\n            this.getUInt8(p + 7));\n    };\n    /**\n     * Get a slice of this buffer. This method does not copy any data,\n     * but simply provides a slice view of this buffer\n     * @param start\n     * @param length\n     */\n    BaseBuffer.prototype.getSlice = function (start, length) {\n        return new SliceBuffer(start, length, this);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt16 = function (p, val) {\n        this.putInt8(p, val >> 8);\n        this.putUInt8(p + 1, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putUInt16 = function (p, val) {\n        this.putUInt8(p, (val >> 8) & 0xff);\n        this.putUInt8(p + 1, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt32 = function (p, val) {\n        this.putInt8(p, val >> 24);\n        this.putUInt8(p + 1, (val >> 16) & 0xff);\n        this.putUInt8(p + 2, (val >> 8) & 0xff);\n        this.putUInt8(p + 3, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putUInt32 = function (p, val) {\n        this.putUInt8(p, (val >> 24) & 0xff);\n        this.putUInt8(p + 1, (val >> 16) & 0xff);\n        this.putUInt8(p + 2, (val >> 8) & 0xff);\n        this.putUInt8(p + 3, val & 0xff);\n    };\n    /**\n     * @param p\n     * @param val\n     */\n    BaseBuffer.prototype.putInt64 = function (p, val) {\n        this.putInt8(p, val >> 48);\n        this.putUInt8(p + 1, (val >> 42) & 0xff);\n        this.putUInt8(p + 2, (val >> 36) & 0xff);\n        this.putUInt8(p + 3, (val >> 30) & 0xff);\n        this.putUInt8(p + 4, (val >> 24) & 0xff);\n        this.putUInt8(p + 5, (val >> 16) & 0xff);\n        this.putUInt8(p + 6, (val >> 8) & 0xff);\n        this.putUInt8(p + 7, val & 0xff);\n    };\n    /**\n     * @param position\n     * @param other\n     */\n    BaseBuffer.prototype.putBytes = function (position, other) {\n        for (var i = 0, end = other.remaining(); i < end; i++) {\n            this.putUInt8(position + i, other.readUInt8());\n        }\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt8 = function () {\n        return this.getUInt8(this._updatePos(1));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt8 = function () {\n        return this.getInt8(this._updatePos(1));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt16 = function () {\n        return this.getUInt16(this._updatePos(2));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readUInt32 = function () {\n        return this.getUInt32(this._updatePos(4));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt16 = function () {\n        return this.getInt16(this._updatePos(2));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt32 = function () {\n        return this.getInt32(this._updatePos(4));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readInt64 = function () {\n        return this.getInt32(this._updatePos(8));\n    };\n    /**\n     * Read from state position.\n     */\n    BaseBuffer.prototype.readFloat64 = function () {\n        return this.getFloat64(this._updatePos(8));\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeUInt8 = function (val) {\n        this.putUInt8(this._updatePos(1), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt8 = function (val) {\n        this.putInt8(this._updatePos(1), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt16 = function (val) {\n        this.putInt16(this._updatePos(2), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt32 = function (val) {\n        this.putInt32(this._updatePos(4), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeUInt32 = function (val) {\n        this.putUInt32(this._updatePos(4), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeInt64 = function (val) {\n        this.putInt64(this._updatePos(8), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeFloat64 = function (val) {\n        this.putFloat64(this._updatePos(8), val);\n    };\n    /**\n     * Write to state position.\n     * @param val\n     */\n    BaseBuffer.prototype.writeBytes = function (val) {\n        this.putBytes(this._updatePos(val.remaining()), val);\n    };\n    /**\n     * Get a slice of this buffer. This method does not copy any data,\n     * but simply provides a slice view of this buffer\n     * @param length\n     */\n    BaseBuffer.prototype.readSlice = function (length) {\n        return this.getSlice(this._updatePos(length), length);\n    };\n    BaseBuffer.prototype._updatePos = function (length) {\n        var p = this.position;\n        this.position += length;\n        return p;\n    };\n    /**\n     * Get remaining\n     */\n    BaseBuffer.prototype.remaining = function () {\n        return this.length - this.position;\n    };\n    /**\n     * Has remaining\n     */\n    BaseBuffer.prototype.hasRemaining = function () {\n        return this.remaining() > 0;\n    };\n    /**\n     * Reset position state\n     */\n    BaseBuffer.prototype.reset = function () {\n        this.position = 0;\n    };\n    /**\n     * Get string representation of buffer and it's state.\n     * @return {string} Buffer as a string\n     */\n    BaseBuffer.prototype.toString = function () {\n        return (this.constructor.name +\n            '( position=' +\n            this.position +\n            ' )\\n  ' +\n            this.toHex());\n    };\n    /**\n     * Get string representation of buffer.\n     * @return {string} Buffer as a string\n     */\n    BaseBuffer.prototype.toHex = function () {\n        var out = '';\n        for (var i = 0; i < this.length; i++) {\n            var hexByte = this.getUInt8(i).toString(16);\n            if (hexByte.length === 1) {\n                hexByte = '0' + hexByte;\n            }\n            out += hexByte;\n            if (i !== this.length - 1) {\n                out += ' ';\n            }\n        }\n        return out;\n    };\n    return BaseBuffer;\n}());\nexports.default = BaseBuffer;\n/**\n * Represents a view as slice of another buffer.\n * @access private\n */\nvar SliceBuffer = /** @class */ (function (_super) {\n    __extends(SliceBuffer, _super);\n    function SliceBuffer(start, length, inner) {\n        var _this = _super.call(this, length) || this;\n        _this._start = start;\n        _this._inner = inner;\n        return _this;\n    }\n    SliceBuffer.prototype.putUInt8 = function (position, val) {\n        this._inner.putUInt8(this._start + position, val);\n    };\n    SliceBuffer.prototype.getUInt8 = function (position) {\n        return this._inner.getUInt8(this._start + position);\n    };\n    SliceBuffer.prototype.putInt8 = function (position, val) {\n        this._inner.putInt8(this._start + position, val);\n    };\n    SliceBuffer.prototype.putFloat64 = function (position, val) {\n        this._inner.putFloat64(this._start + position, val);\n    };\n    SliceBuffer.prototype.getInt8 = function (position) {\n        return this._inner.getInt8(this._start + position);\n    };\n    SliceBuffer.prototype.getFloat64 = function (position) {\n        return this._inner.getFloat64(this._start + position);\n    };\n    return SliceBuffer;\n}(BaseBuffer));\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseBuffer = void 0;\nvar base_buf_1 = __importDefault(require(\"./base-buf\"));\nexports.BaseBuffer = base_buf_1.default;\nexports.default = base_buf_1.default;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.alloc = void 0;\nvar buffer_1 = __importDefault(require(\"buffer\"));\nvar buf_1 = __importDefault(require(\"../buf\"));\nvar ChannelBuffer = /** @class */ (function (_super) {\n    __extends(ChannelBuffer, _super);\n    function ChannelBuffer(arg) {\n        var _this = this;\n        var buffer = newChannelJSBuffer(arg);\n        _this = _super.call(this, buffer.length) || this;\n        _this._buffer = buffer;\n        return _this;\n    }\n    ChannelBuffer.prototype.getUInt8 = function (position) {\n        return this._buffer.readUInt8(position);\n    };\n    ChannelBuffer.prototype.getInt8 = function (position) {\n        return this._buffer.readInt8(position);\n    };\n    ChannelBuffer.prototype.getFloat64 = function (position) {\n        return this._buffer.readDoubleBE(position);\n    };\n    ChannelBuffer.prototype.putUInt8 = function (position, val) {\n        this._buffer.writeUInt8(val, position);\n    };\n    ChannelBuffer.prototype.putInt8 = function (position, val) {\n        this._buffer.writeInt8(val, position);\n    };\n    ChannelBuffer.prototype.putFloat64 = function (position, val) {\n        this._buffer.writeDoubleBE(val, position);\n    };\n    ChannelBuffer.prototype.putBytes = function (position, val) {\n        if (val instanceof ChannelBuffer) {\n            var bytesToCopy = Math.min(val.length - val.position, this.length - position);\n            val._buffer.copy(this._buffer, position, val.position, val.position + bytesToCopy);\n            val.position += bytesToCopy;\n        }\n        else {\n            _super.prototype.putBytes.call(this, position, val);\n        }\n    };\n    ChannelBuffer.prototype.getSlice = function (start, length) {\n        return new ChannelBuffer(this._buffer.slice(start, start + length));\n    };\n    return ChannelBuffer;\n}(buf_1.default));\nexports.default = ChannelBuffer;\n/**\n * Allocate a buffer\n *\n * @param {number} size The buffer sizzer\n * @returns {BaseBuffer} The buffer\n */\nfunction alloc(size) {\n    return new ChannelBuffer(size);\n}\nexports.alloc = alloc;\nfunction newChannelJSBuffer(arg) {\n    if (arg instanceof buffer_1.default.Buffer) {\n        return arg;\n    }\n    else if (typeof arg === 'number' &&\n        typeof buffer_1.default.Buffer.alloc === 'function') {\n        // use static factory function present in newer NodeJS versions to allocate new buffer with specified size\n        return buffer_1.default.Buffer.alloc(arg);\n    }\n    else {\n        // fallback to the old, potentially deprecated constructor\n        // eslint-disable-next-line node/no-deprecated-api\n        return new buffer_1.default.Buffer(arg);\n    }\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar _a = neo4j_driver_core_1.internal.util, ENCRYPTION_OFF = _a.ENCRYPTION_OFF, ENCRYPTION_ON = _a.ENCRYPTION_ON;\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar ALLOWED_VALUES_ENCRYPTED = [\n    null,\n    undefined,\n    true,\n    false,\n    ENCRYPTION_ON,\n    ENCRYPTION_OFF\n];\nvar ALLOWED_VALUES_TRUST = [\n    null,\n    undefined,\n    'TRUST_ALL_CERTIFICATES',\n    'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES',\n    'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'\n];\nvar ChannelConfig = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {ServerAddress} address the address for the channel to connect to.\n     * @param {Object} driverConfig the driver config provided by the user when driver is created.\n     * @param {string} connectionErrorCode the default error code to use on connection errors.\n     */\n    function ChannelConfig(address, driverConfig, connectionErrorCode) {\n        this.address = address;\n        this.encrypted = extractEncrypted(driverConfig);\n        this.trust = extractTrust(driverConfig);\n        this.trustedCertificates = extractTrustedCertificates(driverConfig);\n        this.knownHostsPath = extractKnownHostsPath(driverConfig);\n        this.connectionErrorCode = connectionErrorCode || SERVICE_UNAVAILABLE;\n        this.connectionTimeout = driverConfig.connectionTimeout;\n    }\n    return ChannelConfig;\n}());\nexports.default = ChannelConfig;\nfunction extractEncrypted(driverConfig) {\n    var value = driverConfig.encrypted;\n    if (ALLOWED_VALUES_ENCRYPTED.indexOf(value) === -1) {\n        throw (0, neo4j_driver_core_1.newError)(\"Illegal value of the encrypted setting \".concat(value, \". Expected one of \").concat(ALLOWED_VALUES_ENCRYPTED));\n    }\n    return value;\n}\nfunction extractTrust(driverConfig) {\n    var value = driverConfig.trust;\n    if (ALLOWED_VALUES_TRUST.indexOf(value) === -1) {\n        throw (0, neo4j_driver_core_1.newError)(\"Illegal value of the trust setting \".concat(value, \". Expected one of \").concat(ALLOWED_VALUES_TRUST));\n    }\n    return value;\n}\nfunction extractTrustedCertificates(driverConfig) {\n    return driverConfig.trustedCertificates || [];\n}\nfunction extractKnownHostsPath(driverConfig) {\n    return driverConfig.knownHosts || null;\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dechunker = exports.Chunker = void 0;\nvar base_buf_1 = __importDefault(require(\"../buf/base-buf\"));\nvar channel_buf_1 = require(\"./channel-buf\");\nvar combined_buf_1 = __importDefault(require(\"./combined-buf\"));\nvar _CHUNK_HEADER_SIZE = 2;\nvar _MESSAGE_BOUNDARY = 0x00;\nvar _DEFAULT_BUFFER_SIZE = 1400; // http://stackoverflow.com/questions/2613734/maximum-packet-size-for-a-tcp-connection\n/**\n * Looks like a writable buffer, chunks output transparently into a channel below.\n * @access private\n */\nvar Chunker = /** @class */ (function (_super) {\n    __extends(Chunker, _super);\n    function Chunker(channel, bufferSize) {\n        var _this = _super.call(this, 0) || this;\n        _this._bufferSize = bufferSize || _DEFAULT_BUFFER_SIZE;\n        _this._ch = channel;\n        _this._buffer = (0, channel_buf_1.alloc)(_this._bufferSize);\n        _this._currentChunkStart = 0;\n        _this._chunkOpen = false;\n        return _this;\n    }\n    Chunker.prototype.putUInt8 = function (position, val) {\n        this._ensure(1);\n        this._buffer.writeUInt8(val);\n    };\n    Chunker.prototype.putInt8 = function (position, val) {\n        this._ensure(1);\n        this._buffer.writeInt8(val);\n    };\n    Chunker.prototype.putFloat64 = function (position, val) {\n        this._ensure(8);\n        this._buffer.writeFloat64(val);\n    };\n    Chunker.prototype.putBytes = function (position, data) {\n        // TODO: If data is larger than our chunk size or so, we're very likely better off just passing this buffer on\n        // rather than doing the copy here TODO: *however* note that we need some way to find out when the data has been\n        // written (and thus the buffer can be re-used) if we take that approach\n        while (data.remaining() > 0) {\n            // Ensure there is an open chunk, and that it has at least one byte of space left\n            this._ensure(1);\n            if (this._buffer.remaining() > data.remaining()) {\n                this._buffer.writeBytes(data);\n            }\n            else {\n                this._buffer.writeBytes(data.readSlice(this._buffer.remaining()));\n            }\n        }\n        return this;\n    };\n    Chunker.prototype.flush = function () {\n        if (this._buffer.position > 0) {\n            this._closeChunkIfOpen();\n            // Local copy and clear the buffer field. This ensures that the buffer is not re-released if the flush call fails\n            var out = this._buffer;\n            this._buffer = null;\n            this._ch.write(out.getSlice(0, out.position));\n            // Alloc a new output buffer. We assume we're using NodeJS's buffer pooling under the hood here!\n            this._buffer = (0, channel_buf_1.alloc)(this._bufferSize);\n            this._chunkOpen = false;\n        }\n        return this;\n    };\n    /**\n     * Bolt messages are encoded in one or more chunks, and the boundary between two messages\n     * is encoded as a 0-length chunk, `00 00`. This inserts such a message boundary, closing\n     * any currently open chunk as needed\n     */\n    Chunker.prototype.messageBoundary = function () {\n        this._closeChunkIfOpen();\n        if (this._buffer.remaining() < _CHUNK_HEADER_SIZE) {\n            this.flush();\n        }\n        // Write message boundary\n        this._buffer.writeInt16(_MESSAGE_BOUNDARY);\n    };\n    /** Ensure at least the given size is available for writing */\n    Chunker.prototype._ensure = function (size) {\n        var toWriteSize = this._chunkOpen ? size : size + _CHUNK_HEADER_SIZE;\n        if (this._buffer.remaining() < toWriteSize) {\n            this.flush();\n        }\n        if (!this._chunkOpen) {\n            this._currentChunkStart = this._buffer.position;\n            this._buffer.position = this._buffer.position + _CHUNK_HEADER_SIZE;\n            this._chunkOpen = true;\n        }\n    };\n    Chunker.prototype._closeChunkIfOpen = function () {\n        if (this._chunkOpen) {\n            var chunkSize = this._buffer.position - (this._currentChunkStart + _CHUNK_HEADER_SIZE);\n            this._buffer.putUInt16(this._currentChunkStart, chunkSize);\n            this._chunkOpen = false;\n        }\n    };\n    return Chunker;\n}(base_buf_1.default));\nexports.Chunker = Chunker;\n/**\n * Combines chunks until a complete message is gathered up, and then forwards that\n * message to an 'onmessage' listener.\n * @access private\n */\nvar Dechunker = /** @class */ (function () {\n    function Dechunker() {\n        this._currentMessage = [];\n        this._partialChunkHeader = 0;\n        this._state = this.AWAITING_CHUNK;\n    }\n    Dechunker.prototype.AWAITING_CHUNK = function (buf) {\n        if (buf.remaining() >= 2) {\n            // Whole header available, read that\n            return this._onHeader(buf.readUInt16());\n        }\n        else {\n            // Only one byte available, read that and wait for the second byte\n            this._partialChunkHeader = buf.readUInt8() << 8;\n            return this.IN_HEADER;\n        }\n    };\n    Dechunker.prototype.IN_HEADER = function (buf) {\n        // First header byte read, now we read the next one\n        return this._onHeader((this._partialChunkHeader | buf.readUInt8()) & 0xffff);\n    };\n    Dechunker.prototype.IN_CHUNK = function (buf) {\n        if (this._chunkSize <= buf.remaining()) {\n            // Current packet is larger than current chunk, or same size:\n            this._currentMessage.push(buf.readSlice(this._chunkSize));\n            return this.AWAITING_CHUNK;\n        }\n        else {\n            // Current packet is smaller than the chunk we're reading, split the current chunk itself up\n            this._chunkSize -= buf.remaining();\n            this._currentMessage.push(buf.readSlice(buf.remaining()));\n            return this.IN_CHUNK;\n        }\n    };\n    Dechunker.prototype.CLOSED = function (buf) {\n        // no-op\n    };\n    /** Called when a complete chunk header has been received */\n    Dechunker.prototype._onHeader = function (header) {\n        if (header === 0) {\n            // Message boundary\n            var message = void 0;\n            switch (this._currentMessage.length) {\n                case 0:\n                    // Keep alive chunk, sent by server to keep network alive.\n                    return this.AWAITING_CHUNK;\n                case 1:\n                    // All data in one chunk, this signals the end of that chunk.\n                    message = this._currentMessage[0];\n                    break;\n                default:\n                    // A large chunk of data received, this signals that the last chunk has been received.\n                    message = new combined_buf_1.default(this._currentMessage);\n                    break;\n            }\n            this._currentMessage = [];\n            this.onmessage(message);\n            return this.AWAITING_CHUNK;\n        }\n        else {\n            this._chunkSize = header;\n            return this.IN_CHUNK;\n        }\n    };\n    Dechunker.prototype.write = function (buf) {\n        while (buf.hasRemaining()) {\n            this._state = this._state(buf);\n        }\n    };\n    return Dechunker;\n}());\nexports.Dechunker = Dechunker;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar buf_1 = require(\"../buf\");\nvar channel_buf_1 = require(\"./channel-buf\");\n/**\n * Buffer that combines multiple buffers, exposing them as one single buffer.\n */\nvar CombinedBuffer = /** @class */ (function (_super) {\n    __extends(CombinedBuffer, _super);\n    function CombinedBuffer(buffers) {\n        var _this = this;\n        var length = 0;\n        for (var i = 0; i < buffers.length; i++) {\n            length += buffers[i].length;\n        }\n        _this = _super.call(this, length) || this;\n        _this._buffers = buffers;\n        return _this;\n    }\n    CombinedBuffer.prototype.getUInt8 = function (position) {\n        // Surely there's a faster way to do this.. some sort of lookup table thing?\n        for (var i = 0; i < this._buffers.length; i++) {\n            var buffer = this._buffers[i];\n            // If the position is not in the current buffer, skip the current buffer\n            if (position >= buffer.length) {\n                position -= buffer.length;\n            }\n            else {\n                return buffer.getUInt8(position);\n            }\n        }\n    };\n    CombinedBuffer.prototype.getInt8 = function (position) {\n        // Surely there's a faster way to do this.. some sort of lookup table thing?\n        for (var i = 0; i < this._buffers.length; i++) {\n            var buffer = this._buffers[i];\n            // If the position is not in the current buffer, skip the current buffer\n            if (position >= buffer.length) {\n                position -= buffer.length;\n            }\n            else {\n                return buffer.getInt8(position);\n            }\n        }\n    };\n    CombinedBuffer.prototype.getFloat64 = function (position) {\n        // At some point, a more efficient impl. For now, we copy the 8 bytes\n        // we want to read and depend on the platform impl of IEEE 754.\n        var b = (0, channel_buf_1.alloc)(8);\n        for (var i = 0; i < 8; i++) {\n            b.putUInt8(i, this.getUInt8(position + i));\n        }\n        return b.getFloat64(0);\n    };\n    return CombinedBuffer;\n}(buf_1.BaseBuffer));\nexports.default = CombinedBuffer;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utf8 = exports.alloc = exports.ChannelConfig = void 0;\n__exportStar(require(\"./node\"), exports);\n__exportStar(require(\"./chunking\"), exports);\nvar channel_config_1 = require(\"./channel-config\");\nObject.defineProperty(exports, \"ChannelConfig\", { enumerable: true, get: function () { return __importDefault(channel_config_1).default; } });\nvar channel_buf_1 = require(\"./channel-buf\");\nObject.defineProperty(exports, \"alloc\", { enumerable: true, get: function () { return channel_buf_1.alloc; } });\nvar utf8_1 = require(\"./utf8\");\nObject.defineProperty(exports, \"utf8\", { enumerable: true, get: function () { return __importDefault(utf8_1).default; } });\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HostNameResolver = exports.Channel = void 0;\nvar node_channel_1 = __importDefault(require(\"./node-channel\"));\nvar node_host_name_resolver_1 = __importDefault(require(\"./node-host-name-resolver\"));\n/*\n\nThis module exports a set of components to be used in NodeJS environment.\nThey are not compatible with browser environment.\nAll files that require environment-dependent APIs should import this file by default.\nImports/requires are replaced at build time with `browser/index.js` when building a browser bundle.\n\nNOTE: exports in this module should have exactly the same names/structure as exports in `browser/index.js`.\n\n */\nexports.Channel = node_channel_1.default;\nexports.HostNameResolver = node_host_name_resolver_1.default;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar net_1 = __importDefault(require(\"net\"));\nvar tls_1 = __importDefault(require(\"tls\"));\nvar fs_1 = __importDefault(require(\"fs\"));\nvar channel_buf_1 = __importDefault(require(\"../channel-buf\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar _a = neo4j_driver_core_1.internal.util, ENCRYPTION_OFF = _a.ENCRYPTION_OFF, ENCRYPTION_ON = _a.ENCRYPTION_ON, isEmptyObjectOrNull = _a.isEmptyObjectOrNull;\nvar _CONNECTION_IDGEN = 0;\nvar TrustStrategy = {\n    TRUST_CUSTOM_CA_SIGNED_CERTIFICATES: function (config, onSuccess, onFailure) {\n        if (!config.trustedCertificates ||\n            config.trustedCertificates.length === 0) {\n            onFailure((0, neo4j_driver_core_1.newError)('You are using TRUST_CUSTOM_CA_SIGNED_CERTIFICATES as the method ' +\n                'to verify trust for encrypted  connections, but have not configured any ' +\n                'trustedCertificates. You  must specify the path to at least one trusted ' +\n                'X.509 certificate for this to work. Two other alternatives is to use ' +\n                'TRUST_ALL_CERTIFICATES or to disable encryption by setting encrypted=\"' +\n                ENCRYPTION_OFF +\n                '\"' +\n                'in your driver configuration.'));\n            return;\n        }\n        var tlsOpts = newTlsOptions(config.address.host(), config.trustedCertificates.map(function (f) { return fs_1.default.readFileSync(f); }));\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            if (!socket.authorized) {\n                onFailure((0, neo4j_driver_core_1.newError)('Server certificate is not trusted. If you trust the database you are connecting to, add' +\n                    ' the signing certificate, or the server certificate, to the list of certificates trusted by this driver' +\n                    \" using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This \" +\n                    ' is a security measure to protect against man-in-the-middle attacks. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"`' +\n                    ' in the driver options. Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    },\n    TRUST_SYSTEM_CA_SIGNED_CERTIFICATES: function (config, onSuccess, onFailure) {\n        var tlsOpts = newTlsOptions(config.address.host());\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            if (!socket.authorized) {\n                onFailure((0, neo4j_driver_core_1.newError)('Server certificate is not trusted. If you trust the database you are connecting to, use ' +\n                    'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES and add' +\n                    ' the signing certificate, or the server certificate, to the list of certificates trusted by this driver' +\n                    \" using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This \" +\n                    ' is a security measure to protect against man-in-the-middle attacks. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"`' +\n                    ' in the driver options. Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    },\n    TRUST_ALL_CERTIFICATES: function (config, onSuccess, onFailure) {\n        var tlsOpts = newTlsOptions(config.address.host());\n        var socket = tls_1.default.connect(config.address.port(), config.address.resolvedHost(), tlsOpts, function () {\n            var certificate = socket.getPeerCertificate();\n            if (isEmptyObjectOrNull(certificate)) {\n                onFailure((0, neo4j_driver_core_1.newError)('Secure connection was successful but server did not return any valid ' +\n                    'certificates. Such connection can not be trusted. If you are just trying ' +\n                    ' Neo4j out and are not concerned about encryption, simply disable it using ' +\n                    '`encrypted=\"' +\n                    ENCRYPTION_OFF +\n                    '\"` in the driver options. ' +\n                    'Socket responded with: ' +\n                    socket.authorizationError));\n            }\n            else {\n                onSuccess();\n            }\n        });\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    }\n};\n/**\n * Connect using node socket.\n * @param {ChannelConfig} config - configuration of this channel.\n * @param {function} onSuccess - callback to execute on connection success.\n * @param {function} onFailure - callback to execute on connection failure.\n * @return {*} socket connection.\n */\nfunction _connect(config, onSuccess, onFailure) {\n    if (onFailure === void 0) { onFailure = function () { return null; }; }\n    var trustStrategy = trustStrategyName(config);\n    if (!isEncrypted(config)) {\n        var socket = net_1.default.connect(config.address.port(), config.address.resolvedHost(), onSuccess);\n        socket.on('error', onFailure);\n        return configureSocket(socket);\n    }\n    else if (TrustStrategy[trustStrategy]) {\n        return TrustStrategy[trustStrategy](config, onSuccess, onFailure);\n    }\n    else {\n        onFailure((0, neo4j_driver_core_1.newError)('Unknown trust strategy: ' +\n            config.trust +\n            '. Please use either ' +\n            \"trust:'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES' or trust:'TRUST_ALL_CERTIFICATES' in your driver \" +\n            'configuration. Alternatively, you can disable encryption by setting ' +\n            '`encrypted:\"' +\n            ENCRYPTION_OFF +\n            '\"`. There is no mechanism to use encryption without trust verification, ' +\n            'because this incurs the overhead of encryption without improving security. If ' +\n            'the driver does not verify that the peer it is connected to is really Neo4j, it ' +\n            'is very easy for an attacker to bypass the encryption by pretending to be Neo4j.'));\n    }\n}\nfunction isEncrypted(config) {\n    var encryptionNotConfigured = config.encrypted == null || config.encrypted === undefined;\n    if (encryptionNotConfigured) {\n        // default to using encryption if trust-all-certificates is available\n        return false;\n    }\n    return config.encrypted === true || config.encrypted === ENCRYPTION_ON;\n}\nfunction trustStrategyName(config) {\n    if (config.trust) {\n        return config.trust;\n    }\n    return 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES';\n}\n/**\n * Create a new configuration options object for the {@code tls.connect()} call.\n * @param {string} hostname the target hostname.\n * @param {string|undefined} ca an optional CA.\n * @return {Object} a new options object.\n */\nfunction newTlsOptions(hostname, ca) {\n    if (ca === void 0) { ca = undefined; }\n    return {\n        rejectUnauthorized: false,\n        servername: hostname,\n        ca: ca // optional CA useful for TRUST_CUSTOM_CA_SIGNED_CERTIFICATES trust mode\n    };\n}\n/**\n * Update socket options for the newly created socket. Accepts either `net.Socket` or its subclass `tls.TLSSocket`.\n * @param {net.Socket} socket the socket to configure.\n * @return {net.Socket} the given socket.\n */\nfunction configureSocket(socket) {\n    socket.setKeepAlive(true);\n    return socket;\n}\n/**\n * In a Node.js environment the 'net' module is used\n * as transport.\n * @access private\n */\nvar NodeChannel = /** @class */ (function () {\n    /**\n     * Create new instance\n     * @param {ChannelConfig} config - configuration for this channel.\n     */\n    function NodeChannel(config, connect) {\n        if (connect === void 0) { connect = _connect; }\n        var self = this;\n        this.id = _CONNECTION_IDGEN++;\n        this._pending = [];\n        this._open = true;\n        this._error = null;\n        this._handleConnectionError = this._handleConnectionError.bind(this);\n        this._handleConnectionTerminated = this._handleConnectionTerminated.bind(this);\n        this._connectionErrorCode = config.connectionErrorCode;\n        this._receiveTimeout = null;\n        this._receiveTimeoutStarted = false;\n        this._conn = connect(config, function () {\n            if (!self._open) {\n                return;\n            }\n            self._conn.on('data', function (buffer) {\n                if (self.onmessage) {\n                    self.onmessage(new channel_buf_1.default(buffer));\n                }\n            });\n            self._conn.on('error', self._handleConnectionError);\n            self._conn.on('end', self._handleConnectionTerminated);\n            // Drain all pending messages\n            var pending = self._pending;\n            self._pending = null;\n            for (var i = 0; i < pending.length; i++) {\n                self.write(pending[i]);\n            }\n        }, this._handleConnectionError);\n        this._setupConnectionTimeout(config, this._conn);\n    }\n    NodeChannel.prototype._handleConnectionError = function (err) {\n        var msg = 'Failed to connect to server. ' +\n            'Please ensure that your database is listening on the correct host and port ' +\n            'and that you have compatible encryption settings both on Neo4j server and driver. ' +\n            'Note that the default encryption setting has changed in Neo4j 4.0.';\n        if (err.message)\n            msg += ' Caused by: ' + err.message;\n        this._error = (0, neo4j_driver_core_1.newError)(msg, this._connectionErrorCode);\n        if (this.onerror) {\n            this.onerror(this._error);\n        }\n    };\n    NodeChannel.prototype._handleConnectionTerminated = function () {\n        this._open = false;\n        this._error = (0, neo4j_driver_core_1.newError)('Connection was closed by server', this._connectionErrorCode);\n        if (this.onerror) {\n            this.onerror(this._error);\n        }\n    };\n    /**\n     * Setup connection timeout on the socket, if configured.\n     * @param {ChannelConfig} config - configuration of this channel.\n     * @param {Object} socket - `net.Socket` or `tls.TLSSocket` object.\n     * @private\n     */\n    NodeChannel.prototype._setupConnectionTimeout = function (config, socket) {\n        var _this = this;\n        var timeout = config.connectionTimeout;\n        if (timeout) {\n            var connectListener_1 = function () {\n                // connected - clear connection timeout\n                socket.setTimeout(0);\n            };\n            var timeoutListener_1 = function () {\n                // timeout fired - not connected within configured time. cancel timeout and destroy socket\n                socket.setTimeout(0);\n                socket.destroy((0, neo4j_driver_core_1.newError)(\"Failed to establish connection in \".concat(timeout, \"ms\"), config.connectionErrorCode));\n            };\n            socket.on('connect', connectListener_1);\n            socket.on('timeout', timeoutListener_1);\n            this._removeConnectionTimeoutListeners = function () {\n                _this._conn.off('connect', connectListener_1);\n                _this._conn.off('timeout', timeoutListener_1);\n            };\n            socket.setTimeout(timeout);\n        }\n    };\n    /**\n     * Setup the receive timeout for the channel.\n     *\n     * @param {number} receiveTimeout How long the channel will wait for receiving data before timing out (ms)\n     * @returns {void}\n     */\n    NodeChannel.prototype.setupReceiveTimeout = function (receiveTimeout) {\n        var _this = this;\n        if (this._removeConnectionTimeoutListeners) {\n            this._removeConnectionTimeoutListeners();\n        }\n        this._conn.on('timeout', function () {\n            _this._conn.destroy((0, neo4j_driver_core_1.newError)(\"Connection lost. Server didn't respond in \".concat(receiveTimeout, \"ms\"), _this._connectionErrorCode));\n        });\n        this._receiveTimeout = receiveTimeout;\n    };\n    /**\n     * Stops the receive timeout for the channel.\n     */\n    NodeChannel.prototype.stopReceiveTimeout = function () {\n        if (this._receiveTimeout !== null && this._receiveTimeoutStarted) {\n            this._receiveTimeoutStarted = false;\n            this._conn.setTimeout(0);\n        }\n    };\n    /**\n     * Start the receive timeout for the channel.\n     */\n    NodeChannel.prototype.startReceiveTimeout = function () {\n        if (this._receiveTimeout !== null && !this._receiveTimeoutStarted) {\n            this._receiveTimeoutStarted = true;\n            this._conn.setTimeout(this._receiveTimeout);\n        }\n    };\n    /**\n     * Write the passed in buffer to connection\n     * @param {ChannelBuffer} buffer - Buffer to write\n     */\n    NodeChannel.prototype.write = function (buffer) {\n        // If there is a pending queue, push this on that queue. This means\n        // we are not yet connected, so we queue things locally.\n        if (this._pending !== null) {\n            this._pending.push(buffer);\n        }\n        else if (buffer instanceof channel_buf_1.default) {\n            this._conn.write(buffer._buffer);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)(\"Don't know how to write: \" + buffer);\n        }\n    };\n    /**\n     * Close the connection\n     * @returns {Promise} A promise that will be resolved after channel is closed\n     */\n    NodeChannel.prototype.close = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var cleanup = function () {\n                if (!_this._conn.destroyed) {\n                    _this._conn.destroy();\n                }\n                resolve();\n            };\n            if (_this._open) {\n                _this._open = false;\n                _this._conn.removeListener('end', _this._handleConnectionTerminated);\n                _this._conn.on('end', function () { return cleanup(); });\n                _this._conn.on('close', function () { return cleanup(); });\n                _this._conn.end();\n                _this._conn.destroy();\n            }\n            else {\n                cleanup();\n            }\n        });\n    };\n    return NodeChannel;\n}());\nexports.default = NodeChannel;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dns_1 = __importDefault(require(\"dns\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar BaseHostNameResolver = neo4j_driver_core_1.internal.resolver.BaseHostNameResolver;\nvar NodeHostNameResolver = /** @class */ (function (_super) {\n    __extends(NodeHostNameResolver, _super);\n    function NodeHostNameResolver() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeHostNameResolver.prototype.resolve = function (address) {\n        return new Promise(function (resolve) {\n            dns_1.default.lookup(address.host(), { all: true }, function (error, resolvedTo) {\n                if (error) {\n                    resolve([address]);\n                }\n                else {\n                    var resolvedAddresses = resolvedTo.map(function (a) {\n                        return address.resolveWith(a.address);\n                    });\n                    resolve(resolvedAddresses);\n                }\n            });\n        });\n    };\n    return NodeHostNameResolver;\n}(BaseHostNameResolver));\nexports.default = NodeHostNameResolver;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar channel_buf_1 = __importDefault(require(\"./channel-buf\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar buffer_1 = __importDefault(require(\"buffer\"));\nvar string_decoder_1 = require(\"string_decoder\");\nvar decoder = new string_decoder_1.StringDecoder('utf8');\nfunction encode(str) {\n    return new channel_buf_1.default(newBuffer(str));\n}\nfunction decode(buffer, length) {\n    if (Object.prototype.hasOwnProperty.call(buffer, '_buffer')) {\n        return decodeChannelBuffer(buffer, length);\n    }\n    else if (Object.prototype.hasOwnProperty.call(buffer, '_buffers')) {\n        return decodeCombinedBuffer(buffer, length);\n    }\n    else {\n        throw (0, neo4j_driver_core_1.newError)(\"Don't know how to decode strings from '\".concat(buffer, \"'\"));\n    }\n}\nfunction decodeChannelBuffer(buffer, length) {\n    var start = buffer.position;\n    var end = start + length;\n    buffer.position = Math.min(end, buffer.length);\n    return buffer._buffer.toString('utf8', start, end);\n}\nfunction decodeCombinedBuffer(buffer, length) {\n    return streamDecodeCombinedBuffer(buffer, length, function (partBuffer) { return decoder.write(partBuffer._buffer); }, function () { return decoder.end(); });\n}\nfunction streamDecodeCombinedBuffer(combinedBuffers, length, decodeFn, endFn) {\n    var remainingBytesToRead = length;\n    var position = combinedBuffers.position;\n    combinedBuffers._updatePos(Math.min(length, combinedBuffers.length - position));\n    // Reduce CombinedBuffers to a decoded string\n    var out = combinedBuffers._buffers.reduce(function (last, partBuffer) {\n        if (remainingBytesToRead <= 0) {\n            return last;\n        }\n        else if (position >= partBuffer.length) {\n            position -= partBuffer.length;\n            return '';\n        }\n        else {\n            partBuffer._updatePos(position - partBuffer.position);\n            var bytesToRead = Math.min(partBuffer.length - position, remainingBytesToRead);\n            var lastSlice = partBuffer.readSlice(bytesToRead);\n            partBuffer._updatePos(bytesToRead);\n            remainingBytesToRead = Math.max(remainingBytesToRead - lastSlice.length, 0);\n            position = 0;\n            return last + decodeFn(lastSlice);\n        }\n    }, '');\n    return out + endFn();\n}\nfunction newBuffer(str) {\n    // use static factory function present in newer NodeJS versions to create a buffer containing the given string\n    // or fallback to the old, potentially deprecated constructor\n    if (typeof buffer_1.default.Buffer.from === 'function') {\n        return buffer_1.default.Buffer.from(str, 'utf8');\n    }\n    else {\n        // eslint-disable-next-line node/no-deprecated-api\n        return new buffer_1.default.Buffer(str, 'utf8');\n    }\n}\nexports.default = {\n    encode: encode,\n    decode: decode\n};\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar connection_provider_pooled_1 = __importDefault(require(\"./connection-provider-pooled\"));\nvar connection_1 = require(\"../connection\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar _a = neo4j_driver_core_1.internal.constants, BOLT_PROTOCOL_V3 = _a.BOLT_PROTOCOL_V3, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4;\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar DirectConnectionProvider = /** @class */ (function (_super) {\n    __extends(DirectConnectionProvider, _super);\n    function DirectConnectionProvider(_a) {\n        var id = _a.id, config = _a.config, log = _a.log, address = _a.address, userAgent = _a.userAgent, authToken = _a.authToken;\n        var _this = _super.call(this, { id: id, config: config, log: log, userAgent: userAgent, authToken: authToken }) || this;\n        _this._address = address;\n        return _this;\n    }\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    DirectConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks;\n        var databaseSpecificErrorHandler = connection_1.ConnectionErrorHandler.create({\n            errorCode: SERVICE_UNAVAILABLE,\n            handleAuthorizationExpired: function (error, address) {\n                return _this._handleAuthorizationExpired(error, address, database);\n            }\n        });\n        return this._connectionPool\n            .acquire(this._address)\n            .then(function (connection) {\n            return new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler);\n        });\n    };\n    DirectConnectionProvider.prototype._handleAuthorizationExpired = function (error, address, database) {\n        this._log.warn(\"Direct driver \".concat(this._id, \" will close connection to \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this._connectionPool.purge(address).catch(function () { });\n        return error;\n    };\n    DirectConnectionProvider.prototype._hasProtocolVersion = function (versionPredicate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, protocolVersion;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, (0, connection_1.createChannelConnection)(this._address, this._config, this._createConnectionErrorHandler(), this._log)];\n                    case 1:\n                        connection = _a.sent();\n                        protocolVersion = connection.protocol()\n                            ? connection.protocol().version\n                            : null;\n                        return [4 /*yield*/, connection.close()];\n                    case 2:\n                        _a.sent();\n                        if (protocolVersion) {\n                            return [2 /*return*/, versionPredicate(protocolVersion)];\n                        }\n                        return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsMultiDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_0; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.getNegotiatedProtocolVersion = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._hasProtocolVersion(resolve)\n                .catch(reject);\n        });\n    };\n    DirectConnectionProvider.prototype.supportsTransactionConfig = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V3; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.supportsUserImpersonation = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_4; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    DirectConnectionProvider.prototype.verifyConnectivityAndGetServerInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._verifyConnectivityAndGetServerVersion({ address: this._address })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    return DirectConnectionProvider;\n}(connection_provider_pooled_1.default));\nexports.default = DirectConnectionProvider;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar connection_1 = require(\"../connection\");\nvar pool_1 = __importStar(require(\"../pool\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE;\nvar PooledConnectionProvider = /** @class */ (function (_super) {\n    __extends(PooledConnectionProvider, _super);\n    function PooledConnectionProvider(_a, createChannelConnectionHook) {\n        var id = _a.id, config = _a.config, log = _a.log, userAgent = _a.userAgent, authToken = _a.authToken;\n        if (createChannelConnectionHook === void 0) { createChannelConnectionHook = null; }\n        var _this = _super.call(this) || this;\n        _this._id = id;\n        _this._config = config;\n        _this._log = log;\n        _this._userAgent = userAgent;\n        _this._authToken = authToken;\n        _this._createChannelConnection =\n            createChannelConnectionHook ||\n                (function (address) {\n                    return (0, connection_1.createChannelConnection)(address, _this._config, _this._createConnectionErrorHandler(), _this._log);\n                });\n        _this._connectionPool = new pool_1.default({\n            create: _this._createConnection.bind(_this),\n            destroy: _this._destroyConnection.bind(_this),\n            validate: _this._validateConnection.bind(_this),\n            installIdleObserver: PooledConnectionProvider._installIdleObserverOnConnection.bind(_this),\n            removeIdleObserver: PooledConnectionProvider._removeIdleObserverOnConnection.bind(_this),\n            config: pool_1.PoolConfig.fromDriverConfig(config),\n            log: _this._log\n        });\n        _this._openConnections = {};\n        return _this;\n    }\n    PooledConnectionProvider.prototype._createConnectionErrorHandler = function () {\n        return new connection_1.ConnectionErrorHandler(SERVICE_UNAVAILABLE);\n    };\n    /**\n     * Create a new connection and initialize it.\n     * @return {Promise<Connection>} promise resolved with a new connection or rejected when failed to connect.\n     * @access private\n     */\n    PooledConnectionProvider.prototype._createConnection = function (address, release) {\n        var _this = this;\n        return this._createChannelConnection(address).then(function (connection) {\n            connection._release = function () {\n                return release(address, connection);\n            };\n            _this._openConnections[connection.id] = connection;\n            return connection\n                .connect(_this._userAgent, _this._authToken)\n                .catch(function (error) {\n                // let's destroy this connection\n                _this._destroyConnection(connection);\n                // propagate the error because connection failed to connect / initialize\n                throw error;\n            });\n        });\n    };\n    /**\n     * Check that a connection is usable\n     * @return {boolean} true if the connection is open\n     * @access private\n     **/\n    PooledConnectionProvider.prototype._validateConnection = function (conn) {\n        if (!conn.isOpen()) {\n            return false;\n        }\n        var maxConnectionLifetime = this._config.maxConnectionLifetime;\n        var lifetime = Date.now() - conn.creationTimestamp;\n        return lifetime <= maxConnectionLifetime;\n    };\n    /**\n     * Dispose of a connection.\n     * @return {Connection} the connection to dispose.\n     * @access private\n     */\n    PooledConnectionProvider.prototype._destroyConnection = function (conn) {\n        delete this._openConnections[conn.id];\n        return conn.close();\n    };\n    /**\n     * Acquire a connection from the pool and return it ServerInfo\n     * @param {object} param\n     * @param {string} param.address the server address\n     * @return {Promise<ServerInfo>} the server info\n     */\n    PooledConnectionProvider.prototype._verifyConnectivityAndGetServerVersion = function (_a) {\n        var address = _a.address;\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, serverInfo;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._connectionPool.acquire(address)];\n                    case 1:\n                        connection = _b.sent();\n                        serverInfo = new neo4j_driver_core_1.ServerInfo(connection.server, connection.protocol().version);\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 5, 7]);\n                        if (!!connection.protocol().isLastMessageLogin()) return [3 /*break*/, 4];\n                        return [4 /*yield*/, connection.resetAndFlush()];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4: return [3 /*break*/, 7];\n                    case 5: return [4 /*yield*/, connection._release()];\n                    case 6:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 7: return [2 /*return*/, serverInfo];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // purge all idle connections in the connection pool\n                    return [4 /*yield*/, this._connectionPool.close()\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                    ];\n                    case 1:\n                        // purge all idle connections in the connection pool\n                        _a.sent();\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                        return [4 /*yield*/, Promise.all(Object.values(this._openConnections).map(function (c) { return c.close(); }))];\n                    case 2:\n                        // then close all connections driver has ever created\n                        // it is needed to close connections that are active right now and are acquired from the pool\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PooledConnectionProvider._installIdleObserverOnConnection = function (conn, observer) {\n        conn._queueObserver(observer);\n    };\n    PooledConnectionProvider._removeIdleObserverOnConnection = function (conn) {\n        conn._updateCurrentObserver();\n    };\n    return PooledConnectionProvider;\n}(neo4j_driver_core_1.ConnectionProvider));\nexports.default = PooledConnectionProvider;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar rediscovery_1 = __importStar(require(\"../rediscovery\"));\nvar channel_1 = require(\"../channel\");\nvar connection_provider_single_1 = __importDefault(require(\"./connection-provider-single\"));\nvar connection_provider_pooled_1 = __importDefault(require(\"./connection-provider-pooled\"));\nvar load_balancing_1 = require(\"../load-balancing\");\nvar connection_1 = require(\"../connection\");\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE, SESSION_EXPIRED = neo4j_driver_core_1.error.SESSION_EXPIRED;\nvar Bookmarks = neo4j_driver_core_1.internal.bookmarks.Bookmarks, _a = neo4j_driver_core_1.internal.constants, READ = _a.ACCESS_MODE_READ, WRITE = _a.ACCESS_MODE_WRITE, BOLT_PROTOCOL_V3 = _a.BOLT_PROTOCOL_V3, BOLT_PROTOCOL_V4_0 = _a.BOLT_PROTOCOL_V4_0, BOLT_PROTOCOL_V4_4 = _a.BOLT_PROTOCOL_V4_4;\nvar PROCEDURE_NOT_FOUND_CODE = 'Neo.ClientError.Procedure.ProcedureNotFound';\nvar DATABASE_NOT_FOUND_CODE = 'Neo.ClientError.Database.DatabaseNotFound';\nvar INVALID_BOOKMARK_CODE = 'Neo.ClientError.Transaction.InvalidBookmark';\nvar INVALID_BOOKMARK_MIXTURE_CODE = 'Neo.ClientError.Transaction.InvalidBookmarkMixture';\nvar AUTHORIZATION_EXPIRED_CODE = 'Neo.ClientError.Security.AuthorizationExpired';\nvar SYSTEM_DB_NAME = 'system';\nvar DEFAULT_DB_NAME = null;\nvar DEFAULT_ROUTING_TABLE_PURGE_DELAY = (0, neo4j_driver_core_1.int)(30000);\nvar RoutingConnectionProvider = /** @class */ (function (_super) {\n    __extends(RoutingConnectionProvider, _super);\n    function RoutingConnectionProvider(_a) {\n        var id = _a.id, address = _a.address, routingContext = _a.routingContext, hostNameResolver = _a.hostNameResolver, config = _a.config, log = _a.log, userAgent = _a.userAgent, authToken = _a.authToken, routingTablePurgeDelay = _a.routingTablePurgeDelay;\n        var _this = _super.call(this, { id: id, config: config, log: log, userAgent: userAgent, authToken: authToken }, function (address) {\n            return (0, connection_1.createChannelConnection)(address, _this._config, _this._createConnectionErrorHandler(), _this._log, _this._routingContext);\n        }) || this;\n        _this._routingContext = __assign(__assign({}, routingContext), { address: address.toString() });\n        _this._seedRouter = address;\n        _this._rediscovery = new rediscovery_1.default(_this._routingContext);\n        _this._loadBalancingStrategy = new load_balancing_1.LeastConnectedLoadBalancingStrategy(_this._connectionPool);\n        _this._hostNameResolver = hostNameResolver;\n        _this._dnsResolver = new channel_1.HostNameResolver();\n        _this._log = log;\n        _this._useSeedRouter = true;\n        _this._routingTableRegistry = new RoutingTableRegistry(routingTablePurgeDelay\n            ? (0, neo4j_driver_core_1.int)(routingTablePurgeDelay)\n            : DEFAULT_ROUTING_TABLE_PURGE_DELAY);\n        return _this;\n    }\n    RoutingConnectionProvider.prototype._createConnectionErrorHandler = function () {\n        // connection errors mean SERVICE_UNAVAILABLE for direct driver but for routing driver they should only\n        // result in SESSION_EXPIRED because there might still exist other servers capable of serving the request\n        return new connection_1.ConnectionErrorHandler(SESSION_EXPIRED);\n    };\n    RoutingConnectionProvider.prototype._handleUnavailability = function (error, address, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will forget \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this.forget(address, database || DEFAULT_DB_NAME);\n        return error;\n    };\n    RoutingConnectionProvider.prototype._handleAuthorizationExpired = function (error, address, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will close connections to \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this._connectionPool.purge(address).catch(function () { });\n        return error;\n    };\n    RoutingConnectionProvider.prototype._handleWriteFailure = function (error, address, database) {\n        this._log.warn(\"Routing driver \".concat(this._id, \" will forget writer \").concat(address, \" for database '\").concat(database, \"' because of an error \").concat(error.code, \" '\").concat(error.message, \"'\"));\n        this.forgetWriter(address, database || DEFAULT_DB_NAME);\n        return (0, neo4j_driver_core_1.newError)('No longer possible to write to server at ' + address, SESSION_EXPIRED, error);\n    };\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    RoutingConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, impersonatedUser = _b.impersonatedUser, onDatabaseNameResolved = _b.onDatabaseNameResolved;\n        return __awaiter(this, void 0, void 0, function () {\n            var name, address, context, databaseSpecificErrorHandler, routingTable, connection, error_1, transformed;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        context = { database: database || DEFAULT_DB_NAME };\n                        databaseSpecificErrorHandler = new connection_1.ConnectionErrorHandler(SESSION_EXPIRED, function (error, address) { return _this._handleUnavailability(error, address, context.database); }, function (error, address) { return _this._handleWriteFailure(error, address, context.database); }, function (error, address) {\n                            return _this._handleAuthorizationExpired(error, address, context.database);\n                        });\n                        return [4 /*yield*/, this._freshRoutingTable({\n                                accessMode: accessMode,\n                                database: context.database,\n                                bookmarks: bookmarks,\n                                impersonatedUser: impersonatedUser,\n                                onDatabaseNameResolved: function (databaseName) {\n                                    context.database = context.database || databaseName;\n                                    if (onDatabaseNameResolved) {\n                                        onDatabaseNameResolved(databaseName);\n                                    }\n                                }\n                            })\n                            // select a target server based on specified access mode\n                        ];\n                    case 1:\n                        routingTable = _c.sent();\n                        // select a target server based on specified access mode\n                        if (accessMode === READ) {\n                            address = this._loadBalancingStrategy.selectReader(routingTable.readers);\n                            name = 'read';\n                        }\n                        else if (accessMode === WRITE) {\n                            address = this._loadBalancingStrategy.selectWriter(routingTable.writers);\n                            name = 'write';\n                        }\n                        else {\n                            throw (0, neo4j_driver_core_1.newError)('Illegal mode ' + accessMode);\n                        }\n                        // we couldn't select a target server\n                        if (!address) {\n                            throw (0, neo4j_driver_core_1.newError)(\"Failed to obtain connection towards \".concat(name, \" server. Known routing table is: \").concat(routingTable), SESSION_EXPIRED);\n                        }\n                        _c.label = 2;\n                    case 2:\n                        _c.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this._acquireConnectionToServer(address, name, routingTable)];\n                    case 3:\n                        connection = _c.sent();\n                        return [2 /*return*/, new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler)];\n                    case 4:\n                        error_1 = _c.sent();\n                        transformed = databaseSpecificErrorHandler.handleAndTransformError(error_1, address);\n                        throw transformed;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._hasProtocolVersion = function (versionPredicate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var addresses, lastError, i, connection, protocolVersion, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._resolveSeedRouter(this._seedRouter)];\n                    case 1:\n                        addresses = _a.sent();\n                        i = 0;\n                        _a.label = 2;\n                    case 2:\n                        if (!(i < addresses.length)) return [3 /*break*/, 8];\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 6, , 7]);\n                        return [4 /*yield*/, (0, connection_1.createChannelConnection)(addresses[i], this._config, this._createConnectionErrorHandler(), this._log)];\n                    case 4:\n                        connection = _a.sent();\n                        protocolVersion = connection.protocol()\n                            ? connection.protocol().version\n                            : null;\n                        return [4 /*yield*/, connection.close()];\n                    case 5:\n                        _a.sent();\n                        if (protocolVersion) {\n                            return [2 /*return*/, versionPredicate(protocolVersion)];\n                        }\n                        return [2 /*return*/, false];\n                    case 6:\n                        error_2 = _a.sent();\n                        lastError = error_2;\n                        return [3 /*break*/, 7];\n                    case 7:\n                        i++;\n                        return [3 /*break*/, 2];\n                    case 8:\n                        if (lastError) {\n                            throw lastError;\n                        }\n                        return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsMultiDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_0; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsTransactionConfig = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V3; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.supportsUserImpersonation = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hasProtocolVersion(function (version) { return version >= BOLT_PROTOCOL_V4_4; })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.getNegotiatedProtocolVersion = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._hasProtocolVersion(resolve)\n                .catch(reject);\n        });\n    };\n    RoutingConnectionProvider.prototype.verifyConnectivityAndGetServerInfo = function (_a) {\n        var database = _a.database, accessMode = _a.accessMode;\n        return __awaiter(this, void 0, void 0, function () {\n            var context, routingTable, servers, error, servers_1, servers_1_1, address, serverInfo, e_1, e_2_1;\n            var e_2, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        context = { database: database || DEFAULT_DB_NAME };\n                        return [4 /*yield*/, this._freshRoutingTable({\n                                accessMode: accessMode,\n                                database: context.database,\n                                onDatabaseNameResolved: function (databaseName) {\n                                    context.database = context.database || databaseName;\n                                }\n                            })];\n                    case 1:\n                        routingTable = _c.sent();\n                        servers = accessMode === WRITE ? routingTable.writers : routingTable.readers;\n                        error = (0, neo4j_driver_core_1.newError)(\"No servers available for database '\".concat(context.database, \"' with access mode '\").concat(accessMode, \"'\"), SERVICE_UNAVAILABLE);\n                        _c.label = 2;\n                    case 2:\n                        _c.trys.push([2, 9, 10, 11]);\n                        servers_1 = __values(servers), servers_1_1 = servers_1.next();\n                        _c.label = 3;\n                    case 3:\n                        if (!!servers_1_1.done) return [3 /*break*/, 8];\n                        address = servers_1_1.value;\n                        _c.label = 4;\n                    case 4:\n                        _c.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this._verifyConnectivityAndGetServerVersion({ address: address })];\n                    case 5:\n                        serverInfo = _c.sent();\n                        return [2 /*return*/, serverInfo];\n                    case 6:\n                        e_1 = _c.sent();\n                        error = e_1;\n                        return [3 /*break*/, 7];\n                    case 7:\n                        servers_1_1 = servers_1.next();\n                        return [3 /*break*/, 3];\n                    case 8: return [3 /*break*/, 11];\n                    case 9:\n                        e_2_1 = _c.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3 /*break*/, 11];\n                    case 10:\n                        try {\n                            if (servers_1_1 && !servers_1_1.done && (_b = servers_1.return)) _b.call(servers_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                        return [7 /*endfinally*/];\n                    case 11: throw error;\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype.forget = function (address, database) {\n        this._routingTableRegistry.apply(database, {\n            applyWhenExists: function (routingTable) { return routingTable.forget(address); }\n        });\n        // We're firing and forgetting this operation explicitly and listening for any\n        // errors to avoid unhandled promise rejection\n        this._connectionPool.purge(address).catch(function () { });\n    };\n    RoutingConnectionProvider.prototype.forgetWriter = function (address, database) {\n        this._routingTableRegistry.apply(database, {\n            applyWhenExists: function (routingTable) { return routingTable.forgetWriter(address); }\n        });\n    };\n    RoutingConnectionProvider.prototype._acquireConnectionToServer = function (address, serverName, routingTable) {\n        return this._connectionPool.acquire(address);\n    };\n    RoutingConnectionProvider.prototype._freshRoutingTable = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks, impersonatedUser = _b.impersonatedUser, onDatabaseNameResolved = _b.onDatabaseNameResolved;\n        var currentRoutingTable = this._routingTableRegistry.get(database, function () { return new rediscovery_1.RoutingTable({ database: database }); });\n        if (!currentRoutingTable.isStaleFor(accessMode)) {\n            return currentRoutingTable;\n        }\n        this._log.info(\"Routing table is stale for database: \\\"\".concat(database, \"\\\" and access mode: \\\"\").concat(accessMode, \"\\\": \").concat(currentRoutingTable));\n        return this._refreshRoutingTable(currentRoutingTable, bookmarks, impersonatedUser, onDatabaseNameResolved);\n    };\n    RoutingConnectionProvider.prototype._refreshRoutingTable = function (currentRoutingTable, bookmarks, impersonatedUser, onDatabaseNameResolved) {\n        var knownRouters = currentRoutingTable.routers;\n        if (this._useSeedRouter) {\n            return this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, onDatabaseNameResolved);\n        }\n        return this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(knownRouters, currentRoutingTable, bookmarks, impersonatedUser, onDatabaseNameResolved);\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, onDatabaseNameResolved) {\n        return __awaiter(this, void 0, void 0, function () {\n            var seenRouters, _a, newRoutingTable, error, _b, newRoutingTable2, error2;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        seenRouters = [];\n                        return [4 /*yield*/, this._fetchRoutingTableUsingSeedRouter(seenRouters, this._seedRouter, currentRoutingTable, bookmarks, impersonatedUser)];\n                    case 1:\n                        _a = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (!newRoutingTable) return [3 /*break*/, 2];\n                        this._useSeedRouter = false;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this._fetchRoutingTableUsingKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser)];\n                    case 3:\n                        _b = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable2 = _b[0], error2 = _b[1];\n                        newRoutingTable = newRoutingTable2;\n                        error = error2 || error;\n                        _c.label = 4;\n                    case 4: return [4 /*yield*/, this._applyRoutingTableIfPossible(currentRoutingTable, newRoutingTable, onDatabaseNameResolved, error)];\n                    case 5: return [2 /*return*/, _c.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser, onDatabaseNameResolved) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, newRoutingTable, error;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, this._fetchRoutingTableUsingKnownRouters(knownRouters, currentRoutingTable, bookmarks, impersonatedUser)];\n                    case 1:\n                        _a = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (!!newRoutingTable) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this._fetchRoutingTableUsingSeedRouter(knownRouters, this._seedRouter, currentRoutingTable, bookmarks, impersonatedUser)];\n                    case 2:\n                        // none of the known routers returned a valid routing table - try to use seed router address for rediscovery\n                        _b = __read.apply(void 0, [_c.sent(), 2]), newRoutingTable = _b[0], error = _b[1];\n                        _c.label = 3;\n                    case 3: return [4 /*yield*/, this._applyRoutingTableIfPossible(currentRoutingTable, newRoutingTable, onDatabaseNameResolved, error)];\n                    case 4: return [2 /*return*/, _c.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableUsingKnownRouters = function (knownRouters, currentRoutingTable, bookmarks, impersonatedUser) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, newRoutingTable, error, lastRouterIndex;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._fetchRoutingTable(knownRouters, currentRoutingTable, bookmarks, impersonatedUser)];\n                    case 1:\n                        _a = __read.apply(void 0, [_b.sent(), 2]), newRoutingTable = _a[0], error = _a[1];\n                        if (newRoutingTable) {\n                            // one of the known routers returned a valid routing table - use it\n                            return [2 /*return*/, [newRoutingTable, null]];\n                        }\n                        lastRouterIndex = knownRouters.length - 1;\n                        RoutingConnectionProvider._forgetRouter(currentRoutingTable, knownRouters, lastRouterIndex);\n                        return [2 /*return*/, [null, error]];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTableUsingSeedRouter = function (seenRouters, seedRouter, routingTable, bookmarks, impersonatedUser) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolvedAddresses, newAddresses;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._resolveSeedRouter(seedRouter)\n                        // filter out all addresses that we've already tried\n                    ];\n                    case 1:\n                        resolvedAddresses = _a.sent();\n                        newAddresses = resolvedAddresses.filter(function (address) { return seenRouters.indexOf(address) < 0; });\n                        return [4 /*yield*/, this._fetchRoutingTable(newAddresses, routingTable, bookmarks, impersonatedUser)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._resolveSeedRouter = function (seedRouter) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolvedAddresses, dnsResolvedAddresses;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._hostNameResolver.resolve(seedRouter)];\n                    case 1:\n                        resolvedAddresses = _a.sent();\n                        return [4 /*yield*/, Promise.all(resolvedAddresses.map(function (address) { return _this._dnsResolver.resolve(address); }))];\n                    case 2:\n                        dnsResolvedAddresses = _a.sent();\n                        return [2 /*return*/, [].concat.apply([], dnsResolvedAddresses)];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._fetchRoutingTable = function (routerAddresses, routingTable, bookmarks, impersonatedUser) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, routerAddresses.reduce(function (refreshedTablePromise, currentRouter, currentIndex) { return __awaiter(_this, void 0, void 0, function () {\n                        var _a, newRoutingTable, previousRouterIndex, _b, session, error, error_3;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0: return [4 /*yield*/, refreshedTablePromise];\n                                case 1:\n                                    _a = __read.apply(void 0, [_c.sent(), 1]), newRoutingTable = _a[0];\n                                    if (newRoutingTable) {\n                                        // valid routing table was fetched - just return it, try next router otherwise\n                                        return [2 /*return*/, [newRoutingTable, null]];\n                                    }\n                                    else {\n                                        previousRouterIndex = currentIndex - 1;\n                                        RoutingConnectionProvider._forgetRouter(routingTable, routerAddresses, previousRouterIndex);\n                                    }\n                                    return [4 /*yield*/, this._createSessionForRediscovery(currentRouter, bookmarks, impersonatedUser)];\n                                case 2:\n                                    _b = __read.apply(void 0, [_c.sent(), 2]), session = _b[0], error = _b[1];\n                                    if (!session) return [3 /*break*/, 8];\n                                    _c.label = 3;\n                                case 3:\n                                    _c.trys.push([3, 5, 6, 7]);\n                                    return [4 /*yield*/, this._rediscovery.lookupRoutingTableOnRouter(session, routingTable.database, currentRouter, impersonatedUser)];\n                                case 4: return [2 /*return*/, [_c.sent(), null]];\n                                case 5:\n                                    error_3 = _c.sent();\n                                    return [2 /*return*/, this._handleRediscoveryError(error_3, currentRouter)];\n                                case 6:\n                                    session.close();\n                                    return [7 /*endfinally*/];\n                                case 7: return [3 /*break*/, 9];\n                                case 8: \n                                // unable to acquire connection and create session towards the current router\n                                // return null to signal that the next router should be tried\n                                return [2 /*return*/, [null, error]];\n                                case 9: return [2 /*return*/];\n                            }\n                        });\n                    }); }, Promise.resolve([null, null]))];\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._createSessionForRediscovery = function (routerAddress, bookmarks, impersonatedUser) {\n        return __awaiter(this, void 0, void 0, function () {\n            var connection, databaseSpecificErrorHandler, connectionProvider, protocolVersion, error_4;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this._connectionPool.acquire(routerAddress)];\n                    case 1:\n                        connection = _a.sent();\n                        databaseSpecificErrorHandler = connection_1.ConnectionErrorHandler.create({\n                            errorCode: SESSION_EXPIRED,\n                            handleAuthorizationExpired: function (error, address) { return _this._handleAuthorizationExpired(error, address); }\n                        });\n                        connectionProvider = new connection_provider_single_1.default(new connection_1.DelegateConnection(connection, databaseSpecificErrorHandler));\n                        protocolVersion = connection.protocol().version;\n                        if (protocolVersion < 4.0) {\n                            return [2 /*return*/, [new neo4j_driver_core_1.Session({\n                                        mode: WRITE,\n                                        bookmarks: Bookmarks.empty(),\n                                        connectionProvider: connectionProvider\n                                    }), null]];\n                        }\n                        return [2 /*return*/, [new neo4j_driver_core_1.Session({\n                                    mode: READ,\n                                    database: SYSTEM_DB_NAME,\n                                    bookmarks: bookmarks,\n                                    connectionProvider: connectionProvider,\n                                    impersonatedUser: impersonatedUser\n                                }), null]];\n                    case 2:\n                        error_4 = _a.sent();\n                        return [2 /*return*/, this._handleRediscoveryError(error_4, routerAddress)];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._handleRediscoveryError = function (error, routerAddress) {\n        if (_isFailFastError(error) || _isFailFastSecurityError(error)) {\n            throw error;\n        }\n        else if (error.code === PROCEDURE_NOT_FOUND_CODE) {\n            // throw when getServers procedure not found because this is clearly a configuration issue\n            throw (0, neo4j_driver_core_1.newError)(\"Server at \".concat(routerAddress.asHostPort(), \" can't perform routing. Make sure you are connecting to a causal cluster\"), SERVICE_UNAVAILABLE, error);\n        }\n        this._log.warn(\"unable to fetch routing table because of an error \".concat(error));\n        return [null, error];\n    };\n    RoutingConnectionProvider.prototype._applyRoutingTableIfPossible = function (currentRoutingTable, newRoutingTable, onDatabaseNameResolved, error) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!newRoutingTable) {\n                            // none of routing servers returned valid routing table, throw exception\n                            throw (0, neo4j_driver_core_1.newError)(\"Could not perform discovery. No routing servers available. Known routing table: \".concat(currentRoutingTable), SERVICE_UNAVAILABLE, error);\n                        }\n                        if (newRoutingTable.writers.length === 0) {\n                            // use seed router next time. this is important when cluster is partitioned. it tries to make sure driver\n                            // does not always get routing table without writers because it talks exclusively to a minority partition\n                            this._useSeedRouter = true;\n                        }\n                        return [4 /*yield*/, this._updateRoutingTable(newRoutingTable, onDatabaseNameResolved)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, newRoutingTable];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider.prototype._updateRoutingTable = function (newRoutingTable, onDatabaseNameResolved) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: \n                    // close old connections to servers not present in the new routing table\n                    return [4 /*yield*/, this._connectionPool.keepAll(newRoutingTable.allServers())];\n                    case 1:\n                        // close old connections to servers not present in the new routing table\n                        _a.sent();\n                        this._routingTableRegistry.removeExpired();\n                        this._routingTableRegistry.register(newRoutingTable);\n                        onDatabaseNameResolved(newRoutingTable.database);\n                        this._log.info(\"Updated routing table \".concat(newRoutingTable));\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RoutingConnectionProvider._forgetRouter = function (routingTable, routersArray, routerIndex) {\n        var address = routersArray[routerIndex];\n        if (routingTable && address) {\n            routingTable.forgetRouter(address);\n        }\n    };\n    return RoutingConnectionProvider;\n}(connection_provider_pooled_1.default));\nexports.default = RoutingConnectionProvider;\n/**\n * Responsible for keeping track of the existing routing tables\n */\nvar RoutingTableRegistry = /** @class */ (function () {\n    /**\n     * Constructor\n     * @param {int} routingTablePurgeDelay The routing table purge delay\n     */\n    function RoutingTableRegistry(routingTablePurgeDelay) {\n        this._tables = new Map();\n        this._routingTablePurgeDelay = routingTablePurgeDelay;\n    }\n    /**\n     * Put a routing table in the registry\n     *\n     * @param {RoutingTable} table The routing table\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.register = function (table) {\n        this._tables.set(table.database, table);\n        return this;\n    };\n    /**\n     * Apply function in the routing table for an specific database. If the database name is not defined, the function will\n     * be applied for each element\n     *\n     * @param {string} database The database name\n     * @param {object} callbacks The actions\n     * @param {function (RoutingTable)} callbacks.applyWhenExists Call when the db exists or when the database property is not informed\n     * @param {function ()} callbacks.applyWhenDontExists Call when the database doesn't have the routing table registred\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.apply = function (database, _a) {\n        var _b = _a === void 0 ? {} : _a, applyWhenExists = _b.applyWhenExists, _c = _b.applyWhenDontExists, applyWhenDontExists = _c === void 0 ? function () { } : _c;\n        if (this._tables.has(database)) {\n            applyWhenExists(this._tables.get(database));\n        }\n        else if (typeof database === 'string' || database === null) {\n            applyWhenDontExists();\n        }\n        else {\n            this._forEach(applyWhenExists);\n        }\n        return this;\n    };\n    /**\n     * Retrieves a routing table from a given database name\n     *\n     * @param {string|impersonatedUser} impersonatedUser The impersonated User\n     * @param {string} database The database name\n     * @param {function()|RoutingTable} defaultSupplier The routing table supplier, if it's not a function or not exists, it will return itself as default value\n     * @returns {RoutingTable} The routing table for the respective database\n     */\n    RoutingTableRegistry.prototype.get = function (database, defaultSupplier) {\n        if (this._tables.has(database)) {\n            return this._tables.get(database);\n        }\n        return typeof defaultSupplier === 'function'\n            ? defaultSupplier()\n            : defaultSupplier;\n    };\n    /**\n     * Remove the routing table which is already expired\n     * @returns {RoutingTableRegistry} this\n     */\n    RoutingTableRegistry.prototype.removeExpired = function () {\n        var _this = this;\n        return this._removeIf(function (value) {\n            return value.isExpiredFor(_this._routingTablePurgeDelay);\n        });\n    };\n    RoutingTableRegistry.prototype._forEach = function (apply) {\n        var e_3, _a;\n        try {\n            for (var _b = __values(this._tables), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), value = _d[1];\n                apply(value);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return this;\n    };\n    RoutingTableRegistry.prototype._remove = function (key) {\n        this._tables.delete(key);\n        return this;\n    };\n    RoutingTableRegistry.prototype._removeIf = function (predicate) {\n        var e_4, _a;\n        try {\n            for (var _b = __values(this._tables), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], value = _d[1];\n                if (predicate(value)) {\n                    this._remove(key);\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return this;\n    };\n    return RoutingTableRegistry;\n}());\nfunction _isFailFastError(error) {\n    return [\n        DATABASE_NOT_FOUND_CODE,\n        INVALID_BOOKMARK_CODE,\n        INVALID_BOOKMARK_MIXTURE_CODE\n    ].includes(error.code);\n}\nfunction _isFailFastSecurityError(error) {\n    return error.code.startsWith('Neo.ClientError.Security.') &&\n        ![\n            AUTHORIZATION_EXPIRED_CODE\n        ].includes(error.code);\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar SingleConnectionProvider = /** @class */ (function (_super) {\n    __extends(SingleConnectionProvider, _super);\n    function SingleConnectionProvider(connection) {\n        var _this = _super.call(this) || this;\n        _this._connection = connection;\n        return _this;\n    }\n    /**\n     * See {@link ConnectionProvider} for more information about this method and\n     * its arguments.\n     */\n    SingleConnectionProvider.prototype.acquireConnection = function (_a) {\n        var _b = _a === void 0 ? {} : _a, accessMode = _b.accessMode, database = _b.database, bookmarks = _b.bookmarks;\n        var connection = this._connection;\n        this._connection = null;\n        return Promise.resolve(connection);\n    };\n    return SingleConnectionProvider;\n}(neo4j_driver_core_1.ConnectionProvider));\nexports.default = SingleConnectionProvider;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RoutingConnectionProvider = exports.DirectConnectionProvider = exports.PooledConnectionProvider = exports.SingleConnectionProvider = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar connection_provider_single_1 = require(\"./connection-provider-single\");\nObject.defineProperty(exports, \"SingleConnectionProvider\", { enumerable: true, get: function () { return __importDefault(connection_provider_single_1).default; } });\nvar connection_provider_pooled_1 = require(\"./connection-provider-pooled\");\nObject.defineProperty(exports, \"PooledConnectionProvider\", { enumerable: true, get: function () { return __importDefault(connection_provider_pooled_1).default; } });\nvar connection_provider_direct_1 = require(\"./connection-provider-direct\");\nObject.defineProperty(exports, \"DirectConnectionProvider\", { enumerable: true, get: function () { return __importDefault(connection_provider_direct_1).default; } });\nvar connection_provider_routing_1 = require(\"./connection-provider-routing\");\nObject.defineProperty(exports, \"RoutingConnectionProvider\", { enumerable: true, get: function () { return __importDefault(connection_provider_routing_1).default; } });\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createChannelConnection = void 0;\nvar channel_1 = require(\"../channel\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar connection_1 = __importDefault(require(\"./connection\"));\nvar bolt_1 = __importDefault(require(\"../bolt\"));\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar Logger = neo4j_driver_core_1.internal.logger.Logger;\nvar idGenerator = 0;\n/**\n * Crete new connection to the provided address. Returned connection is not connected.\n * @param {ServerAddress} address - the Bolt endpoint to connect to.\n * @param {Object} config - the driver configuration.\n * @param {ConnectionErrorHandler} errorHandler - the error handler for connection errors.\n * @param {Logger} log - configured logger.\n * @return {Connection} - new connection.\n */\nfunction createChannelConnection(address, config, errorHandler, log, serversideRouting, createChannel) {\n    if (serversideRouting === void 0) { serversideRouting = null; }\n    if (createChannel === void 0) { createChannel = function (channelConfig) { return new channel_1.Channel(channelConfig); }; }\n    var channelConfig = new channel_1.ChannelConfig(address, config, errorHandler.errorCode());\n    var channel = createChannel(channelConfig);\n    return bolt_1.default.handshake(channel)\n        .then(function (_a) {\n        var version = _a.protocolVersion, consumeRemainingBuffer = _a.consumeRemainingBuffer;\n        var chunker = new channel_1.Chunker(channel);\n        var dechunker = new channel_1.Dechunker();\n        var createProtocol = function (conn) {\n            return bolt_1.default.create({\n                version: version,\n                channel: channel,\n                chunker: chunker,\n                dechunker: dechunker,\n                disableLosslessIntegers: config.disableLosslessIntegers,\n                useBigInt: config.useBigInt,\n                serversideRouting: serversideRouting,\n                server: conn.server,\n                log: conn.logger,\n                observer: {\n                    onPendingObserversChange: conn._handleOngoingRequestsNumberChange.bind(conn),\n                    onError: conn._handleFatalError.bind(conn),\n                    onFailure: conn._resetOnFailure.bind(conn),\n                    onProtocolError: conn._handleProtocolError.bind(conn),\n                    onErrorApplyTransformation: function (error) {\n                        return conn.handleAndTransformError(error, conn._address);\n                    }\n                }\n            });\n        };\n        var connection = new ChannelConnection(channel, errorHandler, address, log, config.disableLosslessIntegers, serversideRouting, chunker, createProtocol);\n        // forward all pending bytes to the dechunker\n        consumeRemainingBuffer(function (buffer) { return dechunker.write(buffer); });\n        return connection;\n    })\n        .catch(function (reason) {\n        return channel.close().then(function () {\n            throw reason;\n        });\n    });\n}\nexports.createChannelConnection = createChannelConnection;\nvar ChannelConnection = /** @class */ (function (_super) {\n    __extends(ChannelConnection, _super);\n    /**\n     * @constructor\n     * @param {Channel} channel - channel with a 'write' function and a 'onmessage' callback property.\n     * @param {ConnectionErrorHandler} errorHandler the error handler.\n     * @param {ServerAddress} address - the server address to connect to.\n     * @param {Logger} log - the configured logger.\n     * @param {boolean} disableLosslessIntegers if this connection should convert all received integers to native JS numbers.\n     * @param {Chunker} chunker the chunker\n     * @param protocolSupplier Bolt protocol supplier\n     */\n    function ChannelConnection(channel, errorHandler, address, log, disableLosslessIntegers, serversideRouting, chunker, // to be removed,\n    protocolSupplier) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (serversideRouting === void 0) { serversideRouting = null; }\n        var _this = _super.call(this, errorHandler) || this;\n        _this._reseting = false;\n        _this._resetObservers = [];\n        _this._id = idGenerator++;\n        _this._address = address;\n        _this._server = { address: address.asHostPort() };\n        _this.creationTimestamp = Date.now();\n        _this._disableLosslessIntegers = disableLosslessIntegers;\n        _this._ch = channel;\n        _this._chunker = chunker;\n        _this._log = createConnectionLogger(_this, log);\n        _this._serversideRouting = serversideRouting;\n        // connection from the database, returned in response for HELLO message and might not be available\n        _this._dbConnectionId = null;\n        // bolt protocol is initially not initialized\n        /**\n         * @private\n         * @type {BoltProtocol}\n         */\n        _this._protocol = protocolSupplier(_this);\n        // Set to true on fatal errors, to get this out of connection pool.\n        _this._isBroken = false;\n        if (_this._log.isDebugEnabled()) {\n            _this._log.debug(\"created towards \".concat(address));\n        }\n        return _this;\n    }\n    Object.defineProperty(ChannelConnection.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"databaseId\", {\n        get: function () {\n            return this._dbConnectionId;\n        },\n        set: function (value) {\n            this._dbConnectionId = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Send initialization message.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @return {Promise<Connection>} promise resolved with the current connection if connection is successful. Rejected promise otherwise.\n     */\n    ChannelConnection.prototype.connect = function (userAgent, authToken) {\n        return this._initialize(userAgent, authToken);\n    };\n    /**\n     * Perform protocol-specific initialization which includes authentication.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @return {Promise<Connection>} promise resolved with the current connection if initialization is successful. Rejected promise otherwise.\n     */\n    ChannelConnection.prototype._initialize = function (userAgent, authToken) {\n        var _this = this;\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            _this._protocol.initialize({\n                userAgent: userAgent,\n                authToken: authToken,\n                onError: function (err) { return reject(err); },\n                onComplete: function (metadata) {\n                    if (metadata) {\n                        // read server version from the response metadata, if it is available\n                        var serverVersion = metadata.server;\n                        if (!_this.version || serverVersion) {\n                            _this.version = serverVersion;\n                        }\n                        // read database connection id from the response metadata, if it is available\n                        var dbConnectionId = metadata.connection_id;\n                        if (!_this.databaseId) {\n                            _this.databaseId = dbConnectionId;\n                        }\n                        if (metadata.hints) {\n                            var receiveTimeoutRaw = metadata.hints['connection.recv_timeout_seconds'];\n                            if (receiveTimeoutRaw !== null &&\n                                receiveTimeoutRaw !== undefined) {\n                                var receiveTimeoutInSeconds = (0, neo4j_driver_core_1.toNumber)(receiveTimeoutRaw);\n                                if (Number.isInteger(receiveTimeoutInSeconds) &&\n                                    receiveTimeoutInSeconds > 0) {\n                                    _this._ch.setupReceiveTimeout(receiveTimeoutInSeconds * 1000);\n                                }\n                                else {\n                                    _this._log.info(\"Server located at \".concat(_this._address, \" supplied an invalid connection receive timeout value (\").concat(receiveTimeoutInSeconds, \"). \") +\n                                        'Please, verify the server configuration and status because this can be the symptom of a bigger issue.');\n                                }\n                            }\n                        }\n                    }\n                    resolve(self);\n                }\n            });\n        });\n    };\n    /**\n     * Get the Bolt protocol for the connection.\n     * @return {BoltProtocol} the protocol.\n     */\n    ChannelConnection.prototype.protocol = function () {\n        return this._protocol;\n    };\n    Object.defineProperty(ChannelConnection.prototype, \"address\", {\n        get: function () {\n            return this._address;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"version\", {\n        /**\n         * Get the version of the connected server.\n         * Available only after initialization\n         *\n         * @returns {ServerVersion} version\n         */\n        get: function () {\n            return this._server.version;\n        },\n        set: function (value) {\n            this._server.version = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"server\", {\n        get: function () {\n            return this._server;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ChannelConnection.prototype, \"logger\", {\n        get: function () {\n            return this._log;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * \"Fatal\" means the connection is dead. Only call this if something\n     * happens that cannot be recovered from. This will lead to all subscribers\n     * failing, and the connection getting ejected from the session pool.\n     *\n     * @param error an error object, forwarded to all current and future subscribers\n     */\n    ChannelConnection.prototype._handleFatalError = function (error) {\n        this._isBroken = true;\n        this._error = this.handleAndTransformError(this._protocol.currentFailure || error, this._address);\n        if (this._log.isErrorEnabled()) {\n            this._log.error(\"experienced a fatal error caused by \".concat(this._error, \" (\").concat(neo4j_driver_core_1.json.stringify(this._error), \")\"));\n        }\n        this._protocol.notifyFatalError(this._error);\n    };\n    /**\n     * This method still here because it's used by the {@link PooledConnectionProvider}\n     *\n     * @param {any} observer\n     */\n    ChannelConnection.prototype._queueObserver = function (observer) {\n        return this._protocol.queueObserverIfProtocolIsNotBroken(observer);\n    };\n    ChannelConnection.prototype.hasOngoingObservableRequests = function () {\n        return this._protocol.hasOngoingObservableRequests();\n    };\n    /**\n     * Send a RESET-message to the database. Message is immediately flushed to the network.\n     * @return {Promise<void>} promise resolved when SUCCESS-message response arrives, or failed when other response messages arrives.\n     */\n    ChannelConnection.prototype.resetAndFlush = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._reset({\n                onError: function (error) {\n                    if (_this._isBroken) {\n                        // handling a fatal error, no need to raise a protocol violation\n                        reject(error);\n                    }\n                    else {\n                        var neo4jError = _this._handleProtocolError('Received FAILURE as a response for RESET: ' + error);\n                        reject(neo4jError);\n                    }\n                },\n                onComplete: function () {\n                    resolve();\n                }\n            });\n        });\n    };\n    ChannelConnection.prototype._resetOnFailure = function () {\n        var _this = this;\n        if (!this.isOpen()) {\n            return;\n        }\n        this._reset({\n            onError: function () {\n                _this._protocol.resetFailure();\n            },\n            onComplete: function () {\n                _this._protocol.resetFailure();\n            }\n        });\n    };\n    ChannelConnection.prototype._reset = function (observer) {\n        var _this = this;\n        if (this._reseting) {\n            if (!this._protocol.isLastMessageReset()) {\n                this._protocol.reset({\n                    onError: function (error) {\n                        observer.onError(error);\n                    }, onComplete: function () {\n                        observer.onComplete();\n                    }\n                });\n            }\n            else {\n                this._resetObservers.push(observer);\n            }\n            return;\n        }\n        this._resetObservers.push(observer);\n        this._reseting = true;\n        var notifyFinish = function (notify) {\n            _this._reseting = false;\n            var observers = _this._resetObservers;\n            _this._resetObservers = [];\n            observers.forEach(notify);\n        };\n        this._protocol.reset({\n            onError: function (error) {\n                notifyFinish(function (obs) { return obs.onError(error); });\n            }, onComplete: function () {\n                notifyFinish(function (obs) { return obs.onComplete(); });\n            }\n        });\n    };\n    /*\n     * Pop next pending observer form the list of observers and make it current observer.\n     * @protected\n     */\n    ChannelConnection.prototype._updateCurrentObserver = function () {\n        this._protocol.updateCurrentObserver();\n    };\n    /** Check if this connection is in working condition */\n    ChannelConnection.prototype.isOpen = function () {\n        return !this._isBroken && this._ch._open;\n    };\n    /**\n     * Starts and stops the receive timeout timer.\n     * @param {number} requestsNumber Ongoing requests number\n     */\n    ChannelConnection.prototype._handleOngoingRequestsNumberChange = function (requestsNumber) {\n        if (requestsNumber === 0) {\n            this._ch.stopReceiveTimeout();\n        }\n        else {\n            this._ch.startReceiveTimeout();\n        }\n    };\n    /**\n     * Call close on the channel.\n     * @returns {Promise<void>} - A promise that will be resolved when the underlying channel is closed.\n     */\n    ChannelConnection.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug('closing');\n                        }\n                        if (this._protocol && this.isOpen()) {\n                            // protocol has been initialized and this connection is healthy\n                            // notify the database about the upcoming close of the connection\n                            this._protocol.prepareToClose();\n                        }\n                        return [4 /*yield*/, this._ch.close()];\n                    case 1:\n                        _a.sent();\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug('closed');\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ChannelConnection.prototype.toString = function () {\n        return \"Connection [\".concat(this.id, \"][\").concat(this.databaseId || '', \"]\");\n    };\n    ChannelConnection.prototype._handleProtocolError = function (message) {\n        this._protocol.resetFailure();\n        this._updateCurrentObserver();\n        var error = (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n        this._handleFatalError(error);\n        return error;\n    };\n    return ChannelConnection;\n}(connection_1.default));\nexports.default = ChannelConnection;\n/**\n * Creates a log with the connection info as prefix\n * @param {Connection} connection The connection\n * @param {Logger} logger The logger\n * @returns {Logger} The new logger with enriched messages\n */\nfunction createConnectionLogger(connection, logger) {\n    return new Logger(logger._level, function (level, message) {\n        return logger._loggerFunction(level, \"\".concat(connection, \" \").concat(message));\n    });\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar connection_1 = __importDefault(require(\"./connection\"));\nvar DelegateConnection = /** @class */ (function (_super) {\n    __extends(DelegateConnection, _super);\n    /**\n     * @param delegate {Connection} the delegated connection\n     * @param errorHandler {ConnectionErrorHandler} the error handler\n     */\n    function DelegateConnection(delegate, errorHandler) {\n        var _this = _super.call(this, errorHandler) || this;\n        if (errorHandler) {\n            _this._originalErrorHandler = delegate._errorHandler;\n            delegate._errorHandler = _this._errorHandler;\n        }\n        _this._delegate = delegate;\n        return _this;\n    }\n    Object.defineProperty(DelegateConnection.prototype, \"id\", {\n        get: function () {\n            return this._delegate.id;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"databaseId\", {\n        get: function () {\n            return this._delegate.databaseId;\n        },\n        set: function (value) {\n            this._delegate.databaseId = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"server\", {\n        get: function () {\n            return this._delegate.server;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"address\", {\n        get: function () {\n            return this._delegate.address;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DelegateConnection.prototype, \"version\", {\n        get: function () {\n            return this._delegate.version;\n        },\n        set: function (value) {\n            this._delegate.version = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DelegateConnection.prototype.isOpen = function () {\n        return this._delegate.isOpen();\n    };\n    DelegateConnection.prototype.protocol = function () {\n        return this._delegate.protocol();\n    };\n    DelegateConnection.prototype.connect = function (userAgent, authToken) {\n        return this._delegate.connect(userAgent, authToken);\n    };\n    DelegateConnection.prototype.write = function (message, observer, flush) {\n        return this._delegate.write(message, observer, flush);\n    };\n    DelegateConnection.prototype.resetAndFlush = function () {\n        return this._delegate.resetAndFlush();\n    };\n    DelegateConnection.prototype.hasOngoingObservableRequests = function () {\n        return this._delegate.hasOngoingObservableRequests();\n    };\n    DelegateConnection.prototype.close = function () {\n        return this._delegate.close();\n    };\n    DelegateConnection.prototype._release = function () {\n        if (this._originalErrorHandler) {\n            this._delegate._errorHandler = this._originalErrorHandler;\n        }\n        return this._delegate._release();\n    };\n    return DelegateConnection;\n}(connection_1.default));\nexports.default = DelegateConnection;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar SERVICE_UNAVAILABLE = neo4j_driver_core_1.error.SERVICE_UNAVAILABLE, SESSION_EXPIRED = neo4j_driver_core_1.error.SESSION_EXPIRED;\nvar ConnectionErrorHandler = /** @class */ (function () {\n    function ConnectionErrorHandler(errorCode, handleUnavailability, handleWriteFailure, handleAuthorizationExpired) {\n        this._errorCode = errorCode;\n        this._handleUnavailability = handleUnavailability || noOpHandler;\n        this._handleWriteFailure = handleWriteFailure || noOpHandler;\n        this._handleAuthorizationExpired = handleAuthorizationExpired || noOpHandler;\n    }\n    ConnectionErrorHandler.create = function (_a) {\n        var errorCode = _a.errorCode, handleUnavailability = _a.handleUnavailability, handleWriteFailure = _a.handleWriteFailure, handleAuthorizationExpired = _a.handleAuthorizationExpired;\n        return new ConnectionErrorHandler(errorCode, handleUnavailability, handleWriteFailure, handleAuthorizationExpired);\n    };\n    /**\n     * Error code to use for network errors.\n     * @return {string} the error code.\n     */\n    ConnectionErrorHandler.prototype.errorCode = function () {\n        return this._errorCode;\n    };\n    /**\n     * Handle and transform the error.\n     * @param {Neo4jError} error the original error.\n     * @param {ServerAddress} address the address of the connection where the error happened.\n     * @return {Neo4jError} new error that should be propagated to the user.\n     */\n    ConnectionErrorHandler.prototype.handleAndTransformError = function (error, address) {\n        if (isAutorizationExpiredError(error)) {\n            return this._handleAuthorizationExpired(error, address);\n        }\n        if (isAvailabilityError(error)) {\n            return this._handleUnavailability(error, address);\n        }\n        if (isFailureToWrite(error)) {\n            return this._handleWriteFailure(error, address);\n        }\n        return error;\n    };\n    return ConnectionErrorHandler;\n}());\nexports.default = ConnectionErrorHandler;\nfunction isAutorizationExpiredError(error) {\n    return error && (error.code === 'Neo.ClientError.Security.AuthorizationExpired' ||\n        error.code === 'Neo.ClientError.Security.TokenExpired');\n}\nfunction isAvailabilityError(error) {\n    if (error) {\n        return (error.code === SESSION_EXPIRED ||\n            error.code === SERVICE_UNAVAILABLE ||\n            error.code === 'Neo.TransientError.General.DatabaseUnavailable');\n    }\n    return false;\n}\nfunction isFailureToWrite(error) {\n    if (error) {\n        return (error.code === 'Neo.ClientError.Cluster.NotALeader' ||\n            error.code === 'Neo.ClientError.General.ForbiddenOnReadOnlyDatabase');\n    }\n    return false;\n}\nfunction noOpHandler(error) {\n    return error;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Connection = /** @class */ (function () {\n    /**\n     * @param {ConnectionErrorHandler} errorHandler the error handler\n     */\n    function Connection(errorHandler) {\n        this._errorHandler = errorHandler;\n    }\n    Object.defineProperty(Connection.prototype, \"id\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"databaseId\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @returns {boolean} whether this connection is in a working condition\n     */\n    Connection.prototype.isOpen = function () {\n        throw new Error('not implemented');\n    };\n    /**\n     * @returns {BoltProtocol} the underlying bolt protocol assigned to this connection\n     */\n    Connection.prototype.protocol = function () {\n        throw new Error('not implemented');\n    };\n    Object.defineProperty(Connection.prototype, \"address\", {\n        /**\n         * @returns {ServerAddress} the server address this connection is opened against\n         */\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"version\", {\n        /**\n         * @returns {ServerVersion} the version of the server this connection is connected to\n         */\n        get: function () {\n            throw new Error('not implemented');\n        },\n        set: function (value) {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"server\", {\n        get: function () {\n            throw new Error('not implemented');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Connect to the target address, negotiate Bolt protocol and send initialization message.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @return {Promise<Connection>} promise resolved with the current connection if connection is successful. Rejected promise otherwise.\n     */\n    Connection.prototype.connect = function (userAgent, authToken) {\n        throw new Error('not implemented');\n    };\n    /**\n     * Write a message to the network channel.\n     * @param {RequestMessage} message the message to write.\n     * @param {ResultStreamObserver} observer the response observer.\n     * @param {boolean} flush `true` if flush should happen after the message is written to the buffer.\n     */\n    Connection.prototype.write = function (message, observer, flush) {\n        throw new Error('not implemented');\n    };\n    /**\n     * Send a RESET-message to the database. Message is immediately flushed to the network.\n     * @return {Promise<void>} promise resolved when SUCCESS-message response arrives, or failed when other response messages arrives.\n     */\n    Connection.prototype.resetAndFlush = function () {\n        throw new Error('not implemented');\n    };\n    Connection.prototype.hasOngoingObservableRequests = function () {\n        throw new Error('not implemented');\n    };\n    /**\n     * Call close on the channel.\n     * @returns {Promise<void>} - A promise that will be resolved when the connection is closed.\n     *\n     */\n    Connection.prototype.close = function () {\n        throw new Error('not implemented');\n    };\n    /**\n     *\n     * @param error\n     * @param address\n     * @returns {Neo4jError|*}\n     */\n    Connection.prototype.handleAndTransformError = function (error, address) {\n        if (this._errorHandler) {\n            return this._errorHandler.handleAndTransformError(error, address);\n        }\n        return error;\n    };\n    return Connection;\n}());\nexports.default = Connection;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createChannelConnection = exports.ConnectionErrorHandler = exports.DelegateConnection = exports.ChannelConnection = exports.Connection = void 0;\nvar connection_1 = __importDefault(require(\"./connection\"));\nexports.Connection = connection_1.default;\nvar connection_channel_1 = __importStar(require(\"./connection-channel\"));\nexports.ChannelConnection = connection_channel_1.default;\nObject.defineProperty(exports, \"createChannelConnection\", { enumerable: true, get: function () { return connection_channel_1.createChannelConnection; } });\nvar connection_delegate_1 = __importDefault(require(\"./connection-delegate\"));\nexports.DelegateConnection = connection_delegate_1.default;\nvar connection_error_handler_1 = __importDefault(require(\"./connection-error-handler\"));\nexports.ConnectionErrorHandler = connection_error_handler_1.default;\nexports.default = connection_1.default;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pool = exports.packstream = exports.channel = exports.buf = exports.bolt = exports.loadBalancing = void 0;\nexports.loadBalancing = __importStar(require(\"./load-balancing\"));\nexports.bolt = __importStar(require(\"./bolt\"));\nexports.buf = __importStar(require(\"./buf\"));\nexports.channel = __importStar(require(\"./channel\"));\nexports.packstream = __importStar(require(\"./packstream\"));\nexports.pool = __importStar(require(\"./pool\"));\n__exportStar(require(\"./connection-provider\"), exports);\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.identity = void 0;\n/**\n * Identity function.\n *\n * Identity functions are function which returns the input as output.\n *\n * @param {any} x\n * @returns {any} the x\n */\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.functional = void 0;\nexports.functional = __importStar(require(\"./functional\"));\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LeastConnectedLoadBalancingStrategy = exports.LoadBalancingStrategy = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar load_balancing_strategy_1 = __importDefault(require(\"./load-balancing-strategy\"));\nexports.LoadBalancingStrategy = load_balancing_strategy_1.default;\nvar least_connected_load_balancing_strategy_1 = __importDefault(require(\"./least-connected-load-balancing-strategy\"));\nexports.LeastConnectedLoadBalancingStrategy = least_connected_load_balancing_strategy_1.default;\nexports.default = least_connected_load_balancing_strategy_1.default;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar round_robin_array_index_1 = __importDefault(require(\"./round-robin-array-index\"));\nvar load_balancing_strategy_1 = __importDefault(require(\"./load-balancing-strategy\"));\nvar LeastConnectedLoadBalancingStrategy = /** @class */ (function (_super) {\n    __extends(LeastConnectedLoadBalancingStrategy, _super);\n    /**\n     * @constructor\n     * @param {Pool} connectionPool the connection pool of this driver.\n     */\n    function LeastConnectedLoadBalancingStrategy(connectionPool) {\n        var _this = _super.call(this) || this;\n        _this._readersIndex = new round_robin_array_index_1.default();\n        _this._writersIndex = new round_robin_array_index_1.default();\n        _this._connectionPool = connectionPool;\n        return _this;\n    }\n    /**\n     * @inheritDoc\n     */\n    LeastConnectedLoadBalancingStrategy.prototype.selectReader = function (knownReaders) {\n        return this._select(knownReaders, this._readersIndex);\n    };\n    /**\n     * @inheritDoc\n     */\n    LeastConnectedLoadBalancingStrategy.prototype.selectWriter = function (knownWriters) {\n        return this._select(knownWriters, this._writersIndex);\n    };\n    LeastConnectedLoadBalancingStrategy.prototype._select = function (addresses, roundRobinIndex) {\n        var length = addresses.length;\n        if (length === 0) {\n            return null;\n        }\n        // choose start index for iteration in round-robin fashion\n        var startIndex = roundRobinIndex.next(length);\n        var index = startIndex;\n        var leastConnectedAddress = null;\n        var leastActiveConnections = Number.MAX_SAFE_INTEGER;\n        // iterate over the array to find least connected address\n        do {\n            var address = addresses[index];\n            var activeConnections = this._connectionPool.activeResourceCount(address);\n            if (activeConnections < leastActiveConnections) {\n                leastConnectedAddress = address;\n                leastActiveConnections = activeConnections;\n            }\n            // loop over to the start of the array when end is reached\n            if (index === length - 1) {\n                index = 0;\n            }\n            else {\n                index++;\n            }\n        } while (index !== startIndex);\n        return leastConnectedAddress;\n    };\n    return LeastConnectedLoadBalancingStrategy;\n}(load_balancing_strategy_1.default));\nexports.default = LeastConnectedLoadBalancingStrategy;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A facility to select most appropriate reader or writer among the given addresses for request processing.\n */\nvar LoadBalancingStrategy = /** @class */ (function () {\n    function LoadBalancingStrategy() {\n    }\n    /**\n     * Select next most appropriate reader from the list of given readers.\n     * @param {string[]} knownReaders an array of currently known readers to select from.\n     * @return {string} most appropriate reader or `null` if given array is empty.\n     */\n    LoadBalancingStrategy.prototype.selectReader = function (knownReaders) {\n        throw new Error('Abstract function');\n    };\n    /**\n     * Select next most appropriate writer from the list of given writers.\n     * @param {string[]} knownWriters an array of currently known writers to select from.\n     * @return {string} most appropriate writer or `null` if given array is empty.\n     */\n    LoadBalancingStrategy.prototype.selectWriter = function (knownWriters) {\n        throw new Error('Abstract function');\n    };\n    return LoadBalancingStrategy;\n}());\nexports.default = LoadBalancingStrategy;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RoundRobinArrayIndex = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {number} [initialOffset=0] the initial offset for round robin.\n     */\n    function RoundRobinArrayIndex(initialOffset) {\n        this._offset = initialOffset || 0;\n    }\n    /**\n     * Get next index for an array with given length.\n     * @param {number} arrayLength the array length.\n     * @return {number} index in the array.\n     */\n    RoundRobinArrayIndex.prototype.next = function (arrayLength) {\n        if (arrayLength === 0) {\n            return -1;\n        }\n        var nextOffset = this._offset;\n        this._offset += 1;\n        if (this._offset === Number.MAX_SAFE_INTEGER) {\n            this._offset = 0;\n        }\n        return nextOffset % arrayLength;\n    };\n    return RoundRobinArrayIndex;\n}());\nexports.default = RoundRobinArrayIndex;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.structure = exports.v2 = exports.v1 = void 0;\nvar v1 = __importStar(require(\"./packstream-v1\"));\nexports.v1 = v1;\nvar v2 = __importStar(require(\"./packstream-v2\"));\nexports.v2 = v2;\nvar structure = __importStar(require(\"./structure\"));\nexports.structure = structure;\nexports.default = v2;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Unpacker = exports.Packer = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar channel_1 = require(\"../channel\");\nvar lang_1 = require(\"../lang\");\nvar structure_1 = require(\"./structure\");\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar TINY_STRING = 0x80;\nvar TINY_LIST = 0x90;\nvar TINY_MAP = 0xa0;\nvar TINY_STRUCT = 0xb0;\nvar NULL = 0xc0;\nvar FLOAT_64 = 0xc1;\nvar FALSE = 0xc2;\nvar TRUE = 0xc3;\nvar INT_8 = 0xc8;\nvar INT_16 = 0xc9;\nvar INT_32 = 0xca;\nvar INT_64 = 0xcb;\nvar STRING_8 = 0xd0;\nvar STRING_16 = 0xd1;\nvar STRING_32 = 0xd2;\nvar LIST_8 = 0xd4;\nvar LIST_16 = 0xd5;\nvar LIST_32 = 0xd6;\nvar BYTES_8 = 0xcc;\nvar BYTES_16 = 0xcd;\nvar BYTES_32 = 0xce;\nvar MAP_8 = 0xd8;\nvar MAP_16 = 0xd9;\nvar MAP_32 = 0xda;\nvar STRUCT_8 = 0xdc;\nvar STRUCT_16 = 0xdd;\n/**\n * Class to pack\n * @access private\n */\nvar Packer = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {Chunker} channel the chunker backed by a network channel.\n     */\n    function Packer(channel) {\n        this._ch = channel;\n        this._byteArraysSupported = true;\n    }\n    /**\n     * Creates a packable function out of the provided value\n     * @param x the value to pack\n     * @returns Function\n     */\n    Packer.prototype.packable = function (x, dehydrateStruct) {\n        var _this = this;\n        if (dehydrateStruct === void 0) { dehydrateStruct = lang_1.functional.identity; }\n        try {\n            x = dehydrateStruct(x);\n        }\n        catch (ex) {\n            return function () { throw ex; };\n        }\n        if (x === null) {\n            return function () { return _this._ch.writeUInt8(NULL); };\n        }\n        else if (x === true) {\n            return function () { return _this._ch.writeUInt8(TRUE); };\n        }\n        else if (x === false) {\n            return function () { return _this._ch.writeUInt8(FALSE); };\n        }\n        else if (typeof x === 'number') {\n            return function () { return _this.packFloat(x); };\n        }\n        else if (typeof x === 'string') {\n            return function () { return _this.packString(x); };\n        }\n        else if (typeof x === 'bigint') {\n            return function () { return _this.packInteger((0, neo4j_driver_core_1.int)(x)); };\n        }\n        else if ((0, neo4j_driver_core_1.isInt)(x)) {\n            return function () { return _this.packInteger(x); };\n        }\n        else if (x instanceof Int8Array) {\n            return function () { return _this.packBytes(x); };\n        }\n        else if (x instanceof Array) {\n            return function () {\n                _this.packListHeader(x.length);\n                for (var i = 0; i < x.length; i++) {\n                    _this.packable(x[i] === undefined ? null : x[i], dehydrateStruct)();\n                }\n            };\n        }\n        else if (isIterable(x)) {\n            return this.packableIterable(x, dehydrateStruct);\n        }\n        else if (x instanceof structure_1.Structure) {\n            var packableFields_1 = [];\n            for (var i = 0; i < x.fields.length; i++) {\n                packableFields_1[i] = this.packable(x.fields[i], dehydrateStruct);\n            }\n            return function () { return _this.packStruct(x.signature, packableFields_1); };\n        }\n        else if (typeof x === 'object') {\n            return function () {\n                var keys = Object.keys(x);\n                var count = 0;\n                for (var i = 0; i < keys.length; i++) {\n                    if (x[keys[i]] !== undefined) {\n                        count++;\n                    }\n                }\n                _this.packMapHeader(count);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = keys[i];\n                    if (x[key] !== undefined) {\n                        _this.packString(key);\n                        _this.packable(x[key], dehydrateStruct)();\n                    }\n                }\n            };\n        }\n        else {\n            return this._nonPackableValue(\"Unable to pack the given value: \".concat(x));\n        }\n    };\n    Packer.prototype.packableIterable = function (iterable, dehydrateStruct) {\n        try {\n            var array = Array.from(iterable);\n            return this.packable(array, dehydrateStruct);\n        }\n        catch (e) {\n            // handle errors from iterable to array conversion\n            throw (0, neo4j_driver_core_1.newError)(\"Cannot pack given iterable, \".concat(e.message, \": \").concat(iterable));\n        }\n    };\n    /**\n     * Packs a struct\n     * @param signature the signature of the struct\n     * @param packableFields the fields of the struct, make sure you call `packable on all fields`\n     */\n    Packer.prototype.packStruct = function (signature, packableFields) {\n        packableFields = packableFields || [];\n        this.packStructHeader(packableFields.length, signature);\n        for (var i = 0; i < packableFields.length; i++) {\n            packableFields[i]();\n        }\n    };\n    Packer.prototype.packInteger = function (x) {\n        var high = x.high;\n        var low = x.low;\n        if (x.greaterThanOrEqual(-0x10) && x.lessThan(0x80)) {\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80) && x.lessThan(-0x10)) {\n            this._ch.writeUInt8(INT_8);\n            this._ch.writeInt8(low);\n        }\n        else if (x.greaterThanOrEqual(-0x8000) && x.lessThan(0x8000)) {\n            this._ch.writeUInt8(INT_16);\n            this._ch.writeInt16(low);\n        }\n        else if (x.greaterThanOrEqual(-0x80000000) && x.lessThan(0x80000000)) {\n            this._ch.writeUInt8(INT_32);\n            this._ch.writeInt32(low);\n        }\n        else {\n            this._ch.writeUInt8(INT_64);\n            this._ch.writeInt32(high);\n            this._ch.writeInt32(low);\n        }\n    };\n    Packer.prototype.packFloat = function (x) {\n        this._ch.writeUInt8(FLOAT_64);\n        this._ch.writeFloat64(x);\n    };\n    Packer.prototype.packString = function (x) {\n        var bytes = channel_1.utf8.encode(x);\n        var size = bytes.length;\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRING | size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRING_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRING_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(STRING_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n            this._ch.writeBytes(bytes);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('UTF-8 strings of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packListHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_LIST | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(LIST_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(LIST_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(LIST_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Lists of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packBytes = function (array) {\n        if (this._byteArraysSupported) {\n            this.packBytesHeader(array.length);\n            for (var i = 0; i < array.length; i++) {\n                this._ch.writeInt8(array[i]);\n            }\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays are not supported by the database this driver is connected to');\n        }\n    };\n    Packer.prototype.packBytesHeader = function (size) {\n        if (size < 0x100) {\n            this._ch.writeUInt8(BYTES_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(BYTES_16);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(BYTES_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Byte arrays of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packMapHeader = function (size) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_MAP | size);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(MAP_8);\n            this._ch.writeUInt8(size);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(MAP_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else if (size < 0x100000000) {\n            this._ch.writeUInt8(MAP_32);\n            this._ch.writeUInt8(((size / 16777216) >> 0) % 256);\n            this._ch.writeUInt8(((size / 65536) >> 0) % 256);\n            this._ch.writeUInt8(((size / 256) >> 0) % 256);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Maps of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.packStructHeader = function (size, signature) {\n        if (size < 0x10) {\n            this._ch.writeUInt8(TINY_STRUCT | size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x100) {\n            this._ch.writeUInt8(STRUCT_8);\n            this._ch.writeUInt8(size);\n            this._ch.writeUInt8(signature);\n        }\n        else if (size < 0x10000) {\n            this._ch.writeUInt8(STRUCT_16);\n            this._ch.writeUInt8((size / 256) >> 0);\n            this._ch.writeUInt8(size % 256);\n        }\n        else {\n            throw (0, neo4j_driver_core_1.newError)('Structures of size ' + size + ' are not supported');\n        }\n    };\n    Packer.prototype.disableByteArrays = function () {\n        this._byteArraysSupported = false;\n    };\n    Packer.prototype._nonPackableValue = function (message) {\n        return function () {\n            throw (0, neo4j_driver_core_1.newError)(message, PROTOCOL_ERROR);\n        };\n    };\n    return Packer;\n}());\nexports.Packer = Packer;\n/**\n * Class to unpack\n * @access private\n */\nvar Unpacker = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n     * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n     */\n    function Unpacker(disableLosslessIntegers, useBigInt) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (useBigInt === void 0) { useBigInt = false; }\n        this._disableLosslessIntegers = disableLosslessIntegers;\n        this._useBigInt = useBigInt;\n    }\n    Unpacker.prototype.unpack = function (buffer, hydrateStructure) {\n        if (hydrateStructure === void 0) { hydrateStructure = lang_1.functional.identity; }\n        var marker = buffer.readUInt8();\n        var markerHigh = marker & 0xf0;\n        var markerLow = marker & 0x0f;\n        if (marker === NULL) {\n            return null;\n        }\n        var boolean = this._unpackBoolean(marker);\n        if (boolean !== null) {\n            return boolean;\n        }\n        var numberOrInteger = this._unpackNumberOrInteger(marker, buffer);\n        if (numberOrInteger !== null) {\n            if ((0, neo4j_driver_core_1.isInt)(numberOrInteger)) {\n                if (this._useBigInt) {\n                    return numberOrInteger.toBigInt();\n                }\n                else if (this._disableLosslessIntegers) {\n                    return numberOrInteger.toNumberOrInfinity();\n                }\n            }\n            return numberOrInteger;\n        }\n        var string = this._unpackString(marker, markerHigh, markerLow, buffer);\n        if (string !== null) {\n            return string;\n        }\n        var list = this._unpackList(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (list !== null) {\n            return list;\n        }\n        var byteArray = this._unpackByteArray(marker, buffer);\n        if (byteArray !== null) {\n            return byteArray;\n        }\n        var map = this._unpackMap(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (map !== null) {\n            return map;\n        }\n        var struct = this._unpackStruct(marker, markerHigh, markerLow, buffer, hydrateStructure);\n        if (struct !== null) {\n            return struct;\n        }\n        throw (0, neo4j_driver_core_1.newError)('Unknown packed value with marker ' + marker.toString(16));\n    };\n    Unpacker.prototype.unpackInteger = function (buffer) {\n        var marker = buffer.readUInt8();\n        var result = this._unpackInteger(marker, buffer);\n        if (result == null) {\n            throw (0, neo4j_driver_core_1.newError)('Unable to unpack integer value with marker ' + marker.toString(16));\n        }\n        return result;\n    };\n    Unpacker.prototype._unpackBoolean = function (marker) {\n        if (marker === TRUE) {\n            return true;\n        }\n        else if (marker === FALSE) {\n            return false;\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackNumberOrInteger = function (marker, buffer) {\n        if (marker === FLOAT_64) {\n            return buffer.readFloat64();\n        }\n        else {\n            return this._unpackInteger(marker, buffer);\n        }\n    };\n    Unpacker.prototype._unpackInteger = function (marker, buffer) {\n        if (marker >= 0 && marker < 128) {\n            return (0, neo4j_driver_core_1.int)(marker);\n        }\n        else if (marker >= 240 && marker < 256) {\n            return (0, neo4j_driver_core_1.int)(marker - 256);\n        }\n        else if (marker === INT_8) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt8());\n        }\n        else if (marker === INT_16) {\n            return (0, neo4j_driver_core_1.int)(buffer.readInt16());\n        }\n        else if (marker === INT_32) {\n            var b = buffer.readInt32();\n            return (0, neo4j_driver_core_1.int)(b);\n        }\n        else if (marker === INT_64) {\n            var high = buffer.readInt32();\n            var low = buffer.readInt32();\n            return new neo4j_driver_core_1.Integer(low, high);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackString = function (marker, markerHigh, markerLow, buffer) {\n        if (markerHigh === TINY_STRING) {\n            return channel_1.utf8.decode(buffer, markerLow);\n        }\n        else if (marker === STRING_8) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt8());\n        }\n        else if (marker === STRING_16) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt16());\n        }\n        else if (marker === STRING_32) {\n            return channel_1.utf8.decode(buffer, buffer.readUInt32());\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackList = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_LIST) {\n            return this._unpackListWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === LIST_8) {\n            return this._unpackListWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_16) {\n            return this._unpackListWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === LIST_32) {\n            return this._unpackListWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackListWithSize = function (size, buffer, hydrateStructure) {\n        var value = [];\n        for (var i = 0; i < size; i++) {\n            value.push(this.unpack(buffer, hydrateStructure));\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackByteArray = function (marker, buffer) {\n        if (marker === BYTES_8) {\n            return this._unpackByteArrayWithSize(buffer.readUInt8(), buffer);\n        }\n        else if (marker === BYTES_16) {\n            return this._unpackByteArrayWithSize(buffer.readUInt16(), buffer);\n        }\n        else if (marker === BYTES_32) {\n            return this._unpackByteArrayWithSize(buffer.readUInt32(), buffer);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackByteArrayWithSize = function (size, buffer) {\n        var value = new Int8Array(size);\n        for (var i = 0; i < size; i++) {\n            value[i] = buffer.readInt8();\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackMap = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_MAP) {\n            return this._unpackMapWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === MAP_8) {\n            return this._unpackMapWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_16) {\n            return this._unpackMapWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else if (marker === MAP_32) {\n            return this._unpackMapWithSize(buffer.readUInt32(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackMapWithSize = function (size, buffer, hydrateStructure) {\n        var value = {};\n        for (var i = 0; i < size; i++) {\n            var key = this.unpack(buffer, hydrateStructure);\n            value[key] = this.unpack(buffer, hydrateStructure);\n        }\n        return value;\n    };\n    Unpacker.prototype._unpackStruct = function (marker, markerHigh, markerLow, buffer, hydrateStructure) {\n        if (markerHigh === TINY_STRUCT) {\n            return this._unpackStructWithSize(markerLow, buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_8) {\n            return this._unpackStructWithSize(buffer.readUInt8(), buffer, hydrateStructure);\n        }\n        else if (marker === STRUCT_16) {\n            return this._unpackStructWithSize(buffer.readUInt16(), buffer, hydrateStructure);\n        }\n        else {\n            return null;\n        }\n    };\n    Unpacker.prototype._unpackStructWithSize = function (structSize, buffer, hydrateStructure) {\n        var signature = buffer.readUInt8();\n        var structure = new structure_1.Structure(signature, []);\n        for (var i = 0; i < structSize; i++) {\n            structure.fields.push(this.unpack(buffer, hydrateStructure));\n        }\n        return hydrateStructure(structure);\n    };\n    return Unpacker;\n}());\nexports.Unpacker = Unpacker;\nfunction isIterable(obj) {\n    if (obj == null) {\n        return false;\n    }\n    return typeof obj[Symbol.iterator] === 'function';\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Unpacker = exports.Packer = void 0;\nvar v1 = __importStar(require(\"./packstream-v1\"));\nvar Packer = /** @class */ (function (_super) {\n    __extends(Packer, _super);\n    function Packer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Packer.prototype.disableByteArrays = function () {\n        throw new Error('Bolt V2 should always support byte arrays');\n    };\n    return Packer;\n}(v1.Packer));\nexports.Packer = Packer;\nvar Unpacker = /** @class */ (function (_super) {\n    __extends(Unpacker, _super);\n    /**\n     * @constructor\n     * @param {boolean} disableLosslessIntegers if this unpacker should convert all received integers to native JS numbers.\n     * @param {boolean} useBigInt if this unpacker should convert all received integers to Bigint\n     */\n    function Unpacker(disableLosslessIntegers, useBigInt) {\n        if (disableLosslessIntegers === void 0) { disableLosslessIntegers = false; }\n        if (useBigInt === void 0) { useBigInt = false; }\n        return _super.call(this, disableLosslessIntegers, useBigInt) || this;\n    }\n    return Unpacker;\n}(v1.Unpacker));\nexports.Unpacker = Unpacker;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.verifyStructSize = exports.Structure = void 0;\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\n/**\n * A Structure have a signature and fields.\n */\nvar Structure = /** @class */ (function () {\n    /**\n     * Create new instance\n     */\n    function Structure(signature, fields) {\n        this.signature = signature;\n        this.fields = fields;\n    }\n    Object.defineProperty(Structure.prototype, \"size\", {\n        get: function () {\n            return this.fields.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Structure.prototype.toString = function () {\n        var fieldStr = '';\n        for (var i = 0; i < this.fields.length; i++) {\n            if (i > 0) {\n                fieldStr += ', ';\n            }\n            fieldStr += this.fields[i];\n        }\n        return 'Structure(' + this.signature + ', [' + fieldStr + '])';\n    };\n    return Structure;\n}());\nexports.Structure = Structure;\nfunction verifyStructSize(structName, expectedSize, actualSize) {\n    if (expectedSize !== actualSize) {\n        throw (0, neo4j_driver_core_1.newError)(\"Wrong struct size for \".concat(structName, \", expected \").concat(expectedSize, \" but was \").concat(actualSize), PROTOCOL_ERROR);\n    }\n}\nexports.verifyStructSize = verifyStructSize;\nexports.default = Structure;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_MAX_SIZE = exports.DEFAULT_ACQUISITION_TIMEOUT = exports.PoolConfig = exports.Pool = void 0;\nvar pool_config_1 = __importStar(require(\"./pool-config\"));\nexports.PoolConfig = pool_config_1.default;\nObject.defineProperty(exports, \"DEFAULT_ACQUISITION_TIMEOUT\", { enumerable: true, get: function () { return pool_config_1.DEFAULT_ACQUISITION_TIMEOUT; } });\nObject.defineProperty(exports, \"DEFAULT_MAX_SIZE\", { enumerable: true, get: function () { return pool_config_1.DEFAULT_MAX_SIZE; } });\nvar pool_1 = __importDefault(require(\"./pool\"));\nexports.Pool = pool_1.default;\nexports.default = pool_1.default;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_ACQUISITION_TIMEOUT = exports.DEFAULT_MAX_SIZE = void 0;\nvar DEFAULT_MAX_SIZE = 100;\nexports.DEFAULT_MAX_SIZE = DEFAULT_MAX_SIZE;\nvar DEFAULT_ACQUISITION_TIMEOUT = 60 * 1000; // 60 seconds\nexports.DEFAULT_ACQUISITION_TIMEOUT = DEFAULT_ACQUISITION_TIMEOUT;\nvar PoolConfig = /** @class */ (function () {\n    function PoolConfig(maxSize, acquisitionTimeout) {\n        this.maxSize = valueOrDefault(maxSize, DEFAULT_MAX_SIZE);\n        this.acquisitionTimeout = valueOrDefault(acquisitionTimeout, DEFAULT_ACQUISITION_TIMEOUT);\n    }\n    PoolConfig.defaultConfig = function () {\n        return new PoolConfig(DEFAULT_MAX_SIZE, DEFAULT_ACQUISITION_TIMEOUT);\n    };\n    PoolConfig.fromDriverConfig = function (config) {\n        var maxSizeConfigured = isConfigured(config.maxConnectionPoolSize);\n        var maxSize = maxSizeConfigured\n            ? config.maxConnectionPoolSize\n            : DEFAULT_MAX_SIZE;\n        var acquisitionTimeoutConfigured = isConfigured(config.connectionAcquisitionTimeout);\n        var acquisitionTimeout = acquisitionTimeoutConfigured\n            ? config.connectionAcquisitionTimeout\n            : DEFAULT_ACQUISITION_TIMEOUT;\n        return new PoolConfig(maxSize, acquisitionTimeout);\n    };\n    return PoolConfig;\n}());\nexports.default = PoolConfig;\nfunction valueOrDefault(value, defaultValue) {\n    return value === 0 || value ? value : defaultValue;\n}\nfunction isConfigured(value) {\n    return value === 0 || value;\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pool_config_1 = __importDefault(require(\"./pool-config\"));\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar Logger = neo4j_driver_core_1.internal.logger.Logger;\nvar Pool = /** @class */ (function () {\n    /**\n     * @param {function(address: ServerAddress, function(address: ServerAddress, resource: object): Promise<object>): Promise<object>} create\n     *                an allocation function that creates a promise with a new resource. It's given an address for which to\n     *                allocate the connection and a function that will return the resource to the pool if invoked, which is\n     *                meant to be called on .dispose or .close or whatever mechanism the resource uses to finalize.\n     * @param {function(resource: object): Promise<void>} destroy\n     *                called with the resource when it is evicted from this pool\n     * @param {function(resource: object): boolean} validate\n     *                called at various times (like when an instance is acquired and when it is returned.\n     *                If this returns false, the resource will be evicted\n     * @param {function(resource: object, observer: { onError }): void} installIdleObserver\n     *                called when the resource is released back to pool\n     * @param {function(resource: object): void} removeIdleObserver\n     *                called when the resource is acquired from the pool\n     * @param {PoolConfig} config configuration for the new driver.\n     * @param {Logger} log the driver logger.\n     */\n    function Pool(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.create, create = _c === void 0 ? function (address, release) { return Promise.resolve(); } : _c, _d = _b.destroy, destroy = _d === void 0 ? function (conn) { return Promise.resolve(); } : _d, _e = _b.validate, validate = _e === void 0 ? function (conn) { return true; } : _e, _f = _b.installIdleObserver, installIdleObserver = _f === void 0 ? function (conn, observer) { } : _f, _g = _b.removeIdleObserver, removeIdleObserver = _g === void 0 ? function (conn) { } : _g, _h = _b.config, config = _h === void 0 ? pool_config_1.default.defaultConfig() : _h, _j = _b.log, log = _j === void 0 ? Logger.noOp() : _j;\n        this._create = create;\n        this._destroy = destroy;\n        this._validate = validate;\n        this._installIdleObserver = installIdleObserver;\n        this._removeIdleObserver = removeIdleObserver;\n        this._maxSize = config.maxSize;\n        this._acquisitionTimeout = config.acquisitionTimeout;\n        this._pools = {};\n        this._pendingCreates = {};\n        this._acquireRequests = {};\n        this._activeResourceCounts = {};\n        this._release = this._release.bind(this);\n        this._log = log;\n        this._closed = false;\n    }\n    /**\n     * Acquire and idle resource fom the pool or create a new one.\n     * @param {ServerAddress} address the address for which we're acquiring.\n     * @return {Promise<Object>} resource that is ready to use.\n     */\n    Pool.prototype.acquire = function (address) {\n        var _this = this;\n        var key = address.asKey();\n        // We're out of resources and will try to acquire later on when an existing resource is released.\n        var allRequests = this._acquireRequests;\n        var requests = allRequests[key];\n        if (!requests) {\n            allRequests[key] = [];\n        }\n        return new Promise(function (resolve, reject) {\n            var request = null;\n            var timeoutId = setTimeout(function () {\n                // acquisition timeout fired\n                // remove request from the queue of pending requests, if it's still there\n                // request might've been taken out by the release operation\n                var pendingRequests = allRequests[key];\n                if (pendingRequests) {\n                    allRequests[key] = pendingRequests.filter(function (item) { return item !== request; });\n                }\n                if (request.isCompleted()) {\n                    // request already resolved/rejected by the release operation; nothing to do\n                }\n                else {\n                    // request is still pending and needs to be failed\n                    var activeCount = _this.activeResourceCount(address);\n                    var idleCount = _this.has(address) ? _this._pools[key].length : 0;\n                    request.reject((0, neo4j_driver_core_1.newError)(\"Connection acquisition timed out in \".concat(_this._acquisitionTimeout, \" ms. Pool status: Active conn count = \").concat(activeCount, \", Idle conn count = \").concat(idleCount, \".\")));\n                }\n            }, _this._acquisitionTimeout);\n            request = new PendingRequest(key, resolve, reject, timeoutId, _this._log);\n            allRequests[key].push(request);\n            _this._processPendingAcquireRequests(address);\n        });\n    };\n    /**\n     * Destroy all idle resources for the given address.\n     * @param {ServerAddress} address the address of the server to purge its pool.\n     * @returns {Promise<void>} A promise that is resolved when the resources are purged\n     */\n    Pool.prototype.purge = function (address) {\n        return this._purgeKey(address.asKey());\n    };\n    /**\n     * Destroy all idle resources in this pool.\n     * @returns {Promise<void>} A promise that is resolved when the resources are purged\n     */\n    Pool.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this._closed = true;\n                        return [4 /*yield*/, Promise.all(Object.keys(this._pools).map(function (key) { return _this._purgeKey(key); }))];\n                    case 1: \n                    /**\n                     * The lack of Promise consuming was making the driver do not close properly in the scenario\n                     * captured at result.test.js:it('should handle missing onCompleted'). The test was timing out\n                     * because while wainting for the driver close.\n                     *\n                     * Consuming the Promise.all or by calling then or by awaiting in the result inside this method solved\n                     * the issue somehow.\n                     *\n                     * PS: the return of this method was already awaited at PooledConnectionProvider.close, but the await bellow\n                     * seems to be need also.\n                     */\n                    return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Keep the idle resources for the provided addresses and purge the rest.\n     * @returns {Promise<void>} A promise that is resolved when the other resources are purged\n     */\n    Pool.prototype.keepAll = function (addresses) {\n        var _this = this;\n        var keysToKeep = addresses.map(function (a) { return a.asKey(); });\n        var keysPresent = Object.keys(this._pools);\n        var keysToPurge = keysPresent.filter(function (k) { return keysToKeep.indexOf(k) === -1; });\n        return Promise.all(keysToPurge.map(function (key) { return _this._purgeKey(key); }));\n    };\n    /**\n     * Check if this pool contains resources for the given address.\n     * @param {ServerAddress} address the address of the server to check.\n     * @return {boolean} `true` when pool contains entries for the given key, <code>false</code> otherwise.\n     */\n    Pool.prototype.has = function (address) {\n        return address.asKey() in this._pools;\n    };\n    /**\n     * Get count of active (checked out of the pool) resources for the given key.\n     * @param {ServerAddress} address the address of the server to check.\n     * @return {number} count of resources acquired by clients.\n     */\n    Pool.prototype.activeResourceCount = function (address) {\n        return this._activeResourceCounts[address.asKey()] || 0;\n    };\n    Pool.prototype._getOrInitializePoolFor = function (key) {\n        var pool = this._pools[key];\n        if (!pool) {\n            pool = new SingleAddressPool();\n            this._pools[key] = pool;\n            this._pendingCreates[key] = 0;\n        }\n        return pool;\n    };\n    Pool.prototype._acquire = function (address) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key, pool, resource_1, numConnections, resource;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._closed) {\n                            throw (0, neo4j_driver_core_1.newError)('Pool is closed, it is no more able to serve requests.');\n                        }\n                        key = address.asKey();\n                        pool = this._getOrInitializePoolFor(key);\n                        _a.label = 1;\n                    case 1:\n                        if (!pool.length) return [3 /*break*/, 5];\n                        resource_1 = pool.pop();\n                        if (!this._validate(resource_1)) return [3 /*break*/, 2];\n                        if (this._removeIdleObserver) {\n                            this._removeIdleObserver(resource_1);\n                        }\n                        // idle resource is valid and can be acquired\n                        resourceAcquired(key, this._activeResourceCounts);\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource_1, \" acquired from the pool \").concat(key));\n                        }\n                        return [2 /*return*/, { resource: resource_1, pool: pool }];\n                    case 2: return [4 /*yield*/, this._destroy(resource_1)];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4: return [3 /*break*/, 1];\n                    case 5:\n                        // Ensure requested max pool size\n                        if (this._maxSize > 0) {\n                            numConnections = this.activeResourceCount(address) + this._pendingCreates[key];\n                            if (numConnections >= this._maxSize) {\n                                // Will put this request in queue instead since the pool is full\n                                return [2 /*return*/, { resource: null, pool: pool }];\n                            }\n                        }\n                        // there exist no idle valid resources, create a new one for acquisition\n                        // Keep track of how many pending creates there are to avoid making too many connections.\n                        this._pendingCreates[key] = this._pendingCreates[key] + 1;\n                        _a.label = 6;\n                    case 6:\n                        _a.trys.push([6, , 8, 9]);\n                        return [4 /*yield*/, this._create(address, function (address, resource) { return _this._release(address, resource, pool); })];\n                    case 7:\n                        // Invoke callback that creates actual connection\n                        resource = _a.sent();\n                        resourceAcquired(key, this._activeResourceCounts);\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" created for the pool \").concat(key));\n                        }\n                        return [3 /*break*/, 9];\n                    case 8:\n                        this._pendingCreates[key] = this._pendingCreates[key] - 1;\n                        return [7 /*endfinally*/];\n                    case 9: return [2 /*return*/, { resource: resource, pool: pool }];\n                }\n            });\n        });\n    };\n    Pool.prototype._release = function (address, resource, pool) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        key = address.asKey();\n                        if (!pool.isActive()) return [3 /*break*/, 4];\n                        if (!!this._validate(resource)) return [3 /*break*/, 2];\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" destroyed and can't be released to the pool \").concat(key, \" because it is not functional\"));\n                        }\n                        return [4 /*yield*/, this._destroy(resource)];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        if (this._installIdleObserver) {\n                            this._installIdleObserver(resource, {\n                                onError: function (error) {\n                                    _this._log.debug(\"Idle connection \".concat(resource, \" destroyed because of error: \").concat(error));\n                                    var pool = _this._pools[key];\n                                    if (pool) {\n                                        _this._pools[key] = pool.filter(function (r) { return r !== resource; });\n                                    }\n                                    // let's not care about background clean-ups due to errors but just trigger the destroy\n                                    // process for the resource, we especially catch any errors and ignore them to avoid\n                                    // unhandled promise rejection warnings\n                                    _this._destroy(resource).catch(function () { });\n                                }\n                            });\n                        }\n                        pool.push(resource);\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" released to the pool \").concat(key));\n                        }\n                        _a.label = 3;\n                    case 3: return [3 /*break*/, 6];\n                    case 4:\n                        // key has been purged, don't put it back, just destroy the resource\n                        if (this._log.isDebugEnabled()) {\n                            this._log.debug(\"\".concat(resource, \" destroyed and can't be released to the pool \").concat(key, \" because pool has been purged\"));\n                        }\n                        return [4 /*yield*/, this._destroy(resource)];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        resourceReleased(key, this._activeResourceCounts);\n                        this._processPendingAcquireRequests(address);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Pool.prototype._purgeKey = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var pool, destructionList, resource;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        pool = this._pools[key];\n                        destructionList = [];\n                        if (!pool) return [3 /*break*/, 2];\n                        while (pool.length) {\n                            resource = pool.pop();\n                            if (this._removeIdleObserver) {\n                                this._removeIdleObserver(resource);\n                            }\n                            destructionList.push(this._destroy(resource));\n                        }\n                        pool.close();\n                        delete this._pools[key];\n                        return [4 /*yield*/, Promise.all(destructionList)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Pool.prototype._processPendingAcquireRequests = function (address) {\n        var _this = this;\n        var key = address.asKey();\n        var requests = this._acquireRequests[key];\n        if (requests) {\n            var pendingRequest_1 = requests.shift(); // pop a pending acquire request\n            if (pendingRequest_1) {\n                this._acquire(address)\n                    .catch(function (error) {\n                    // failed to acquire/create a new connection to resolve the pending acquire request\n                    // propagate the error by failing the pending request\n                    pendingRequest_1.reject(error);\n                    return { resource: null };\n                })\n                    .then(function (_a) {\n                    var resource = _a.resource, pool = _a.pool;\n                    if (resource) {\n                        // managed to acquire a valid resource from the pool\n                        if (pendingRequest_1.isCompleted()) {\n                            // request has been completed, most likely failed by a timeout\n                            // return the acquired resource back to the pool\n                            _this._release(address, resource, pool);\n                        }\n                        else {\n                            // request is still pending and can be resolved with the newly acquired resource\n                            pendingRequest_1.resolve(resource); // resolve the pending request with the acquired resource\n                        }\n                    }\n                    else {\n                        // failed to acquire a valid resource from the pool\n                        // return the pending request back to the pool\n                        if (!pendingRequest_1.isCompleted()) {\n                            if (!_this._acquireRequests[key]) {\n                                _this._acquireRequests[key] = [];\n                            }\n                            _this._acquireRequests[key].unshift(pendingRequest_1);\n                        }\n                    }\n                });\n            }\n            else {\n                delete this._acquireRequests[key];\n            }\n        }\n    };\n    return Pool;\n}());\n/**\n * Increment active (checked out of the pool) resource counter.\n * @param {string} key the resource group identifier (server address for connections).\n * @param {Object.<string, number>} activeResourceCounts the object holding active counts per key.\n */\nfunction resourceAcquired(key, activeResourceCounts) {\n    var currentCount = activeResourceCounts[key] || 0;\n    activeResourceCounts[key] = currentCount + 1;\n}\n/**\n * Decrement active (checked out of the pool) resource counter.\n * @param {string} key the resource group identifier (server address for connections).\n * @param {Object.<string, number>} activeResourceCounts the object holding active counts per key.\n */\nfunction resourceReleased(key, activeResourceCounts) {\n    var currentCount = activeResourceCounts[key] || 0;\n    var nextCount = currentCount - 1;\n    if (nextCount > 0) {\n        activeResourceCounts[key] = nextCount;\n    }\n    else {\n        delete activeResourceCounts[key];\n    }\n}\nvar PendingRequest = /** @class */ (function () {\n    function PendingRequest(key, resolve, reject, timeoutId, log) {\n        this._key = key;\n        this._resolve = resolve;\n        this._reject = reject;\n        this._timeoutId = timeoutId;\n        this._log = log;\n        this._completed = false;\n    }\n    PendingRequest.prototype.isCompleted = function () {\n        return this._completed;\n    };\n    PendingRequest.prototype.resolve = function (resource) {\n        if (this._completed) {\n            return;\n        }\n        this._completed = true;\n        clearTimeout(this._timeoutId);\n        if (this._log.isDebugEnabled()) {\n            this._log.debug(\"\".concat(resource, \" acquired from the pool \").concat(this._key));\n        }\n        this._resolve(resource);\n    };\n    PendingRequest.prototype.reject = function (error) {\n        if (this._completed) {\n            return;\n        }\n        this._completed = true;\n        clearTimeout(this._timeoutId);\n        this._reject(error);\n    };\n    return PendingRequest;\n}());\nvar SingleAddressPool = /** @class */ (function () {\n    function SingleAddressPool() {\n        this._active = true;\n        this._elements = [];\n    }\n    SingleAddressPool.prototype.isActive = function () {\n        return this._active;\n    };\n    SingleAddressPool.prototype.close = function () {\n        this._active = false;\n    };\n    SingleAddressPool.prototype.filter = function (predicate) {\n        this._elements = this._elements.filter(predicate);\n        return this;\n    };\n    Object.defineProperty(SingleAddressPool.prototype, \"length\", {\n        get: function () {\n            return this._elements.length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SingleAddressPool.prototype.pop = function () {\n        return this._elements.pop();\n    };\n    SingleAddressPool.prototype.push = function (element) {\n        return this._elements.push(element);\n    };\n    return SingleAddressPool;\n}());\nexports.default = Pool;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RoutingTable = exports.Rediscovery = void 0;\nvar rediscovery_1 = __importDefault(require(\"./rediscovery\"));\nexports.Rediscovery = rediscovery_1.default;\nvar routing_table_1 = __importDefault(require(\"./routing-table\"));\nexports.RoutingTable = routing_table_1.default;\nexports.default = rediscovery_1.default;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar routing_table_1 = __importDefault(require(\"./routing-table\"));\nvar Rediscovery = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {object} routingContext\n     */\n    function Rediscovery(routingContext) {\n        this._routingContext = routingContext;\n    }\n    /**\n     * Try to fetch new routing table from the given router.\n     * @param {Session} session the session to use.\n     * @param {string} database the database for which to lookup routing table.\n     * @param {ServerAddress} routerAddress the URL of the router.\n     * @param {string} impersonatedUser The impersonated user\n     * @return {Promise<RoutingTable>} promise resolved with new routing table or null when connection error happened.\n     */\n    Rediscovery.prototype.lookupRoutingTableOnRouter = function (session, database, routerAddress, impersonatedUser) {\n        var _this = this;\n        return session._acquireConnection(function (connection) {\n            return _this._requestRawRoutingTable(connection, session, database, routerAddress, impersonatedUser).then(function (rawRoutingTable) {\n                if (rawRoutingTable.isNull) {\n                    return null;\n                }\n                return routing_table_1.default.fromRawRoutingTable(database, routerAddress, rawRoutingTable);\n            });\n        });\n    };\n    Rediscovery.prototype._requestRawRoutingTable = function (connection, session, database, routerAddress, impersonatedUser) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            connection.protocol().requestRoutingInformation({\n                routingContext: _this._routingContext,\n                databaseName: database,\n                impersonatedUser: impersonatedUser,\n                sessionContext: {\n                    bookmarks: session._lastBookmarks,\n                    mode: session._mode,\n                    database: session._database,\n                    afterComplete: session._onComplete\n                },\n                onCompleted: resolve,\n                onError: reject\n            });\n        });\n    };\n    return Rediscovery;\n}());\nexports.default = Rediscovery;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createValidRoutingTable = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar _a = neo4j_driver_core_1.internal.constants, WRITE = _a.ACCESS_MODE_WRITE, READ = _a.ACCESS_MODE_READ, ServerAddress = neo4j_driver_core_1.internal.serverAddress.ServerAddress;\nvar PROTOCOL_ERROR = neo4j_driver_core_1.error.PROTOCOL_ERROR;\nvar MIN_ROUTERS = 1;\n/**\n * The routing table object used to determine the role of the servers in the driver.\n */\nvar RoutingTable = /** @class */ (function () {\n    function RoutingTable(_a) {\n        var _b = _a === void 0 ? {} : _a, database = _b.database, routers = _b.routers, readers = _b.readers, writers = _b.writers, expirationTime = _b.expirationTime, ttl = _b.ttl;\n        this.database = database || null;\n        this.databaseName = database || 'default database';\n        this.routers = routers || [];\n        this.readers = readers || [];\n        this.writers = writers || [];\n        this.expirationTime = expirationTime || (0, neo4j_driver_core_1.int)(0);\n        this.ttl = ttl;\n    }\n    /**\n     * Create a valid routing table from a raw object\n     *\n     * @param {string} database the database name. It is used for logging purposes\n     * @param {ServerAddress} routerAddress The router address, it is used for loggin purposes\n     * @param {RawRoutingTable} rawRoutingTable Method used to get the raw routing table to be processed\n     * @param {RoutingTable} The valid Routing Table\n     */\n    RoutingTable.fromRawRoutingTable = function (database, routerAddress, rawRoutingTable) {\n        return createValidRoutingTable(database, routerAddress, rawRoutingTable);\n    };\n    RoutingTable.prototype.forget = function (address) {\n        // Don't remove it from the set of routers, since that might mean we lose our ability to re-discover,\n        // just remove it from the set of readers and writers, so that we don't use it for actual work without\n        // performing discovery first.\n        this.readers = removeFromArray(this.readers, address);\n        this.writers = removeFromArray(this.writers, address);\n    };\n    RoutingTable.prototype.forgetRouter = function (address) {\n        this.routers = removeFromArray(this.routers, address);\n    };\n    RoutingTable.prototype.forgetWriter = function (address) {\n        this.writers = removeFromArray(this.writers, address);\n    };\n    /**\n     * Check if this routing table is fresh to perform the required operation.\n     * @param {string} accessMode the type of operation. Allowed values are {@link READ} and {@link WRITE}.\n     * @return {boolean} `true` when this table contains servers to serve the required operation, `false` otherwise.\n     */\n    RoutingTable.prototype.isStaleFor = function (accessMode) {\n        return (this.expirationTime.lessThan(Date.now()) ||\n            this.routers.length < MIN_ROUTERS ||\n            (accessMode === READ && this.readers.length === 0) ||\n            (accessMode === WRITE && this.writers.length === 0));\n    };\n    /**\n     * Check if this routing table is expired for specified amount of duration\n     *\n     * @param {Integer} duration amount of duration in milliseconds to check for expiration\n     * @returns {boolean}\n     */\n    RoutingTable.prototype.isExpiredFor = function (duration) {\n        return this.expirationTime.add(duration).lessThan(Date.now());\n    };\n    RoutingTable.prototype.allServers = function () {\n        return __spreadArray(__spreadArray(__spreadArray([], __read(this.routers), false), __read(this.readers), false), __read(this.writers), false);\n    };\n    RoutingTable.prototype.toString = function () {\n        return ('RoutingTable[' +\n            \"database=\".concat(this.databaseName, \", \") +\n            \"expirationTime=\".concat(this.expirationTime, \", \") +\n            \"currentTime=\".concat(Date.now(), \", \") +\n            \"routers=[\".concat(this.routers, \"], \") +\n            \"readers=[\".concat(this.readers, \"], \") +\n            \"writers=[\".concat(this.writers, \"]]\"));\n    };\n    return RoutingTable;\n}());\nexports.default = RoutingTable;\n/**\n * Remove all occurrences of the element in the array.\n * @param {Array} array the array to filter.\n * @param {Object} element the element to remove.\n * @return {Array} new filtered array.\n */\nfunction removeFromArray(array, element) {\n    return array.filter(function (item) { return item.asKey() !== element.asKey(); });\n}\n/**\n * Create a valid routing table from a raw object\n *\n * @param {string} db the database name. It is used for logging purposes\n * @param {ServerAddress} routerAddress The router address, it is used for loggin purposes\n * @param {RawRoutingTable} rawRoutingTable Method used to get the raw routing table to be processed\n * @param {RoutingTable} The valid Routing Table\n */\nfunction createValidRoutingTable(database, routerAddress, rawRoutingTable) {\n    var ttl = rawRoutingTable.ttl;\n    var expirationTime = calculateExpirationTime(rawRoutingTable, routerAddress);\n    var _a = parseServers(rawRoutingTable, routerAddress), routers = _a.routers, readers = _a.readers, writers = _a.writers;\n    assertNonEmpty(routers, 'routers', routerAddress);\n    assertNonEmpty(readers, 'readers', routerAddress);\n    return new RoutingTable({\n        database: database || rawRoutingTable.db,\n        routers: routers,\n        readers: readers,\n        writers: writers,\n        expirationTime: expirationTime,\n        ttl: ttl\n    });\n}\nexports.createValidRoutingTable = createValidRoutingTable;\n/**\n * Parse server from the RawRoutingTable.\n *\n * @param {RawRoutingTable} rawRoutingTable the raw routing table\n * @param {string} routerAddress the router address\n * @returns {Object} The object with the list of routers, readers and writers\n */\nfunction parseServers(rawRoutingTable, routerAddress) {\n    try {\n        var routers_1 = [];\n        var readers_1 = [];\n        var writers_1 = [];\n        rawRoutingTable.servers.forEach(function (server) {\n            var role = server.role;\n            var addresses = server.addresses;\n            if (role === 'ROUTE') {\n                routers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n            else if (role === 'WRITE') {\n                writers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n            else if (role === 'READ') {\n                readers_1 = parseArray(addresses).map(function (address) {\n                    return ServerAddress.fromUrl(address);\n                });\n            }\n        });\n        return {\n            routers: routers_1,\n            readers: readers_1,\n            writers: writers_1\n        };\n    }\n    catch (error) {\n        throw (0, neo4j_driver_core_1.newError)(\"Unable to parse servers entry from router \".concat(routerAddress, \" from addresses:\\n\").concat(neo4j_driver_core_1.json.stringify(rawRoutingTable.servers), \"\\nError message: \").concat(error.message), PROTOCOL_ERROR);\n    }\n}\n/**\n * Call the expiration time using the ttls from the raw routing table and return it\n *\n * @param {RawRoutingTable} rawRoutingTable the routing table\n * @param {string} routerAddress the router address\n * @returns {number} the ttl\n */\nfunction calculateExpirationTime(rawRoutingTable, routerAddress) {\n    try {\n        var now = (0, neo4j_driver_core_1.int)(Date.now());\n        var expires = (0, neo4j_driver_core_1.int)(rawRoutingTable.ttl)\n            .multiply(1000)\n            .add(now);\n        // if the server uses a really big expire time like Long.MAX_VALUE this may have overflowed\n        if (expires.lessThan(now)) {\n            return neo4j_driver_core_1.Integer.MAX_VALUE;\n        }\n        return expires;\n    }\n    catch (error) {\n        throw (0, neo4j_driver_core_1.newError)(\"Unable to parse TTL entry from router \".concat(routerAddress, \" from raw routing table:\\n\").concat(neo4j_driver_core_1.json.stringify(rawRoutingTable), \"\\nError message: \").concat(error.message), PROTOCOL_ERROR);\n    }\n}\n/**\n * Assert if serverAddressesArray is not empty, throws and PROTOCOL_ERROR otherwise\n *\n * @param {string[]} serverAddressesArray array of addresses\n * @param {string} serversName the server name\n * @param {string} routerAddress the router address\n */\nfunction assertNonEmpty(serverAddressesArray, serversName, routerAddress) {\n    if (serverAddressesArray.length === 0) {\n        throw (0, neo4j_driver_core_1.newError)('Received no ' + serversName + ' from router ' + routerAddress, PROTOCOL_ERROR);\n    }\n}\nfunction parseArray(addresses) {\n    if (!Array.isArray(addresses)) {\n        throw new TypeError('Array expected but got: ' + addresses);\n    }\n    return Array.from(addresses);\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @property {function(username: string, password: string, realm: ?string)} basic the function to create a\n * basic authentication token.\n * @property {function(base64EncodedTicket: string)} kerberos the function to create a Kerberos authentication token.\n * Accepts a single string argument - base64 encoded Kerberos ticket.\n * @property {function(base64EncodedTicket: string)} bearer the function to create a Bearer authentication token.\n * Accepts a single string argument - base64 encoded Bearer ticket.\n * @property {function(principal: string, credentials: string, realm: string, scheme: string, parameters: ?object)} custom\n * the function to create a custom authentication token.\n */\nvar auth = {\n    basic: function (username, password, realm) {\n        if (realm != null) {\n            return {\n                scheme: 'basic',\n                principal: username,\n                credentials: password,\n                realm: realm\n            };\n        }\n        else {\n            return { scheme: 'basic', principal: username, credentials: password };\n        }\n    },\n    kerberos: function (base64EncodedTicket) {\n        return {\n            scheme: 'kerberos',\n            principal: '',\n            credentials: base64EncodedTicket\n        };\n    },\n    bearer: function (base64EncodedToken) {\n        return {\n            scheme: 'bearer',\n            credentials: base64EncodedToken\n        };\n    },\n    custom: function (principal, credentials, realm, scheme, parameters) {\n        var output = {\n            scheme: scheme,\n            principal: principal\n        };\n        if (isNotEmpty(credentials)) {\n            output.credentials = credentials;\n        }\n        if (isNotEmpty(realm)) {\n            output.realm = realm;\n        }\n        if (isNotEmpty(parameters)) {\n            output.parameters = parameters;\n        }\n        return output;\n    }\n};\nfunction isNotEmpty(value) {\n    return !(value === null ||\n        value === undefined ||\n        value === '' ||\n        (Object.getPrototypeOf(value) === Object.prototype && Object.keys(value).length === 0));\n}\nexports.default = auth;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bookmarkManager = void 0;\n/**\n * Interface for the piece of software responsible for keeping track of current active bookmarks accross the driver.\n * @interface\n * @since 5.0\n * @experimental\n */\nvar BookmarkManager = /** @class */ (function () {\n    /**\n     * @constructor\n     * @private\n     */\n    function BookmarkManager() {\n        throw new Error('Not implemented');\n    }\n    /**\n     * Method called when the bookmarks get updated when a transaction finished.\n     *\n     * This method will be called when auto-commit queries finish and when explicit transactions\n     * get committed.\n     *\n     * @param {Iterable<string>} previousBookmarks The bookmarks used when starting the transaction\n     * @param {Iterable<string>} newBookmarks The new bookmarks received at the end of the transaction.\n     * @returns {void}\n    */\n    BookmarkManager.prototype.updateBookmarks = function (previousBookmarks, newBookmarks) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new Error('Not implemented');\n            });\n        });\n    };\n    /**\n     * Method called by the driver to get the bookmarks.\n     *\n     * @returns {Iterable<string>} The set of bookmarks\n     */\n    BookmarkManager.prototype.getBookmarks = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new Error('Not implemented');\n            });\n        });\n    };\n    return BookmarkManager;\n}());\nexports.default = BookmarkManager;\n/**\n * @typedef {Object} BookmarkManagerConfig\n *\n * @since 5.0\n * @experimental\n * @property {Iterable<string>} [initialBookmarks] Defines the initial set of bookmarks. The key is the database name and the values are the bookmarks.\n * @property {function():Promise<Iterable<string>>} [bookmarksSupplier] Called for supplying extra bookmarks to the BookmarkManager\n * @property {function(bookmarks: Iterable<string>): Promise<void>} [bookmarksConsumer] Called when the set of bookmarks  get updated\n */\n/**\n * Provides an configured {@link BookmarkManager} instance.\n *\n * @since 5.0\n * @experimental\n * @param {BookmarkManagerConfig} [config={}]\n * @returns {BookmarkManager}\n */\nfunction bookmarkManager(config) {\n    if (config === void 0) { config = {}; }\n    var initialBookmarks = new Set(config.initialBookmarks);\n    return new Neo4jBookmarkManager(initialBookmarks, config.bookmarksSupplier, config.bookmarksConsumer);\n}\nexports.bookmarkManager = bookmarkManager;\nvar Neo4jBookmarkManager = /** @class */ (function () {\n    function Neo4jBookmarkManager(_bookmarks, _bookmarksSupplier, _bookmarksConsumer) {\n        this._bookmarks = _bookmarks;\n        this._bookmarksSupplier = _bookmarksSupplier;\n        this._bookmarksConsumer = _bookmarksConsumer;\n    }\n    Neo4jBookmarkManager.prototype.updateBookmarks = function (previousBookmarks, newBookmarks) {\n        return __awaiter(this, void 0, void 0, function () {\n            var bookmarks, previousBookmarks_1, previousBookmarks_1_1, bm, newBookmarks_1, newBookmarks_1_1, bm;\n            var e_1, _a, e_2, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        bookmarks = this._bookmarks;\n                        try {\n                            for (previousBookmarks_1 = __values(previousBookmarks), previousBookmarks_1_1 = previousBookmarks_1.next(); !previousBookmarks_1_1.done; previousBookmarks_1_1 = previousBookmarks_1.next()) {\n                                bm = previousBookmarks_1_1.value;\n                                bookmarks.delete(bm);\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (previousBookmarks_1_1 && !previousBookmarks_1_1.done && (_a = previousBookmarks_1.return)) _a.call(previousBookmarks_1);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        try {\n                            for (newBookmarks_1 = __values(newBookmarks), newBookmarks_1_1 = newBookmarks_1.next(); !newBookmarks_1_1.done; newBookmarks_1_1 = newBookmarks_1.next()) {\n                                bm = newBookmarks_1_1.value;\n                                bookmarks.add(bm);\n                            }\n                        }\n                        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                        finally {\n                            try {\n                                if (newBookmarks_1_1 && !newBookmarks_1_1.done && (_b = newBookmarks_1.return)) _b.call(newBookmarks_1);\n                            }\n                            finally { if (e_2) throw e_2.error; }\n                        }\n                        if (!(typeof this._bookmarksConsumer === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._bookmarksConsumer(__spreadArray([], __read(bookmarks), false))];\n                    case 1:\n                        _c.sent();\n                        _c.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Neo4jBookmarkManager.prototype.getBookmarks = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var bookmarks, suppliedBookmarks, suppliedBookmarks_1, suppliedBookmarks_1_1, bm;\n            var e_3, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        bookmarks = new Set(this._bookmarks);\n                        if (!(typeof this._bookmarksSupplier === 'function')) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._bookmarksSupplier()];\n                    case 1:\n                        suppliedBookmarks = (_a = _c.sent()) !== null && _a !== void 0 ? _a : [];\n                        try {\n                            for (suppliedBookmarks_1 = __values(suppliedBookmarks), suppliedBookmarks_1_1 = suppliedBookmarks_1.next(); !suppliedBookmarks_1_1.done; suppliedBookmarks_1_1 = suppliedBookmarks_1.next()) {\n                                bm = suppliedBookmarks_1_1.value;\n                                bookmarks.add(bm);\n                            }\n                        }\n                        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                        finally {\n                            try {\n                                if (suppliedBookmarks_1_1 && !suppliedBookmarks_1_1.done && (_b = suppliedBookmarks_1.return)) _b.call(suppliedBookmarks_1);\n                            }\n                            finally { if (e_3) throw e_3.error; }\n                        }\n                        _c.label = 2;\n                    case 2: return [2 /*return*/, __spreadArray([], __read(bookmarks), false)];\n                }\n            });\n        });\n    };\n    return Neo4jBookmarkManager;\n}());\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/promise-function-async */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Inteface define a common way to acquire a connection\n *\n * @private\n */\nvar ConnectionProvider = /** @class */ (function () {\n    function ConnectionProvider() {\n    }\n    /**\n     * This method acquires a connection against the specified database.\n     *\n     * Access mode and Bookmarks only applies to routing driver. Access mode only\n     * differentiates the target server for the connection, where WRITE selects a\n     * WRITER server, whereas READ selects a READ server. Bookmarks, when specified,\n     * is only passed to the routing discovery procedure, for the system database to\n     * synchronize on creation of databases and is never used in direct drivers.\n     *\n     * @param {object} param - object parameter\n     * @property {string} param.accessMode - the access mode for the to-be-acquired connection\n     * @property {string} param.database - the target database for the to-be-acquired connection\n     * @property {Bookmarks} param.bookmarks - the bookmarks to send to routing discovery\n     * @property {string} param.impersonatedUser - the impersonated user\n     * @property {function (databaseName:string?)} param.onDatabaseNameResolved - Callback called when the database name get resolved\n     */\n    ConnectionProvider.prototype.acquireConnection = function (param) {\n        throw Error('Not implemented');\n    };\n    /**\n     * This method checks whether the backend database supports multi database functionality\n     * by checking protocol handshake result.\n     *\n     * @returns {Promise<boolean>}\n     */\n    ConnectionProvider.prototype.supportsMultiDb = function () {\n        throw Error('Not implemented');\n    };\n    /**\n     * This method checks whether the backend database supports transaction config functionality\n     * by checking protocol handshake result.\n     *\n     * @returns {Promise<boolean>}\n     */\n    ConnectionProvider.prototype.supportsTransactionConfig = function () {\n        throw Error('Not implemented');\n    };\n    /**\n     * This method checks whether the backend database supports transaction config functionality\n     * by checking protocol handshake result.\n     *\n     * @returns {Promise<boolean>}\n     */\n    ConnectionProvider.prototype.supportsUserImpersonation = function () {\n        throw Error('Not implemented');\n    };\n    /**\n     * This method verifies the connectivity of the database by trying to acquire a connection\n     * for each server available in the cluster.\n     *\n     * @param {object} param - object parameter\n     * @property {string} param.database - the target database for the to-be-acquired connection\n     * @property {string} param.accessMode - the access mode for the to-be-acquired connection\n     *\n     * @returns {Promise<ServerInfo>} promise resolved with server info or rejected with error.\n     */\n    ConnectionProvider.prototype.verifyConnectivityAndGetServerInfo = function (param) {\n        throw Error('Not implemented');\n    };\n    /**\n     * Returns the protocol version negotiated via handshake.\n     *\n     * Note that this function call _always_ causes a round-trip to the server.\n     *\n     * @returns {Promise<number>} the protocol version negotiated via handshake.\n     * @throws {Error} When protocol negotiation fails\n     */\n    ConnectionProvider.prototype.getNegotiatedProtocolVersion = function () {\n        throw Error('Not Implemented');\n    };\n    /**\n     * Closes this connection provider along with its internals (connections, pools, etc.)\n     *\n     * @returns {Promise<void>}\n     */\n    ConnectionProvider.prototype.close = function () {\n        throw Error('Not implemented');\n    };\n    return ConnectionProvider;\n}());\nexports.default = ConnectionProvider;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/promise-function-async */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Interface which defines the raw connection with the database\n * @private\n */\nvar Connection = /** @class */ (function () {\n    function Connection() {\n    }\n    Object.defineProperty(Connection.prototype, \"id\", {\n        get: function () {\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"databaseId\", {\n        get: function () {\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"server\", {\n        get: function () {\n            return {};\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"address\", {\n        /**\n         * @property {ServerAddress} the server address this connection is opened against\n         */\n        get: function () {\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Connection.prototype, \"version\", {\n        /**\n         * @property {ServerVersion} the version of the server this connection is connected to\n         */\n        get: function () {\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @returns {boolean} whether this connection is in a working condition\n     */\n    Connection.prototype.isOpen = function () {\n        return false;\n    };\n    /**\n     * @todo be removed and internalize the methods\n     * @returns {any} the underlying bolt protocol assigned to this connection\n     */\n    Connection.prototype.protocol = function () {\n        throw Error('Not implemented');\n    };\n    /**\n     * Connect to the target address, negotiate Bolt protocol and send initialization message.\n     * @param {string} userAgent the user agent for this driver.\n     * @param {Object} authToken the object containing auth information.\n     * @return {Promise<Connection>} promise resolved with the current connection if connection is successful. Rejected promise otherwise.\n     */\n    Connection.prototype.connect = function (userAgent, authToken) {\n        throw Error('Not implemented');\n    };\n    /**\n     * Write a message to the network channel.\n     * @param {RequestMessage} message the message to write.\n     * @param {ResultStreamObserver} observer the response observer.\n     * @param {boolean} flush `true` if flush should happen after the message is written to the buffer.\n     */\n    Connection.prototype.write = function (message, observer, flush) {\n        throw Error('Not implemented');\n    };\n    /**\n     * Send a RESET-message to the database. Message is immediately flushed to the network.\n     * @return {Promise<void>} promise resolved when SUCCESS-message response arrives, or failed when other response messages arrives.\n     */\n    Connection.prototype.resetAndFlush = function () {\n        throw Error('Not implemented');\n    };\n    /**\n     * Checks if there is an ongoing request being handled\n     * @return {boolean} `true` if there is an ongoing request being handled\n     */\n    Connection.prototype.hasOngoingObservableRequests = function () {\n        throw Error('Not implemented');\n    };\n    /**\n     * Call close on the channel.\n     * @returns {Promise<void>} - A promise that will be resolved when the connection is closed.\n     *\n     */\n    Connection.prototype.close = function () {\n        throw Error('Not implemented');\n    };\n    /**\n     * Called to release the connection\n     */\n    Connection.prototype._release = function () {\n        return Promise.resolve();\n    };\n    return Connection;\n}());\nexports.default = Connection;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionConfig = exports.WRITE = exports.READ = exports.Driver = void 0;\nvar bookmarks_1 = require(\"./internal/bookmarks\");\nvar configured_custom_resolver_1 = __importDefault(require(\"./internal/resolver/configured-custom-resolver\"));\nvar constants_1 = require(\"./internal/constants\");\nvar logger_1 = require(\"./internal/logger\");\nvar session_1 = __importDefault(require(\"./session\"));\nvar util_1 = require(\"./internal/util\");\nvar DEFAULT_MAX_CONNECTION_LIFETIME = 60 * 60 * 1000; // 1 hour\n/**\n * The default record fetch size. This is used in Bolt V4 protocol to pull query execution result in batches.\n * @type {number}\n */\nvar DEFAULT_FETCH_SIZE = 1000;\n/**\n * Constant that represents read session access mode.\n * Should be used like this: `driver.session({ defaultAccessMode: neo4j.session.READ })`.\n * @type {string}\n */\nvar READ = constants_1.ACCESS_MODE_READ;\nexports.READ = READ;\n/**\n * Constant that represents write session access mode.\n * Should be used like this: `driver.session({ defaultAccessMode: neo4j.session.WRITE })`.\n * @type {string}\n */\nvar WRITE = constants_1.ACCESS_MODE_WRITE;\nexports.WRITE = WRITE;\nvar idGenerator = 0;\n/**\n * The session configuration\n *\n * @interface\n */\nvar SessionConfig = /** @class */ (function () {\n    /**\n     * @constructor\n     * @private\n     */\n    function SessionConfig() {\n        /**\n         * The access mode of this session, allowed values are {@link READ} and {@link WRITE}.\n         * **Default**: {@link WRITE}\n         * @type {string}\n         */\n        this.defaultAccessMode = WRITE;\n        /**\n         * The initial reference or references to some previous\n         * transactions. Value is optional and absence indicates that that the bookmarks do not exist or are unknown.\n         * @type {string|string[]|undefined}\n         */\n        this.bookmarks = [];\n        /**\n         * The database this session will operate on.\n         *\n         * This option has no explicit value by default, but it is recommended to set\n         * one if the target database is known in advance. This has the benefit of\n         * ensuring a consistent target database name throughout the session in a\n         * straightforward way and potentially simplifies driver logic as well as\n         * reduces network communication resulting in better performance.\n         *\n         * Usage of Cypher clauses like USE is not a replacement for this option.\n         * The driver does not parse any Cypher.\n         *\n         * When no explicit name is set, the driver behavior depends on the connection\n         * URI scheme supplied to the driver on instantiation and Bolt protocol\n         * version.\n         *\n         * Specifically, the following applies:\n         *\n         * - **bolt schemes** - queries are dispatched to the server for execution\n         *   without explicit database name supplied, meaning that the target database\n         *   name for query execution is determined by the server. It is important to\n         *   note that the target database may change (even within the same session),\n         *   for instance if the user's home database is changed on the server.\n         *\n         * - **neo4j schemes** - providing that Bolt protocol version 4.4, which was\n         *   introduced with Neo4j server 4.4, or above is available, the driver\n         *   fetches the user's home database name from the server on first query\n         *   execution within the session and uses the fetched database name\n         *   explicitly for all queries executed within the session. This ensures that\n         *   the database name remains consistent within the given session. For\n         *   instance, if the user's home database name is 'movies' and the server\n         *   supplies it to the driver upon database name fetching for the session,\n         *   all queries within that session are executed with the explicit database\n         *   name 'movies' supplied. Any change to the user’s home database is\n         *   reflected only in sessions created after such change takes effect. This\n         *   behavior requires additional network communication. In clustered\n         *   environments, it is strongly recommended to avoid a single point of\n         *   failure. For instance, by ensuring that the connection URI resolves to\n         *   multiple endpoints. For older Bolt protocol versions the behavior is the\n         *   same as described for the **bolt schemes** above.\n         *\n         * @type {string|undefined}\n         */\n        this.database = '';\n        /**\n         * The username which the user wants to impersonate for the duration of the session.\n         *\n         * @type {string|undefined}\n         */\n        this.impersonatedUser = undefined;\n        /**\n         * The record fetch size of each batch of this session.\n         *\n         * Use {@link FETCH_ALL} to always pull all records in one batch. This will override the config value set on driver config.\n         *\n         * @type {number|undefined}\n         */\n        this.fetchSize = undefined;\n        /**\n         * Configure a BookmarkManager for the session to use\n         *\n         * A BookmarkManager is a piece of software responsible for keeping casual consistency between different sessions by sharing bookmarks\n         * between the them.\n         * Enabling it is done by supplying an BookmarkManager implementation instance to this param.\n         * A default implementation could be acquired by calling the factory function {@link bookmarkManager}.\n         *\n         * **Warning**: Sharing the same BookmarkManager instance across multiple sessions can have a negative impact\n         * on performance since all the queries will wait for the latest changes being propagated across the cluster.\n         * For keeping consistency between a group of queries, use {@link Session} for grouping them.\n         * For keeping consistency between a group of sessions, use {@link BookmarkManager} instance for grouping them.\n         *\n         * @example\n         * const bookmarkManager = neo4j.bookmarkManager()\n         * const linkedSession1 = driver.session({ database:'neo4j', bookmarkManager })\n         * const linkedSession2 = driver.session({ database:'neo4j', bookmarkManager })\n         * const unlinkedSession = driver.session({ database:'neo4j' })\n         *\n         * // Creating Driver User\n         * const createUserQueryResult = await linkedSession1.run('CREATE (p:Person {name: $name})', { name: 'Driver User'})\n         *\n         * // Reading Driver User will *NOT* wait of the changes being propagated to the server before RUN the query\n         * // So the 'Driver User' person might not exist in the Result\n         * const unlinkedReadResult = await unlinkedSession.run('CREATE (p:Person {name: $name}) RETURN p', { name: 'Driver User'})\n         *\n         * // Reading Driver User will wait of the changes being propagated to the server before RUN the query\n         * // So the 'Driver User' person should exist in the Result, unless deleted.\n         * const linkedResult = await linkedSession2.run('CREATE (p:Person {name: $name}) RETURN p', { name: 'Driver User'})\n         *\n         * await linkedSession1.close()\n         * await linkedSession2.close()\n         * await unlinkedSession.close()\n         *\n         * @experimental\n         * @type {BookmarkManager|undefined}\n         * @since 5.0\n         */\n        this.bookmarkManager = undefined;\n    }\n    return SessionConfig;\n}());\nexports.SessionConfig = SessionConfig;\n/**\n * A driver maintains one or more {@link Session}s with a remote\n * Neo4j instance. Through the {@link Session}s you can send queries\n * and retrieve results from the database.\n *\n * Drivers are reasonably expensive to create - you should strive to keep one\n * driver instance around per Neo4j Instance you connect to.\n *\n * @access public\n */\nvar Driver = /** @class */ (function () {\n    /**\n     * You should not be calling this directly, instead use {@link driver}.\n     * @constructor\n     * @protected\n     * @param {Object} meta Metainformation about the driver\n     * @param {Object} config\n     * @param {function(id: number, config:Object, log:Logger, hostNameResolver: ConfiguredCustomResolver): ConnectionProvider } createConnectonProvider Creates the connection provider\n     * @param {function(args): Session } createSession Creates the a session\n    */\n    function Driver(meta, config, createConnectonProvider, createSession) {\n        if (config === void 0) { config = {}; }\n        if (createSession === void 0) { createSession = function (args) { return new session_1.default(args); }; }\n        sanitizeConfig(config);\n        var log = logger_1.Logger.create(config);\n        validateConfig(config, log);\n        this._id = idGenerator++;\n        this._meta = meta;\n        this._config = config;\n        this._log = log;\n        this._createConnectionProvider = createConnectonProvider;\n        this._createSession = createSession;\n        /**\n         * Reference to the connection provider. Initialized lazily by {@link _getOrCreateConnectionProvider}.\n         * @type {ConnectionProvider}\n         * @protected\n         */\n        this._connectionProvider = null;\n        this._afterConstruction();\n    }\n    /**\n     * Verifies connectivity of this driver by trying to open a connection with the provided driver options.\n     *\n     * @deprecated This return of this method will change in 6.0.0 to not async return the {@link ServerInfo} and\n     * async return {@link void} instead. If you need to use the server info, use {@link getServerInfo} instead.\n     *\n     * @public\n     * @param {Object} param - The object parameter\n     * @param {string} param.database - The target database to verify connectivity for.\n     * @returns {Promise<ServerInfo>} promise resolved with server info or rejected with error.\n     */\n    Driver.prototype.verifyConnectivity = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.database, database = _c === void 0 ? '' : _c;\n        var connectionProvider = this._getOrCreateConnectionProvider();\n        return connectionProvider.verifyConnectivityAndGetServerInfo({ database: database, accessMode: READ });\n    };\n    /**\n     * Get ServerInfo for the giver database.\n     *\n     * @param {Object} param - The object parameter\n     * @param {string} param.database - The target database to verify connectivity for.\n     * @returns {Promise<void>} promise resolved with void or rejected with error.\n     */\n    Driver.prototype.getServerInfo = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.database, database = _c === void 0 ? '' : _c;\n        var connectionProvider = this._getOrCreateConnectionProvider();\n        return connectionProvider.verifyConnectivityAndGetServerInfo({ database: database, accessMode: READ });\n    };\n    /**\n     * Returns whether the server supports multi database capabilities based on the protocol\n     * version negotiated via handshake.\n     *\n     * Note that this function call _always_ causes a round-trip to the server.\n     *\n     * @returns {Promise<boolean>} promise resolved with a boolean or rejected with error.\n     */\n    Driver.prototype.supportsMultiDb = function () {\n        var connectionProvider = this._getOrCreateConnectionProvider();\n        return connectionProvider.supportsMultiDb();\n    };\n    /**\n     * Returns whether the server supports transaction config capabilities based on the protocol\n     * version negotiated via handshake.\n     *\n     * Note that this function call _always_ causes a round-trip to the server.\n     *\n     * @returns {Promise<boolean>} promise resolved with a boolean or rejected with error.\n     */\n    Driver.prototype.supportsTransactionConfig = function () {\n        var connectionProvider = this._getOrCreateConnectionProvider();\n        return connectionProvider.supportsTransactionConfig();\n    };\n    /**\n     * Returns whether the server supports user impersonation capabilities based on the protocol\n     * version negotiated via handshake.\n     *\n     * Note that this function call _always_ causes a round-trip to the server.\n     *\n     * @returns {Promise<boolean>} promise resolved with a boolean or rejected with error.\n     */\n    Driver.prototype.supportsUserImpersonation = function () {\n        var connectionProvider = this._getOrCreateConnectionProvider();\n        return connectionProvider.supportsUserImpersonation();\n    };\n    /**\n     * Returns the protocol version negotiated via handshake.\n     *\n     * Note that this function call _always_ causes a round-trip to the server.\n     *\n     * @returns {Promise<number>} the protocol version negotiated via handshake.\n     * @throws {Error} When protocol negotiation fails\n     */\n    Driver.prototype.getNegotiatedProtocolVersion = function () {\n        var connectionProvider = this._getOrCreateConnectionProvider();\n        return connectionProvider.getNegotiatedProtocolVersion();\n    };\n    /**\n     * Returns boolean to indicate if driver has been configured with encryption enabled.\n     *\n     * @returns {boolean}\n     */\n    Driver.prototype.isEncrypted = function () {\n        return this._isEncrypted();\n    };\n    /**\n     * @protected\n     * @returns {boolean}\n     */\n    Driver.prototype._supportsRouting = function () {\n        return this._meta.routing;\n    };\n    /**\n     * Returns boolean to indicate if driver has been configured with encryption enabled.\n     *\n     * @protected\n     * @returns {boolean}\n     */\n    Driver.prototype._isEncrypted = function () {\n        return this._config.encrypted === util_1.ENCRYPTION_ON || this._config.encrypted === true;\n    };\n    /**\n     * Returns the configured trust strategy that the driver has been configured with.\n     *\n     * @protected\n     * @returns {TrustStrategy}\n     */\n    Driver.prototype._getTrust = function () {\n        return this._config.trust;\n    };\n    /**\n     * Acquire a session to communicate with the database. The session will\n     * borrow connections from the underlying connection pool as required and\n     * should be considered lightweight and disposable.\n     *\n     * This comes with some responsibility - make sure you always call\n     * {@link close} when you are done using a session, and likewise,\n     * make sure you don't close your session before you are done using it. Once\n     * it is closed, the underlying connection will be released to the connection\n     * pool and made available for others to use.\n     *\n     * @public\n     * @param {SessionConfig} param - The session configuration\n     * @return {Session} new session.\n     */\n    Driver.prototype.session = function (_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.defaultAccessMode, defaultAccessMode = _c === void 0 ? WRITE : _c, bookmarkOrBookmarks = _b.bookmarks, _d = _b.database, database = _d === void 0 ? '' : _d, impersonatedUser = _b.impersonatedUser, fetchSize = _b.fetchSize, bookmarkManager = _b.bookmarkManager;\n        return this._newSession({\n            defaultAccessMode: defaultAccessMode,\n            bookmarkOrBookmarks: bookmarkOrBookmarks,\n            database: database,\n            reactive: false,\n            impersonatedUser: impersonatedUser,\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            fetchSize: validateFetchSizeValue(fetchSize, this._config.fetchSize),\n            bookmarkManager: bookmarkManager\n        });\n    };\n    /**\n     * Close all open sessions and other associated resources. You should\n     * make sure to use this when you are done with this driver instance.\n     * @public\n     * @return {Promise<void>} promise resolved when the driver is closed.\n     */\n    Driver.prototype.close = function () {\n        this._log.info(\"Driver \".concat(this._id, \" closing\"));\n        if (this._connectionProvider != null) {\n            return this._connectionProvider.close();\n        }\n        return Promise.resolve();\n    };\n    /**\n     * @protected\n     */\n    Driver.prototype._afterConstruction = function () {\n        this._log.info(\"\".concat(this._meta.typename, \" driver \").concat(this._id, \" created for server address \").concat(this._meta.address.toString()));\n    };\n    /**\n     * @private\n     */\n    Driver.prototype._newSession = function (_a) {\n        var defaultAccessMode = _a.defaultAccessMode, bookmarkOrBookmarks = _a.bookmarkOrBookmarks, database = _a.database, reactive = _a.reactive, impersonatedUser = _a.impersonatedUser, fetchSize = _a.fetchSize, bookmarkManager = _a.bookmarkManager;\n        var sessionMode = session_1.default._validateSessionMode(defaultAccessMode);\n        var connectionProvider = this._getOrCreateConnectionProvider();\n        var bookmarks = bookmarkOrBookmarks != null\n            ? new bookmarks_1.Bookmarks(bookmarkOrBookmarks)\n            : bookmarks_1.Bookmarks.empty();\n        return this._createSession({\n            mode: sessionMode,\n            database: database !== null && database !== void 0 ? database : '',\n            connectionProvider: connectionProvider,\n            bookmarks: bookmarks,\n            config: this._config,\n            reactive: reactive,\n            impersonatedUser: impersonatedUser,\n            fetchSize: fetchSize,\n            bookmarkManager: bookmarkManager\n        });\n    };\n    /**\n     * @private\n     */\n    Driver.prototype._getOrCreateConnectionProvider = function () {\n        if (this._connectionProvider == null) {\n            this._connectionProvider = this._createConnectionProvider(this._id, this._config, this._log, createHostNameResolver(this._config));\n        }\n        return this._connectionProvider;\n    };\n    return Driver;\n}());\nexports.Driver = Driver;\n/**\n * @private\n * @returns {Object} the given config.\n */\nfunction validateConfig(config, log) {\n    var resolver = config.resolver;\n    if (resolver !== null && resolver !== undefined && typeof resolver !== 'function') {\n        throw new TypeError(\"Configured resolver should be a function. Got: \".concat(typeof resolver));\n    }\n    if (config.connectionAcquisitionTimeout < config.connectionTimeout) {\n        log.warn('Configuration for \"connectionAcquisitionTimeout\" should be greater than ' +\n            'or equal to \"connectionTimeout\". Otherwise, the connection acquisition ' +\n            'timeout will take precedence for over the connection timeout in scenarios ' +\n            'where a new connection is created while it is acquired');\n    }\n    return config;\n}\n/**\n * @private\n */\nfunction sanitizeConfig(config) {\n    config.maxConnectionLifetime = sanitizeIntValue(config.maxConnectionLifetime, DEFAULT_MAX_CONNECTION_LIFETIME);\n    config.maxConnectionPoolSize = sanitizeIntValue(config.maxConnectionPoolSize, constants_1.DEFAULT_POOL_MAX_SIZE);\n    config.connectionAcquisitionTimeout = sanitizeIntValue(config.connectionAcquisitionTimeout, constants_1.DEFAULT_POOL_ACQUISITION_TIMEOUT);\n    config.fetchSize = validateFetchSizeValue(config.fetchSize, DEFAULT_FETCH_SIZE);\n    config.connectionTimeout = extractConnectionTimeout(config);\n}\n/**\n * @private\n */\nfunction sanitizeIntValue(rawValue, defaultWhenAbsent) {\n    var sanitizedValue = parseInt(rawValue, 10);\n    if (sanitizedValue > 0 || sanitizedValue === 0) {\n        return sanitizedValue;\n    }\n    else if (sanitizedValue < 0) {\n        return Number.MAX_SAFE_INTEGER;\n    }\n    else {\n        return defaultWhenAbsent;\n    }\n}\n/**\n * @private\n */\nfunction validateFetchSizeValue(rawValue, defaultWhenAbsent) {\n    var fetchSize = parseInt(rawValue, 10);\n    if (fetchSize > 0 || fetchSize === constants_1.FETCH_ALL) {\n        return fetchSize;\n    }\n    else if (fetchSize === 0 || fetchSize < 0) {\n        throw new Error(\"The fetch size can only be a positive value or \".concat(constants_1.FETCH_ALL, \" for ALL. However fetchSize = \").concat(fetchSize));\n    }\n    else {\n        return defaultWhenAbsent;\n    }\n}\n/**\n * @private\n */\nfunction extractConnectionTimeout(config) {\n    var configuredTimeout = parseInt(config.connectionTimeout, 10);\n    if (configuredTimeout === 0) {\n        // timeout explicitly configured to 0\n        return null;\n    }\n    else if (!isNaN(configuredTimeout) && configuredTimeout < 0) {\n        // timeout explicitly configured to a negative value\n        return null;\n    }\n    else if (isNaN(configuredTimeout)) {\n        // timeout not configured, use default value\n        return constants_1.DEFAULT_CONNECTION_TIMEOUT_MILLIS;\n    }\n    else {\n        // timeout configured, use the provided value\n        return configuredTimeout;\n    }\n}\n/**\n * @private\n * @returns {ConfiguredCustomResolver} new custom resolver that wraps the passed-in resolver function.\n *              If resolved function is not specified, it defaults to an identity resolver.\n */\nfunction createHostNameResolver(config) {\n    return new configured_custom_resolver_1.default(config.resolver);\n}\nexports.default = Driver;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PROTOCOL_ERROR = exports.SESSION_EXPIRED = exports.SERVICE_UNAVAILABLE = exports.Neo4jError = exports.isRetriableError = exports.newError = void 0;\n// A common place for constructing error objects, to keep them\n// uniform across the driver surface.\n/**\n * Error code representing complete loss of service. Used by {@link Neo4jError#code}.\n * @type {string}\n */\nvar SERVICE_UNAVAILABLE = 'ServiceUnavailable';\nexports.SERVICE_UNAVAILABLE = SERVICE_UNAVAILABLE;\n/**\n * Error code representing transient loss of service. Used by {@link Neo4jError#code}.\n * @type {string}\n */\nvar SESSION_EXPIRED = 'SessionExpired';\nexports.SESSION_EXPIRED = SESSION_EXPIRED;\n/**\n * Error code representing serialization/deserialization issue in the Bolt protocol. Used by {@link Neo4jError#code}.\n * @type {string}\n */\nvar PROTOCOL_ERROR = 'ProtocolError';\nexports.PROTOCOL_ERROR = PROTOCOL_ERROR;\n/**\n * Error code representing an no classified error. Used by {@link Neo4jError#code}.\n * @type {string}\n */\nvar NOT_AVAILABLE = 'N/A';\n/// TODO: Remove definitions of this.constructor and this.__proto__\n/**\n * Class for all errors thrown/returned by the driver.\n */\nvar Neo4jError = /** @class */ (function (_super) {\n    __extends(Neo4jError, _super);\n    /**\n     * @constructor\n     * @param {string} message - the error message\n     * @param {string} code - Optional error code. Will be populated when error originates in the database.\n     */\n    function Neo4jError(message, code, cause) {\n        var _this = \n        // eslint-disable-next-line\n        // @ts-ignore: not available in ES6 yet\n        _super.call(this, message, cause != null ? { cause: cause } : undefined) || this;\n        _this.constructor = Neo4jError;\n        // eslint-disable-next-line no-proto\n        _this.__proto__ = Neo4jError.prototype;\n        _this.code = code;\n        _this.name = 'Neo4jError';\n        /**\n         * Indicates if the error is retriable.\n         * @type {boolean} - true if the error is retriable\n         */\n        _this.retriable = _isRetriableCode(code);\n        return _this;\n    }\n    /**\n     * Verifies if the given error is retriable.\n     *\n     * @param {object|undefined|null} error the error object\n     * @returns {boolean} true if the error is retriable\n     */\n    Neo4jError.isRetriable = function (error) {\n        return error !== null &&\n            error !== undefined &&\n            error instanceof Neo4jError &&\n            error.retriable;\n    };\n    return Neo4jError;\n}(Error));\nexports.Neo4jError = Neo4jError;\n/**\n * Create a new error from a message and error code\n * @param message the error message\n * @param code the error code\n * @return {Neo4jError} an {@link Neo4jError}\n * @private\n */\nfunction newError(message, code, cause) {\n    return new Neo4jError(message, code !== null && code !== void 0 ? code : NOT_AVAILABLE, cause);\n}\nexports.newError = newError;\n/**\n * Verifies if the given error is retriable.\n *\n * @public\n * @param {object|undefined|null} error the error object\n * @returns {boolean} true if the error is retriable\n */\nvar isRetriableError = Neo4jError.isRetriable;\nexports.isRetriableError = isRetriableError;\n/**\n * @private\n * @param {string} code the error code\n * @returns {boolean} true if the error is a retriable error\n */\nfunction _isRetriableCode(code) {\n    return code === SERVICE_UNAVAILABLE ||\n        code === SESSION_EXPIRED ||\n        _isAuthorizationExpired(code) ||\n        _isTransientError(code);\n}\n/**\n * @private\n * @param {string} code the error to check\n * @return {boolean} true if the error is a transient error\n */\nfunction _isTransientError(code) {\n    return (code === null || code === void 0 ? void 0 : code.includes('TransientError')) === true;\n}\n/**\n * @private\n * @param {string} code the error to check\n * @returns {boolean} true if the error is a service unavailable error\n */\nfunction _isAuthorizationExpired(code) {\n    return code === 'Neo.ClientError.Security.AuthorizationExpired';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPathSegment = exports.PathSegment = exports.isPath = exports.Path = exports.isUnboundRelationship = exports.UnboundRelationship = exports.isRelationship = exports.Relationship = exports.isNode = exports.Node = void 0;\nvar json_1 = require(\"./json\");\nvar IDENTIFIER_PROPERTY_ATTRIBUTES = {\n    value: true,\n    enumerable: false,\n    configurable: false,\n    writable: false\n};\nvar NODE_IDENTIFIER_PROPERTY = '__isNode__';\nvar RELATIONSHIP_IDENTIFIER_PROPERTY = '__isRelationship__';\nvar UNBOUND_RELATIONSHIP_IDENTIFIER_PROPERTY = '__isUnboundRelationship__';\nvar PATH_IDENTIFIER_PROPERTY = '__isPath__';\nvar PATH_SEGMENT_IDENTIFIER_PROPERTY = '__isPathSegment__';\nfunction hasIdentifierProperty(obj, property) {\n    return obj != null && obj[property] === true;\n}\n/**\n * Class for Node Type.\n */\nvar Node = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {NumberOrInteger} identity - Unique identity\n     * @param {Array<string>} labels - Array for all labels\n     * @param {Properties} properties - Map with node properties\n     * @param {string} elementId - Node element identifier\n     */\n    function Node(identity, labels, properties, elementId) {\n        /**\n         * Identity of the node.\n         * @type {NumberOrInteger}\n         * @deprecated use {@link Node#elementId} instead\n         */\n        this.identity = identity;\n        /**\n         * Labels of the node.\n         * @type {string[]}\n         */\n        this.labels = labels;\n        /**\n         * Properties of the node.\n         * @type {Properties}\n         */\n        this.properties = properties;\n        /**\n         * The Node element identifier.\n         * @type {string}\n         */\n        this.elementId = _valueOrGetDefault(elementId, function () { return identity.toString(); });\n    }\n    /**\n     * @ignore\n     */\n    Node.prototype.toString = function () {\n        var s = '(' + this.elementId;\n        for (var i = 0; i < this.labels.length; i++) {\n            s += ':' + this.labels[i];\n        }\n        var keys = Object.keys(this.properties);\n        if (keys.length > 0) {\n            s += ' {';\n            for (var i = 0; i < keys.length; i++) {\n                if (i > 0)\n                    s += ',';\n                s += keys[i] + ':' + (0, json_1.stringify)(this.properties[keys[i]]);\n            }\n            s += '}';\n        }\n        s += ')';\n        return s;\n    };\n    return Node;\n}());\nexports.Node = Node;\nObject.defineProperty(Node.prototype, NODE_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link Node} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link Node}, `false` otherwise.\n */\nfunction isNode(obj) {\n    return hasIdentifierProperty(obj, NODE_IDENTIFIER_PROPERTY);\n}\nexports.isNode = isNode;\n/**\n * Class for Relationship Type.\n */\nvar Relationship = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {NumberOrInteger} identity - Unique identity\n     * @param {NumberOrInteger} start - Identity of start Node\n     * @param {NumberOrInteger} end - Identity of end Node\n     * @param {string} type - Relationship type\n     * @param {Properties} properties - Map with relationship properties\n     * @param {string} elementId - Relationship element identifier\n     * @param {string} startNodeElementId - Start Node element identifier\n     * @param {string} endNodeElementId - End Node element identifier\n     */\n    function Relationship(identity, start, end, type, properties, elementId, startNodeElementId, endNodeElementId) {\n        /**\n         * Identity of the relationship.\n         * @type {NumberOrInteger}\n         * @deprecated use {@link Relationship#elementId} instead\n         */\n        this.identity = identity;\n        /**\n         * Identity of the start node.\n         * @type {NumberOrInteger}\n         * @deprecated use {@link Relationship#startNodeElementId} instead\n         */\n        this.start = start;\n        /**\n         * Identity of the end node.\n         * @type {NumberOrInteger}\n         * @deprecated use {@link Relationship#endNodeElementId} instead\n         */\n        this.end = end;\n        /**\n         * Type of the relationship.\n         * @type {string}\n         */\n        this.type = type;\n        /**\n         * Properties of the relationship.\n         * @type {Properties}\n         */\n        this.properties = properties;\n        /**\n         * The Relationship element identifier.\n         * @type {string}\n         */\n        this.elementId = _valueOrGetDefault(elementId, function () { return identity.toString(); });\n        /**\n         * The Start Node element identifier.\n         * @type {string}\n         */\n        this.startNodeElementId = _valueOrGetDefault(startNodeElementId, function () { return start.toString(); });\n        /**\n         * The End Node element identifier.\n         * @type {string}\n         */\n        this.endNodeElementId = _valueOrGetDefault(endNodeElementId, function () { return end.toString(); });\n    }\n    /**\n     * @ignore\n     */\n    Relationship.prototype.toString = function () {\n        var s = '(' + this.startNodeElementId + ')-[:' + this.type;\n        var keys = Object.keys(this.properties);\n        if (keys.length > 0) {\n            s += ' {';\n            for (var i = 0; i < keys.length; i++) {\n                if (i > 0)\n                    s += ',';\n                s += keys[i] + ':' + (0, json_1.stringify)(this.properties[keys[i]]);\n            }\n            s += '}';\n        }\n        s += ']->(' + this.endNodeElementId + ')';\n        return s;\n    };\n    return Relationship;\n}());\nexports.Relationship = Relationship;\nObject.defineProperty(Relationship.prototype, RELATIONSHIP_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link Relationship} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link Relationship}, `false` otherwise.\n */\nfunction isRelationship(obj) {\n    return hasIdentifierProperty(obj, RELATIONSHIP_IDENTIFIER_PROPERTY);\n}\nexports.isRelationship = isRelationship;\n/**\n * Class for UnboundRelationship Type.\n * @access private\n */\nvar UnboundRelationship = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {NumberOrInteger} identity - Unique identity\n     * @param {string} type - Relationship type\n     * @param {Properties} properties - Map with relationship properties\n     * @param {string} elementId - Relationship element identifier\n     */\n    function UnboundRelationship(identity, type, properties, elementId) {\n        /**\n         * Identity of the relationship.\n         * @type {NumberOrInteger}\n         * @deprecated use {@link UnboundRelationship#elementId} instead\n         */\n        this.identity = identity;\n        /**\n         * Type of the relationship.\n         * @type {string}\n         */\n        this.type = type;\n        /**\n         * Properties of the relationship.\n         * @type {Properties}\n         */\n        this.properties = properties;\n        /**\n         * The Relationship element identifier.\n         * @type {string}\n         */\n        this.elementId = _valueOrGetDefault(elementId, function () { return identity.toString(); });\n    }\n    /**\n     * Bind relationship\n     *\n     * @protected\n     * @deprecated use {@link UnboundRelationship#bindTo} instead\n     * @param {Integer} start - Identity of start node\n     * @param {Integer} end - Identity of end node\n     * @return {Relationship} - Created relationship\n     */\n    UnboundRelationship.prototype.bind = function (start, end) {\n        return new Relationship(this.identity, start, end, this.type, this.properties, this.elementId);\n    };\n    /**\n     * Bind relationship\n     *\n     * @protected\n     * @param {Node} start - Start Node\n     * @param {Node} end - End Node\n     * @return {Relationship} - Created relationship\n     */\n    UnboundRelationship.prototype.bindTo = function (start, end) {\n        return new Relationship(this.identity, start.identity, end.identity, this.type, this.properties, this.elementId, start.elementId, end.elementId);\n    };\n    /**\n     * @ignore\n     */\n    UnboundRelationship.prototype.toString = function () {\n        var s = '-[:' + this.type;\n        var keys = Object.keys(this.properties);\n        if (keys.length > 0) {\n            s += ' {';\n            for (var i = 0; i < keys.length; i++) {\n                if (i > 0)\n                    s += ',';\n                s += keys[i] + ':' + (0, json_1.stringify)(this.properties[keys[i]]);\n            }\n            s += '}';\n        }\n        s += ']->';\n        return s;\n    };\n    return UnboundRelationship;\n}());\nexports.UnboundRelationship = UnboundRelationship;\nObject.defineProperty(UnboundRelationship.prototype, UNBOUND_RELATIONSHIP_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link UnboundRelationship} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link UnboundRelationship}, `false` otherwise.\n */\nfunction isUnboundRelationship(obj) {\n    return hasIdentifierProperty(obj, UNBOUND_RELATIONSHIP_IDENTIFIER_PROPERTY);\n}\nexports.isUnboundRelationship = isUnboundRelationship;\n/**\n * Class for PathSegment Type.\n */\nvar PathSegment = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {Node} start - start node\n     * @param {Relationship} rel - relationship that connects start and end node\n     * @param {Node} end - end node\n     */\n    function PathSegment(start, rel, end) {\n        /**\n         * Start node.\n         * @type {Node}\n         */\n        this.start = start;\n        /**\n         * Relationship.\n         * @type {Relationship}\n         */\n        this.relationship = rel;\n        /**\n         * End node.\n         * @type {Node}\n         */\n        this.end = end;\n    }\n    return PathSegment;\n}());\nexports.PathSegment = PathSegment;\nObject.defineProperty(PathSegment.prototype, PATH_SEGMENT_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link PathSegment} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link PathSegment}, `false` otherwise.\n */\nfunction isPathSegment(obj) {\n    return hasIdentifierProperty(obj, PATH_SEGMENT_IDENTIFIER_PROPERTY);\n}\nexports.isPathSegment = isPathSegment;\n/**\n * Class for Path Type.\n */\nvar Path = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {Node} start  - start node\n     * @param {Node} end - end node\n     * @param {Array<PathSegment>} segments - Array of Segments\n     */\n    function Path(start, end, segments) {\n        /**\n         * Start node.\n         * @type {Node}\n         */\n        this.start = start;\n        /**\n         * End node.\n         * @type {Node}\n         */\n        this.end = end;\n        /**\n         * Segments.\n         * @type {Array<PathSegment>}\n         */\n        this.segments = segments;\n        /**\n         * Length of the segments.\n         * @type {Number}\n         */\n        this.length = segments.length;\n    }\n    return Path;\n}());\nexports.Path = Path;\nObject.defineProperty(Path.prototype, PATH_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link Path} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link Path}, `false` otherwise.\n */\nfunction isPath(obj) {\n    return hasIdentifierProperty(obj, PATH_IDENTIFIER_PROPERTY);\n}\nexports.isPath = isPath;\nfunction _valueOrGetDefault(value, getDefault) {\n    return value === undefined || value === null ? getDefault() : value;\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransactionPromise = exports.ManagedTransaction = exports.Transaction = exports.Connection = exports.ConnectionProvider = exports.Result = exports.Stats = exports.QueryStatistics = exports.ProfiledPlan = exports.Plan = exports.Notification = exports.ServerInfo = exports.queryType = exports.ResultSummary = exports.Record = exports.isPathSegment = exports.PathSegment = exports.isPath = exports.Path = exports.isUnboundRelationship = exports.UnboundRelationship = exports.isRelationship = exports.Relationship = exports.isNode = exports.Node = exports.Time = exports.LocalTime = exports.LocalDateTime = exports.isTime = exports.isLocalTime = exports.isLocalDateTime = exports.isDuration = exports.isDateTime = exports.isDate = exports.Duration = exports.DateTime = exports.Date = exports.Point = exports.isPoint = exports.internal = exports.toString = exports.toNumber = exports.inSafeRange = exports.isInt = exports.int = exports.Integer = exports.error = exports.isRetriableError = exports.Neo4jError = exports.newError = void 0;\nexports.bookmarkManager = exports.auth = exports.json = exports.driver = exports.types = exports.Driver = exports.Session = void 0;\nvar error_1 = require(\"./error\");\nObject.defineProperty(exports, \"newError\", { enumerable: true, get: function () { return error_1.newError; } });\nObject.defineProperty(exports, \"Neo4jError\", { enumerable: true, get: function () { return error_1.Neo4jError; } });\nObject.defineProperty(exports, \"isRetriableError\", { enumerable: true, get: function () { return error_1.isRetriableError; } });\nvar integer_1 = __importStar(require(\"./integer\"));\nexports.Integer = integer_1.default;\nObject.defineProperty(exports, \"int\", { enumerable: true, get: function () { return integer_1.int; } });\nObject.defineProperty(exports, \"isInt\", { enumerable: true, get: function () { return integer_1.isInt; } });\nObject.defineProperty(exports, \"inSafeRange\", { enumerable: true, get: function () { return integer_1.inSafeRange; } });\nObject.defineProperty(exports, \"toNumber\", { enumerable: true, get: function () { return integer_1.toNumber; } });\nObject.defineProperty(exports, \"toString\", { enumerable: true, get: function () { return integer_1.toString; } });\nvar temporal_types_1 = require(\"./temporal-types\");\nObject.defineProperty(exports, \"Date\", { enumerable: true, get: function () { return temporal_types_1.Date; } });\nObject.defineProperty(exports, \"DateTime\", { enumerable: true, get: function () { return temporal_types_1.DateTime; } });\nObject.defineProperty(exports, \"Duration\", { enumerable: true, get: function () { return temporal_types_1.Duration; } });\nObject.defineProperty(exports, \"isDate\", { enumerable: true, get: function () { return temporal_types_1.isDate; } });\nObject.defineProperty(exports, \"isDateTime\", { enumerable: true, get: function () { return temporal_types_1.isDateTime; } });\nObject.defineProperty(exports, \"isDuration\", { enumerable: true, get: function () { return temporal_types_1.isDuration; } });\nObject.defineProperty(exports, \"isLocalDateTime\", { enumerable: true, get: function () { return temporal_types_1.isLocalDateTime; } });\nObject.defineProperty(exports, \"isLocalTime\", { enumerable: true, get: function () { return temporal_types_1.isLocalTime; } });\nObject.defineProperty(exports, \"isTime\", { enumerable: true, get: function () { return temporal_types_1.isTime; } });\nObject.defineProperty(exports, \"LocalDateTime\", { enumerable: true, get: function () { return temporal_types_1.LocalDateTime; } });\nObject.defineProperty(exports, \"LocalTime\", { enumerable: true, get: function () { return temporal_types_1.LocalTime; } });\nObject.defineProperty(exports, \"Time\", { enumerable: true, get: function () { return temporal_types_1.Time; } });\nvar graph_types_1 = require(\"./graph-types\");\nObject.defineProperty(exports, \"Node\", { enumerable: true, get: function () { return graph_types_1.Node; } });\nObject.defineProperty(exports, \"isNode\", { enumerable: true, get: function () { return graph_types_1.isNode; } });\nObject.defineProperty(exports, \"Relationship\", { enumerable: true, get: function () { return graph_types_1.Relationship; } });\nObject.defineProperty(exports, \"isRelationship\", { enumerable: true, get: function () { return graph_types_1.isRelationship; } });\nObject.defineProperty(exports, \"UnboundRelationship\", { enumerable: true, get: function () { return graph_types_1.UnboundRelationship; } });\nObject.defineProperty(exports, \"isUnboundRelationship\", { enumerable: true, get: function () { return graph_types_1.isUnboundRelationship; } });\nObject.defineProperty(exports, \"Path\", { enumerable: true, get: function () { return graph_types_1.Path; } });\nObject.defineProperty(exports, \"isPath\", { enumerable: true, get: function () { return graph_types_1.isPath; } });\nObject.defineProperty(exports, \"PathSegment\", { enumerable: true, get: function () { return graph_types_1.PathSegment; } });\nObject.defineProperty(exports, \"isPathSegment\", { enumerable: true, get: function () { return graph_types_1.isPathSegment; } });\nvar record_1 = __importDefault(require(\"./record\"));\nexports.Record = record_1.default;\nvar spatial_types_1 = require(\"./spatial-types\");\nObject.defineProperty(exports, \"isPoint\", { enumerable: true, get: function () { return spatial_types_1.isPoint; } });\nObject.defineProperty(exports, \"Point\", { enumerable: true, get: function () { return spatial_types_1.Point; } });\nvar result_summary_1 = __importStar(require(\"./result-summary\"));\nexports.ResultSummary = result_summary_1.default;\nObject.defineProperty(exports, \"queryType\", { enumerable: true, get: function () { return result_summary_1.queryType; } });\nObject.defineProperty(exports, \"ServerInfo\", { enumerable: true, get: function () { return result_summary_1.ServerInfo; } });\nObject.defineProperty(exports, \"Notification\", { enumerable: true, get: function () { return result_summary_1.Notification; } });\nObject.defineProperty(exports, \"Plan\", { enumerable: true, get: function () { return result_summary_1.Plan; } });\nObject.defineProperty(exports, \"ProfiledPlan\", { enumerable: true, get: function () { return result_summary_1.ProfiledPlan; } });\nObject.defineProperty(exports, \"QueryStatistics\", { enumerable: true, get: function () { return result_summary_1.QueryStatistics; } });\nObject.defineProperty(exports, \"Stats\", { enumerable: true, get: function () { return result_summary_1.Stats; } });\nvar result_1 = __importDefault(require(\"./result\"));\nexports.Result = result_1.default;\nvar connection_provider_1 = __importDefault(require(\"./connection-provider\"));\nexports.ConnectionProvider = connection_provider_1.default;\nvar connection_1 = __importDefault(require(\"./connection\"));\nexports.Connection = connection_1.default;\nvar transaction_1 = __importDefault(require(\"./transaction\"));\nexports.Transaction = transaction_1.default;\nvar transaction_managed_1 = __importDefault(require(\"./transaction-managed\"));\nexports.ManagedTransaction = transaction_managed_1.default;\nvar transaction_promise_1 = __importDefault(require(\"./transaction-promise\"));\nexports.TransactionPromise = transaction_promise_1.default;\nvar session_1 = __importDefault(require(\"./session\"));\nexports.Session = session_1.default;\nvar driver_1 = __importStar(require(\"./driver\")), driver = driver_1;\nexports.Driver = driver_1.default;\nexports.driver = driver;\nvar auth_1 = __importDefault(require(\"./auth\"));\nexports.auth = auth_1.default;\nvar bookmark_manager_1 = __importStar(require(\"./bookmark-manager\"));\nObject.defineProperty(exports, \"bookmarkManager\", { enumerable: true, get: function () { return bookmark_manager_1.bookmarkManager; } });\nvar driver_2 = require(\"./driver\");\nvar types = __importStar(require(\"./types\"));\nexports.types = types;\nvar json = __importStar(require(\"./json\"));\nexports.json = json;\nvar internal = __importStar(require(\"./internal\")); // todo: removed afterwards\nexports.internal = internal;\n/**\n * Object containing string constants representing predefined {@link Neo4jError} codes.\n */\nvar error = {\n    SERVICE_UNAVAILABLE: error_1.SERVICE_UNAVAILABLE,\n    SESSION_EXPIRED: error_1.SESSION_EXPIRED,\n    PROTOCOL_ERROR: error_1.PROTOCOL_ERROR\n};\nexports.error = error;\n/**\n * @private\n */\nvar forExport = {\n    newError: error_1.newError,\n    Neo4jError: error_1.Neo4jError,\n    isRetriableError: error_1.isRetriableError,\n    error: error,\n    Integer: integer_1.default,\n    int: integer_1.int,\n    isInt: integer_1.isInt,\n    inSafeRange: integer_1.inSafeRange,\n    toNumber: integer_1.toNumber,\n    toString: integer_1.toString,\n    internal: internal,\n    isPoint: spatial_types_1.isPoint,\n    Point: spatial_types_1.Point,\n    Date: temporal_types_1.Date,\n    DateTime: temporal_types_1.DateTime,\n    Duration: temporal_types_1.Duration,\n    isDate: temporal_types_1.isDate,\n    isDateTime: temporal_types_1.isDateTime,\n    isDuration: temporal_types_1.isDuration,\n    isLocalDateTime: temporal_types_1.isLocalDateTime,\n    isLocalTime: temporal_types_1.isLocalTime,\n    isTime: temporal_types_1.isTime,\n    LocalDateTime: temporal_types_1.LocalDateTime,\n    LocalTime: temporal_types_1.LocalTime,\n    Time: temporal_types_1.Time,\n    Node: graph_types_1.Node,\n    isNode: graph_types_1.isNode,\n    Relationship: graph_types_1.Relationship,\n    isRelationship: graph_types_1.isRelationship,\n    UnboundRelationship: graph_types_1.UnboundRelationship,\n    isUnboundRelationship: graph_types_1.isUnboundRelationship,\n    Path: graph_types_1.Path,\n    isPath: graph_types_1.isPath,\n    PathSegment: graph_types_1.PathSegment,\n    isPathSegment: graph_types_1.isPathSegment,\n    Record: record_1.default,\n    ResultSummary: result_summary_1.default,\n    queryType: result_summary_1.queryType,\n    ServerInfo: result_summary_1.ServerInfo,\n    Notification: result_summary_1.Notification,\n    Plan: result_summary_1.Plan,\n    ProfiledPlan: result_summary_1.ProfiledPlan,\n    QueryStatistics: result_summary_1.QueryStatistics,\n    Stats: result_summary_1.Stats,\n    Result: result_1.default,\n    Transaction: transaction_1.default,\n    ManagedTransaction: transaction_managed_1.default,\n    TransactionPromise: transaction_promise_1.default,\n    Session: session_1.default,\n    Driver: driver_1.default,\n    Connection: connection_1.default,\n    types: types,\n    driver: driver,\n    json: json,\n    auth: auth_1.default,\n    bookmarkManager: bookmark_manager_1.bookmarkManager\n};\nexports.default = forExport;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toString = exports.toNumber = exports.inSafeRange = exports.isInt = exports.int = void 0;\n// 64-bit Integer library, originally from Long.js by dcodeIO\n// https://github.com/dcodeIO/Long.js\n// License Apache 2\nvar error_1 = require(\"./error\");\n/**\n * A cache of the Integer representations of small integer values.\n * @type {!Object}\n * @inner\n * @private\n */\n// eslint-disable-next-line no-use-before-define\nvar INT_CACHE = new Map();\n/**\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\n * See exported functions for more convenient ways of operating integers.\n * Use `int()` function to create new integers, `isInt()` to check if given object is integer,\n * `inSafeRange()` to check if it is safe to convert given value to native number,\n * `toNumber()` and `toString()` to convert given integer to number or string respectively.\n * @access public\n * @exports Integer\n * @class A Integer class for representing a 64 bit two's-complement integer value.\n * @param {number} low The low (signed) 32 bits of the long\n * @param {number} high The high (signed) 32 bits of the long\n *\n * @constructor\n */\nvar Integer = /** @class */ (function () {\n    function Integer(low, high) {\n        /**\n         * The low 32 bits as a signed value.\n         * @type {number}\n         * @expose\n         */\n        this.low = low !== null && low !== void 0 ? low : 0;\n        /**\n         * The high 32 bits as a signed value.\n         * @type {number}\n         * @expose\n         */\n        this.high = high !== null && high !== void 0 ? high : 0;\n    }\n    // The internal representation of an Integer is the two given signed, 32-bit values.\n    // We use 32-bit pieces because these are the size of integers on which\n    // JavaScript performs bit-operations.  For operations like addition and\n    // multiplication, we split each number into 16 bit pieces, which can easily be\n    // multiplied within JavaScript's floating-point representation without overflow\n    // or change in sign.\n    //\n    // In the algorithms below, we frequently reduce the negative case to the\n    // positive case by negating the input(s) and then post-processing the result.\n    // Note that we must ALWAYS check specially whether those values are MIN_VALUE\n    // (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n    // a positive number, it overflows back into a negative).  Not handling this\n    // case would often result in infinite recursion.\n    //\n    // Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\n    // methods on which they depend.\n    Integer.prototype.inSafeRange = function () {\n        return (this.greaterThanOrEqual(Integer.MIN_SAFE_VALUE) &&\n            this.lessThanOrEqual(Integer.MAX_SAFE_VALUE));\n    };\n    /**\n     * Converts the Integer to an exact javascript Number, assuming it is a 32 bit integer.\n     * @returns {number}\n     * @expose\n     */\n    Integer.prototype.toInt = function () {\n        return this.low;\n    };\n    /**\n     * Converts the Integer to a the nearest floating-point representation of this value (double, 53 bit mantissa).\n     * @returns {number}\n     * @expose\n     */\n    Integer.prototype.toNumber = function () {\n        return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\n    };\n    /**\n     * Converts the Integer to a BigInt representation of this value\n     * @returns {bigint}\n     * @expose\n     */\n    Integer.prototype.toBigInt = function () {\n        if (this.isZero()) {\n            return BigInt(0);\n        }\n        else if (this.isPositive()) {\n            return (BigInt(this.high >>> 0) * BigInt(TWO_PWR_32_DBL) +\n                BigInt(this.low >>> 0));\n        }\n        else {\n            var negate = this.negate();\n            return (BigInt(-1) *\n                (BigInt(negate.high >>> 0) * BigInt(TWO_PWR_32_DBL) +\n                    BigInt(negate.low >>> 0)));\n        }\n    };\n    /**\n     * Converts the Integer to native number or -Infinity/+Infinity when it does not fit.\n     * @return {number}\n     * @package\n     */\n    Integer.prototype.toNumberOrInfinity = function () {\n        if (this.lessThan(Integer.MIN_SAFE_VALUE)) {\n            return Number.NEGATIVE_INFINITY;\n        }\n        else if (this.greaterThan(Integer.MAX_SAFE_VALUE)) {\n            return Number.POSITIVE_INFINITY;\n        }\n        else {\n            return this.toNumber();\n        }\n    };\n    /**\n     * Converts the Integer to a string written in the specified radix.\n     * @param {number=} radix Radix (2-36), defaults to 10\n     * @returns {string}\n     * @override\n     * @throws {RangeError} If `radix` is out of range\n     * @expose\n     */\n    Integer.prototype.toString = function (radix) {\n        radix = radix !== null && radix !== void 0 ? radix : 10;\n        if (radix < 2 || radix > 36) {\n            throw RangeError('radix out of range: ' + radix.toString());\n        }\n        if (this.isZero()) {\n            return '0';\n        }\n        var rem;\n        if (this.isNegative()) {\n            if (this.equals(Integer.MIN_VALUE)) {\n                // We need to change the Integer value before it can be negated, so we remove\n                // the bottom-most digit in this base and then recurse to do the rest.\n                var radixInteger = Integer.fromNumber(radix);\n                var div = this.div(radixInteger);\n                rem = div.multiply(radixInteger).subtract(this);\n                return div.toString(radix) + rem.toInt().toString(radix);\n            }\n            else {\n                return '-' + this.negate().toString(radix);\n            }\n        }\n        // Do several (6) digits each time through the loop, so as to\n        // minimize the calls to the very expensive emulated div.\n        var radixToPower = Integer.fromNumber(Math.pow(radix, 6));\n        rem = this;\n        var result = '';\n        while (true) {\n            var remDiv = rem.div(radixToPower);\n            var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt() >>> 0;\n            var digits = intval.toString(radix);\n            rem = remDiv;\n            if (rem.isZero()) {\n                return digits + result;\n            }\n            else {\n                while (digits.length < 6) {\n                    digits = '0' + digits;\n                }\n                result = '' + digits + result;\n            }\n        }\n    };\n    /**\n     * Gets the high 32 bits as a signed integer.\n     * @returns {number} Signed high bits\n     * @expose\n     */\n    Integer.prototype.getHighBits = function () {\n        return this.high;\n    };\n    /**\n     * Gets the low 32 bits as a signed integer.\n     * @returns {number} Signed low bits\n     * @expose\n     */\n    Integer.prototype.getLowBits = function () {\n        return this.low;\n    };\n    /**\n     * Gets the number of bits needed to represent the absolute value of this Integer.\n     * @returns {number}\n     * @expose\n     */\n    Integer.prototype.getNumBitsAbs = function () {\n        if (this.isNegative()) {\n            return this.equals(Integer.MIN_VALUE) ? 64 : this.negate().getNumBitsAbs();\n        }\n        var val = this.high !== 0 ? this.high : this.low;\n        var bit = 0;\n        for (bit = 31; bit > 0; bit--) {\n            if ((val & (1 << bit)) !== 0) {\n                break;\n            }\n        }\n        return this.high !== 0 ? bit + 33 : bit + 1;\n    };\n    /**\n     * Tests if this Integer's value equals zero.\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.isZero = function () {\n        return this.high === 0 && this.low === 0;\n    };\n    /**\n     * Tests if this Integer's value is negative.\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.isNegative = function () {\n        return this.high < 0;\n    };\n    /**\n     * Tests if this Integer's value is positive.\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.isPositive = function () {\n        return this.high >= 0;\n    };\n    /**\n     * Tests if this Integer's value is odd.\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.isOdd = function () {\n        return (this.low & 1) === 1;\n    };\n    /**\n     * Tests if this Integer's value is even.\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.isEven = function () {\n        return (this.low & 1) === 0;\n    };\n    /**\n     * Tests if this Integer's value equals the specified's.\n     * @param {!Integer|number|string} other Other value\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.equals = function (other) {\n        var theOther = Integer.fromValue(other);\n        return this.high === theOther.high && this.low === theOther.low;\n    };\n    /**\n     * Tests if this Integer's value differs from the specified's.\n     * @param {!Integer|number|string} other Other value\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.notEquals = function (other) {\n        return !this.equals(/* validates */ other);\n    };\n    /**\n     * Tests if this Integer's value is less than the specified's.\n     * @param {!Integer|number|string} other Other value\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.lessThan = function (other) {\n        return this.compare(/* validates */ other) < 0;\n    };\n    /**\n     * Tests if this Integer's value is less than or equal the specified's.\n     * @param {!Integer|number|string} other Other value\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.lessThanOrEqual = function (other) {\n        return this.compare(/* validates */ other) <= 0;\n    };\n    /**\n     * Tests if this Integer's value is greater than the specified's.\n     * @param {!Integer|number|string} other Other value\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.greaterThan = function (other) {\n        return this.compare(/* validates */ other) > 0;\n    };\n    /**\n     * Tests if this Integer's value is greater than or equal the specified's.\n     * @param {!Integer|number|string} other Other value\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.prototype.greaterThanOrEqual = function (other) {\n        return this.compare(/* validates */ other) >= 0;\n    };\n    /**\n     * Compares this Integer's value with the specified's.\n     * @param {!Integer|number|string} other Other value\n     * @returns {number} 0 if they are the same, 1 if the this is greater and -1\n     *  if the given one is greater\n     * @expose\n     */\n    Integer.prototype.compare = function (other) {\n        var theOther = Integer.fromValue(other);\n        if (this.equals(theOther)) {\n            return 0;\n        }\n        var thisNeg = this.isNegative();\n        var otherNeg = theOther.isNegative();\n        if (thisNeg && !otherNeg) {\n            return -1;\n        }\n        if (!thisNeg && otherNeg) {\n            return 1;\n        }\n        // At this point the sign bits are the same\n        return this.subtract(theOther).isNegative() ? -1 : 1;\n    };\n    /**\n     * Negates this Integer's value.\n     * @returns {!Integer} Negated Integer\n     * @expose\n     */\n    Integer.prototype.negate = function () {\n        if (this.equals(Integer.MIN_VALUE)) {\n            return Integer.MIN_VALUE;\n        }\n        return this.not().add(Integer.ONE);\n    };\n    /**\n     * Returns the sum of this and the specified Integer.\n     * @param {!Integer|number|string} addend Addend\n     * @returns {!Integer} Sum\n     * @expose\n     */\n    Integer.prototype.add = function (addend) {\n        var theAddend = Integer.fromValue(addend);\n        // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n        var a48 = this.high >>> 16;\n        var a32 = this.high & 0xffff;\n        var a16 = this.low >>> 16;\n        var a00 = this.low & 0xffff;\n        var b48 = theAddend.high >>> 16;\n        var b32 = theAddend.high & 0xffff;\n        var b16 = theAddend.low >>> 16;\n        var b00 = theAddend.low & 0xffff;\n        var c48 = 0;\n        var c32 = 0;\n        var c16 = 0;\n        var c00 = 0;\n        c00 += a00 + b00;\n        c16 += c00 >>> 16;\n        c00 &= 0xffff;\n        c16 += a16 + b16;\n        c32 += c16 >>> 16;\n        c16 &= 0xffff;\n        c32 += a32 + b32;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c48 += a48 + b48;\n        c48 &= 0xffff;\n        return Integer.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n    };\n    /**\n     * Returns the difference of this and the specified Integer.\n     * @param {!Integer|number|string} subtrahend Subtrahend\n     * @returns {!Integer} Difference\n     * @expose\n     */\n    Integer.prototype.subtract = function (subtrahend) {\n        var theSubtrahend = Integer.fromValue(subtrahend);\n        return this.add(theSubtrahend.negate());\n    };\n    /**\n     * Returns the product of this and the specified Integer.\n     * @param {!Integer|number|string} multiplier Multiplier\n     * @returns {!Integer} Product\n     * @expose\n     */\n    Integer.prototype.multiply = function (multiplier) {\n        if (this.isZero()) {\n            return Integer.ZERO;\n        }\n        var theMultiplier = Integer.fromValue(multiplier);\n        if (theMultiplier.isZero()) {\n            return Integer.ZERO;\n        }\n        if (this.equals(Integer.MIN_VALUE)) {\n            return theMultiplier.isOdd() ? Integer.MIN_VALUE : Integer.ZERO;\n        }\n        if (theMultiplier.equals(Integer.MIN_VALUE)) {\n            return this.isOdd() ? Integer.MIN_VALUE : Integer.ZERO;\n        }\n        if (this.isNegative()) {\n            if (theMultiplier.isNegative()) {\n                return this.negate().multiply(theMultiplier.negate());\n            }\n            else {\n                return this.negate()\n                    .multiply(theMultiplier)\n                    .negate();\n            }\n        }\n        else if (theMultiplier.isNegative()) {\n            return this.multiply(theMultiplier.negate()).negate();\n        }\n        // If both longs are small, use float multiplication\n        if (this.lessThan(TWO_PWR_24) && theMultiplier.lessThan(TWO_PWR_24)) {\n            return Integer.fromNumber(this.toNumber() * theMultiplier.toNumber());\n        }\n        // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\n        // We can skip products that would overflow.\n        var a48 = this.high >>> 16;\n        var a32 = this.high & 0xffff;\n        var a16 = this.low >>> 16;\n        var a00 = this.low & 0xffff;\n        var b48 = theMultiplier.high >>> 16;\n        var b32 = theMultiplier.high & 0xffff;\n        var b16 = theMultiplier.low >>> 16;\n        var b00 = theMultiplier.low & 0xffff;\n        var c48 = 0;\n        var c32 = 0;\n        var c16 = 0;\n        var c00 = 0;\n        c00 += a00 * b00;\n        c16 += c00 >>> 16;\n        c00 &= 0xffff;\n        c16 += a16 * b00;\n        c32 += c16 >>> 16;\n        c16 &= 0xffff;\n        c16 += a00 * b16;\n        c32 += c16 >>> 16;\n        c16 &= 0xffff;\n        c32 += a32 * b00;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c32 += a16 * b16;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c32 += a00 * b32;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n        c48 &= 0xffff;\n        return Integer.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n    };\n    /**\n     * Returns this Integer divided by the specified.\n     * @param {!Integer|number|string} divisor Divisor\n     * @returns {!Integer} Quotient\n     * @expose\n     */\n    Integer.prototype.div = function (divisor) {\n        var theDivisor = Integer.fromValue(divisor);\n        if (theDivisor.isZero()) {\n            throw (0, error_1.newError)('division by zero');\n        }\n        if (this.isZero()) {\n            return Integer.ZERO;\n        }\n        var approx, rem, res;\n        if (this.equals(Integer.MIN_VALUE)) {\n            if (theDivisor.equals(Integer.ONE) ||\n                theDivisor.equals(Integer.NEG_ONE)) {\n                return Integer.MIN_VALUE;\n            }\n            if (theDivisor.equals(Integer.MIN_VALUE)) {\n                return Integer.ONE;\n            }\n            else {\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n                var halfThis = this.shiftRight(1);\n                approx = halfThis.div(theDivisor).shiftLeft(1);\n                if (approx.equals(Integer.ZERO)) {\n                    return theDivisor.isNegative() ? Integer.ONE : Integer.NEG_ONE;\n                }\n                else {\n                    rem = this.subtract(theDivisor.multiply(approx));\n                    res = approx.add(rem.div(theDivisor));\n                    return res;\n                }\n            }\n        }\n        else if (theDivisor.equals(Integer.MIN_VALUE)) {\n            return Integer.ZERO;\n        }\n        if (this.isNegative()) {\n            if (theDivisor.isNegative()) {\n                return this.negate().div(theDivisor.negate());\n            }\n            return this.negate()\n                .div(theDivisor)\n                .negate();\n        }\n        else if (theDivisor.isNegative()) {\n            return this.div(theDivisor.negate()).negate();\n        }\n        // Repeat the following until the remainder is less than other:  find a\n        // floating-point that approximates remainder / other *from below*, add this\n        // into the result, and subtract it from the remainder.  It is critical that\n        // the approximate value is less than or equal to the real value so that the\n        // remainder never becomes negative.\n        res = Integer.ZERO;\n        rem = this;\n        while (rem.greaterThanOrEqual(theDivisor)) {\n            // Approximate the result of division. This may be a little greater or\n            // smaller than the actual value.\n            approx = Math.max(1, Math.floor(rem.toNumber() / theDivisor.toNumber()));\n            // We will tweak the approximate result by changing it in the 48-th digit or\n            // the smallest non-fractional digit, whichever is larger.\n            var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n            var delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);\n            // Decrease the approximation until it is smaller than the remainder.  Note\n            // that if it is too large, the product overflows and is negative.\n            var approxRes = Integer.fromNumber(approx);\n            var approxRem = approxRes.multiply(theDivisor);\n            while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n                approx -= delta;\n                approxRes = Integer.fromNumber(approx);\n                approxRem = approxRes.multiply(theDivisor);\n            }\n            // We know the answer can't be zero... and actually, zero would cause\n            // infinite recursion since we would make no progress.\n            if (approxRes.isZero()) {\n                approxRes = Integer.ONE;\n            }\n            res = res.add(approxRes);\n            rem = rem.subtract(approxRem);\n        }\n        return res;\n    };\n    /**\n     * Returns this Integer modulo the specified.\n     * @param {!Integer|number|string} divisor Divisor\n     * @returns {!Integer} Remainder\n     * @expose\n     */\n    Integer.prototype.modulo = function (divisor) {\n        var theDivisor = Integer.fromValue(divisor);\n        return this.subtract(this.div(theDivisor).multiply(theDivisor));\n    };\n    /**\n     * Returns the bitwise NOT of this Integer.\n     * @returns {!Integer}\n     * @expose\n     */\n    Integer.prototype.not = function () {\n        return Integer.fromBits(~this.low, ~this.high);\n    };\n    /**\n     * Returns the bitwise AND of this Integer and the specified.\n     * @param {!Integer|number|string} other Other Integer\n     * @returns {!Integer}\n     * @expose\n     */\n    Integer.prototype.and = function (other) {\n        var theOther = Integer.fromValue(other);\n        return Integer.fromBits(this.low & theOther.low, this.high & theOther.high);\n    };\n    /**\n     * Returns the bitwise OR of this Integer and the specified.\n     * @param {!Integer|number|string} other Other Integer\n     * @returns {!Integer}\n     * @expose\n     */\n    Integer.prototype.or = function (other) {\n        var theOther = Integer.fromValue(other);\n        return Integer.fromBits(this.low | theOther.low, this.high | theOther.high);\n    };\n    /**\n     * Returns the bitwise XOR of this Integer and the given one.\n     * @param {!Integer|number|string} other Other Integer\n     * @returns {!Integer}\n     * @expose\n     */\n    Integer.prototype.xor = function (other) {\n        var theOther = Integer.fromValue(other);\n        return Integer.fromBits(this.low ^ theOther.low, this.high ^ theOther.high);\n    };\n    /**\n     * Returns this Integer with bits shifted to the left by the given amount.\n     * @param {number|!Integer} numBits Number of bits\n     * @returns {!Integer} Shifted Integer\n     * @expose\n     */\n    Integer.prototype.shiftLeft = function (numBits) {\n        var bitsCount = Integer.toNumber(numBits);\n        if ((bitsCount &= 63) === 0) {\n            return Integer.ZERO;\n        }\n        else if (bitsCount < 32) {\n            return Integer.fromBits(this.low << bitsCount, (this.high << bitsCount) | (this.low >>> (32 - bitsCount)));\n        }\n        else {\n            return Integer.fromBits(0, this.low << (bitsCount - 32));\n        }\n    };\n    /**\n     * Returns this Integer with bits arithmetically shifted to the right by the given amount.\n     * @param {number|!Integer} numBits Number of bits\n     * @returns {!Integer} Shifted Integer\n     * @expose\n     */\n    Integer.prototype.shiftRight = function (numBits) {\n        var bitsCount = Integer.toNumber(numBits);\n        if ((bitsCount &= 63) === 0) {\n            return Integer.ZERO;\n        }\n        else if (numBits < 32) {\n            return Integer.fromBits((this.low >>> bitsCount) | (this.high << (32 - bitsCount)), this.high >> bitsCount);\n        }\n        else {\n            return Integer.fromBits(this.high >> (bitsCount - 32), this.high >= 0 ? 0 : -1);\n        }\n    };\n    /**\n     * Tests if the specified object is a Integer.\n     * @access private\n     * @param {*} obj Object\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.isInteger = function (obj) {\n        return (obj === null || obj === void 0 ? void 0 : obj.__isInteger__) === true;\n    };\n    /**\n     * Returns a Integer representing the given 32 bit integer value.\n     * @access private\n     * @param {number} value The 32 bit integer in question\n     * @returns {!Integer} The corresponding Integer value\n     * @expose\n     */\n    Integer.fromInt = function (value) {\n        var cachedObj;\n        value = value | 0;\n        if (value >= -128 && value < 128) {\n            cachedObj = INT_CACHE.get(value);\n            if (cachedObj != null) {\n                return cachedObj;\n            }\n        }\n        var obj = new Integer(value, value < 0 ? -1 : 0);\n        if (value >= -128 && value < 128) {\n            INT_CACHE.set(value, obj);\n        }\n        return obj;\n    };\n    /**\n     * Returns a Integer representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\n     *  assumed to use 32 bits.\n     * @access private\n     * @param {number} lowBits The low 32 bits\n     * @param {number} highBits The high 32 bits\n     * @returns {!Integer} The corresponding Integer value\n     * @expose\n     */\n    Integer.fromBits = function (lowBits, highBits) {\n        return new Integer(lowBits, highBits);\n    };\n    /**\n     * Returns a Integer representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n     * @access private\n     * @param {number} value The number in question\n     * @returns {!Integer} The corresponding Integer value\n     * @expose\n     */\n    Integer.fromNumber = function (value) {\n        if (isNaN(value) || !isFinite(value)) {\n            return Integer.ZERO;\n        }\n        if (value <= -TWO_PWR_63_DBL) {\n            return Integer.MIN_VALUE;\n        }\n        if (value + 1 >= TWO_PWR_63_DBL) {\n            return Integer.MAX_VALUE;\n        }\n        if (value < 0) {\n            return Integer.fromNumber(-value).negate();\n        }\n        return new Integer(value % TWO_PWR_32_DBL | 0, (value / TWO_PWR_32_DBL) | 0);\n    };\n    /**\n     * Returns a Integer representation of the given string, written using the specified radix.\n     * @access private\n     * @param {string} str The textual representation of the Integer\n     * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\n     * @param {Object} [opts={}] Configuration options\n     * @param {boolean} [opts.strictStringValidation=false] Enable strict validation generated Integer.\n     * @returns {!Integer} The corresponding Integer value\n     * @expose\n     */\n    Integer.fromString = function (str, radix, _a) {\n        var _b = _a === void 0 ? {} : _a, strictStringValidation = _b.strictStringValidation;\n        if (str.length === 0) {\n            throw (0, error_1.newError)('number format error: empty string');\n        }\n        if (str === 'NaN' ||\n            str === 'Infinity' ||\n            str === '+Infinity' ||\n            str === '-Infinity') {\n            return Integer.ZERO;\n        }\n        radix = radix !== null && radix !== void 0 ? radix : 10;\n        if (radix < 2 || radix > 36) {\n            throw (0, error_1.newError)('radix out of range: ' + radix.toString());\n        }\n        var p;\n        if ((p = str.indexOf('-')) > 0) {\n            throw (0, error_1.newError)('number format error: interior \"-\" character: ' + str);\n        }\n        else if (p === 0) {\n            return Integer.fromString(str.substring(1), radix).negate();\n        }\n        // Do several (8) digits each time through the loop, so as to\n        // minimize the calls to the very expensive emulated div.\n        var radixToPower = Integer.fromNumber(Math.pow(radix, 8));\n        var result = Integer.ZERO;\n        for (var i = 0; i < str.length; i += 8) {\n            var size = Math.min(8, str.length - i);\n            var valueString = str.substring(i, i + size);\n            var value = parseInt(valueString, radix);\n            if (strictStringValidation === true && !_isValidNumberFromString(valueString, value, radix)) {\n                throw (0, error_1.newError)(\"number format error: \\\"\".concat(valueString, \"\\\" is NaN in radix \").concat(radix, \": \").concat(str));\n            }\n            if (size < 8) {\n                var power = Integer.fromNumber(Math.pow(radix, size));\n                result = result.multiply(power).add(Integer.fromNumber(value));\n            }\n            else {\n                result = result.multiply(radixToPower);\n                result = result.add(Integer.fromNumber(value));\n            }\n        }\n        return result;\n    };\n    /**\n     * Converts the specified value to a Integer.\n     * @access private\n     * @param {!Integer|number|string|bigint|!{low: number, high: number}} val Value\n     * @param {Object} [opts={}] Configuration options\n     * @param {boolean} [opts.strictStringValidation=false] Enable strict validation generated Integer.\n     * @returns {!Integer}\n     * @expose\n     */\n    Integer.fromValue = function (val, opts) {\n        if (opts === void 0) { opts = {}; }\n        if (val /* is compatible */ instanceof Integer) {\n            return val;\n        }\n        if (typeof val === 'number') {\n            return Integer.fromNumber(val);\n        }\n        if (typeof val === 'string') {\n            return Integer.fromString(val, undefined, opts);\n        }\n        if (typeof val === 'bigint') {\n            return Integer.fromString(val.toString());\n        }\n        // Throws for non-objects, converts non-instanceof Integer:\n        return new Integer(val.low, val.high);\n    };\n    /**\n     * Converts the specified value to a number.\n     * @access private\n     * @param {!Integer|number|string|!{low: number, high: number}} val Value\n     * @returns {number}\n     * @expose\n     */\n    Integer.toNumber = function (val) {\n        switch (typeof val) {\n            case 'number':\n                return val;\n            case 'bigint':\n                return Number(val);\n            default:\n                return Integer.fromValue(val).toNumber();\n        }\n    };\n    /**\n     * Converts the specified value to a string.\n     * @access private\n     * @param {!Integer|number|string|!{low: number, high: number}} val Value\n     * @param {number} radix optional radix for string conversion, defaults to 10\n     * @returns {string}\n     * @expose\n     */\n    Integer.toString = function (val, radix) {\n        return Integer.fromValue(val).toString(radix);\n    };\n    /**\n     * Checks if the given value is in the safe range in order to be converted to a native number\n     * @access private\n     * @param {!Integer|number|string|!{low: number, high: number}} val Value\n     * @param {number} radix optional radix for string conversion, defaults to 10\n     * @returns {boolean}\n     * @expose\n     */\n    Integer.inSafeRange = function (val) {\n        return Integer.fromValue(val).inSafeRange();\n    };\n    /**\n     * Signed zero.\n     * @type {!Integer}\n     * @expose\n     */\n    Integer.ZERO = Integer.fromInt(0);\n    /**\n     * Signed one.\n     * @type {!Integer}\n     * @expose\n     */\n    Integer.ONE = Integer.fromInt(1);\n    /**\n     * Signed negative one.\n     * @type {!Integer}\n     * @expose\n     */\n    Integer.NEG_ONE = Integer.fromInt(-1);\n    /**\n     * Maximum signed value.\n     * @type {!Integer}\n     * @expose\n     */\n    Integer.MAX_VALUE = Integer.fromBits(0xffffffff | 0, 0x7fffffff | 0);\n    /**\n     * Minimum signed value.\n     * @type {!Integer}\n     * @expose\n     */\n    Integer.MIN_VALUE = Integer.fromBits(0, 0x80000000 | 0);\n    /**\n     * Minimum safe value.\n     * @type {!Integer}\n     * @expose\n     */\n    Integer.MIN_SAFE_VALUE = Integer.fromBits(0x1 | 0, 0xffffffffffe00000 | 0);\n    /**\n     * Maximum safe value.\n     * @type {!Integer}\n     * @expose\n     */\n    Integer.MAX_SAFE_VALUE = Integer.fromBits(0xffffffff | 0, 0x1fffff | 0);\n    /**\n     * An indicator used to reliably determine if an object is a Integer or not.\n     * @type {boolean}\n     * @const\n     * @expose\n     * @private\n     */\n    Integer.__isInteger__ = true;\n    return Integer;\n}());\n/**\n * @private\n * @param num\n * @param radix\n * @param minSize\n * @returns {string}\n */\nfunction _convertNumberToString(num, radix, minSize) {\n    var theNumberString = num.toString(radix);\n    var paddingLength = Math.max(minSize - theNumberString.length, 0);\n    var padding = '0'.repeat(paddingLength);\n    return \"\".concat(padding).concat(theNumberString);\n}\n/**\n *\n * @private\n * @param theString\n * @param theNumber\n * @param radix\n * @return {boolean} True if valid\n */\nfunction _isValidNumberFromString(theString, theNumber, radix) {\n    return !Number.isNaN(theString) &&\n        !Number.isNaN(theNumber) &&\n        _convertNumberToString(theNumber, radix, theString.length) === theString.toLowerCase();\n}\nObject.defineProperty(Integer.prototype, '__isInteger__', {\n    value: true,\n    enumerable: false,\n    configurable: false\n});\n/**\n * @type {number}\n * @const\n * @inner\n * @private\n */\nvar TWO_PWR_16_DBL = 1 << 16;\n/**\n * @type {number}\n * @const\n * @inner\n * @private\n */\nvar TWO_PWR_24_DBL = 1 << 24;\n/**\n * @type {number}\n * @const\n * @inner\n * @private\n */\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\n/**\n * @type {number}\n * @const\n * @inner\n * @private\n */\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\n/**\n * @type {number}\n * @const\n * @inner\n * @private\n */\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\n/**\n * @type {!Integer}\n * @const\n * @inner\n * @private\n */\nvar TWO_PWR_24 = Integer.fromInt(TWO_PWR_24_DBL);\n/**\n * Cast value to Integer type.\n * @access public\n * @param {Mixed} value - The value to use.\n * @param {Object} [opts={}] Configuration options\n * @param {boolean} [opts.strictStringValidation=false] Enable strict validation generated Integer.\n * @return {Integer} - An object of type Integer.\n */\nvar int = Integer.fromValue;\nexports.int = int;\n/**\n * Check if a variable is of Integer type.\n * @access public\n * @param {Mixed} value - The variable to check.\n * @return {Boolean} - Is it of the Integer type?\n */\nvar isInt = Integer.isInteger;\nexports.isInt = isInt;\n/**\n * Check if a variable can be safely converted to a number\n * @access public\n * @param {Mixed} value - The variable to check\n * @return {Boolean} - true if it is safe to call toNumber on variable otherwise false\n */\nvar inSafeRange = Integer.inSafeRange;\nexports.inSafeRange = inSafeRange;\n/**\n * Converts a variable to a number\n * @access public\n * @param {Mixed} value - The variable to convert\n * @return {number} - the variable as a number\n */\nvar toNumber = Integer.toNumber;\nexports.toNumber = toNumber;\n/**\n * Converts the integer to a string representation\n * @access public\n * @param {Mixed} value - The variable to convert\n * @param {number} radix - radix to use in string conversion, defaults to 10\n * @return {string} - returns a string representation of the integer\n */\nvar toString = Integer.toString;\nexports.toString = toString;\nexports.default = Integer;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Bookmarks = void 0;\nvar util = __importStar(require(\"./util\"));\nvar BOOKMARKS_KEY = 'bookmarks';\nvar Bookmarks = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {string|string[]} values single bookmark as string or multiple bookmarks as a string array.\n     */\n    function Bookmarks(values) {\n        this._values = asStringArray(values);\n    }\n    Bookmarks.empty = function () {\n        return EMPTY_BOOKMARK;\n    };\n    /**\n     * Check if the given Bookmarks holder is meaningful and can be send to the database.\n     * @return {boolean} returns `true` bookmarks has a value, `false` otherwise.\n     */\n    Bookmarks.prototype.isEmpty = function () {\n        return this._values.length === 0;\n    };\n    /**\n     * Get all bookmarks values as an array.\n     * @return {string[]} all values.\n     */\n    Bookmarks.prototype.values = function () {\n        return this._values;\n    };\n    Bookmarks.prototype[Symbol.iterator] = function () {\n        return this._values[Symbol.iterator]();\n    };\n    /**\n     * Get these bookmarks as an object for begin transaction call.\n     * @return {Object} the value of this bookmarks holder as object.\n     */\n    Bookmarks.prototype.asBeginTransactionParameters = function () {\n        var _a;\n        if (this.isEmpty()) {\n            return {};\n        }\n        // Driver sends {bookmarks: \"max\", bookmarks: [\"one\", \"two\", \"max\"]} instead of simple\n        // {bookmarks: [\"one\", \"two\", \"max\"]} for backwards compatibility reasons. Old servers can only accept single\n        // bookmarks that is why driver has to parse and compare given list of bookmarks. This functionality will\n        // eventually be removed.\n        return _a = {},\n            _a[BOOKMARKS_KEY] = this._values,\n            _a;\n    };\n    return Bookmarks;\n}());\nexports.Bookmarks = Bookmarks;\nvar EMPTY_BOOKMARK = new Bookmarks(null);\n/**\n * Converts given value to an array.\n * @param {string|string[]|Array} [value=undefined] argument to convert.\n * @return {string[]} value converted to an array.\n */\nfunction asStringArray(value) {\n    if (value == null || value === '') {\n        return [];\n    }\n    if (util.isString(value)) {\n        return [value];\n    }\n    if (Array.isArray(value)) {\n        var result = new Set();\n        var flattenedValue = flattenArray(value);\n        for (var i = 0; i < flattenedValue.length; i++) {\n            var element = flattenedValue[i];\n            // if it is undefined or null, ignore it\n            if (element !== undefined && element !== null) {\n                if (!util.isString(element)) {\n                    throw new TypeError(\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                    \"Bookmark value should be a string, given: '\".concat(element, \"'\"));\n                }\n                result.add(element);\n            }\n        }\n        return __spreadArray([], __read(result), false);\n    }\n    throw new TypeError(\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    \"Bookmarks should either be a string or a string array, given: '\".concat(value, \"'\"));\n}\n/**\n * Recursively flattens an array so that the result becomes a single array\n * of values, which does not include any sub-arrays\n *\n * @param {Array} value\n */\nfunction flattenArray(values) {\n    return values.reduce(function (dest, value) {\n        return Array.isArray(value)\n            ? dest.concat(flattenArray(value))\n            : dest.concat(value);\n    }, []);\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/promise-function-async */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EMPTY_CONNECTION_HOLDER = exports.ReadOnlyConnectionHolder = exports.ConnectionHolder = void 0;\nvar error_1 = require(\"../error\");\nvar util_1 = require(\"./util\");\nvar constants_1 = require(\"./constants\");\nvar bookmarks_1 = require(\"./bookmarks\");\n/**\n * Utility to lazily initialize connections and return them back to the pool when unused.\n * @private\n */\nvar ConnectionHolder = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {object} params\n     * @property {string} params.mode - the access mode for new connection holder.\n     * @property {string} params.database - the target database name.\n     * @property {Bookmarks} params.bookmarks - initial bookmarks\n     * @property {ConnectionProvider} params.connectionProvider - the connection provider to acquire connections from.\n     * @property {string?} params.impersonatedUser - the user which will be impersonated\n     * @property {function(databaseName:string)} params.onDatabaseNameResolved - callback called when the database name is resolved\n     * @property {function():Promise<Bookmarks>} params.getConnectionAcquistionBookmarks - called for getting Bookmarks for acquiring connections\n     */\n    function ConnectionHolder(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.mode, mode = _c === void 0 ? constants_1.ACCESS_MODE_WRITE : _c, _d = _b.database, database = _d === void 0 ? '' : _d, bookmarks = _b.bookmarks, connectionProvider = _b.connectionProvider, impersonatedUser = _b.impersonatedUser, onDatabaseNameResolved = _b.onDatabaseNameResolved, getConnectionAcquistionBookmarks = _b.getConnectionAcquistionBookmarks;\n        this._mode = mode;\n        this._database = database != null ? (0, util_1.assertString)(database, 'database') : '';\n        this._bookmarks = bookmarks !== null && bookmarks !== void 0 ? bookmarks : bookmarks_1.Bookmarks.empty();\n        this._connectionProvider = connectionProvider;\n        this._impersonatedUser = impersonatedUser;\n        this._referenceCount = 0;\n        this._connectionPromise = Promise.resolve(null);\n        this._onDatabaseNameResolved = onDatabaseNameResolved;\n        this._getConnectionAcquistionBookmarks = getConnectionAcquistionBookmarks !== null && getConnectionAcquistionBookmarks !== void 0 ? getConnectionAcquistionBookmarks : (function () { return Promise.resolve(bookmarks_1.Bookmarks.empty()); });\n    }\n    ConnectionHolder.prototype.mode = function () {\n        return this._mode;\n    };\n    ConnectionHolder.prototype.database = function () {\n        return this._database;\n    };\n    ConnectionHolder.prototype.setDatabase = function (database) {\n        this._database = database;\n    };\n    ConnectionHolder.prototype.bookmarks = function () {\n        return this._bookmarks;\n    };\n    ConnectionHolder.prototype.connectionProvider = function () {\n        return this._connectionProvider;\n    };\n    ConnectionHolder.prototype.referenceCount = function () {\n        return this._referenceCount;\n    };\n    ConnectionHolder.prototype.initializeConnection = function () {\n        if (this._referenceCount === 0 && (this._connectionProvider != null)) {\n            this._connectionPromise = this._createConnectionPromise(this._connectionProvider);\n        }\n        else {\n            this._referenceCount++;\n            return false;\n        }\n        this._referenceCount++;\n        return true;\n    };\n    ConnectionHolder.prototype._createConnectionPromise = function (connectionProvider) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b;\n            var _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _b = (_a = connectionProvider).acquireConnection;\n                        _c = {\n                            accessMode: this._mode,\n                            database: this._database\n                        };\n                        return [4 /*yield*/, this._getBookmarks()];\n                    case 1: return [4 /*yield*/, _b.apply(_a, [(_c.bookmarks = _d.sent(),\n                                _c.impersonatedUser = this._impersonatedUser,\n                                _c.onDatabaseNameResolved = this._onDatabaseNameResolved,\n                                _c)])];\n                    case 2: return [2 /*return*/, _d.sent()];\n                }\n            });\n        });\n    };\n    ConnectionHolder.prototype._getBookmarks = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getConnectionAcquistionBookmarks()];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    ConnectionHolder.prototype.getConnection = function () {\n        return this._connectionPromise;\n    };\n    ConnectionHolder.prototype.releaseConnection = function () {\n        if (this._referenceCount === 0) {\n            return this._connectionPromise;\n        }\n        this._referenceCount--;\n        if (this._referenceCount === 0) {\n            return this._releaseConnection();\n        }\n        return this._connectionPromise;\n    };\n    ConnectionHolder.prototype.close = function (hasTx) {\n        if (this._referenceCount === 0) {\n            return this._connectionPromise;\n        }\n        this._referenceCount = 0;\n        return this._releaseConnection(hasTx);\n    };\n    /**\n     * Return the current pooled connection instance to the connection pool.\n     * We don't pool Session instances, to avoid users using the Session after they've called close.\n     * The `Session` object is just a thin wrapper around Connection anyway, so it makes little difference.\n     * @return {Promise} - promise resolved then connection is returned to the pool.\n     * @private\n     */\n    ConnectionHolder.prototype._releaseConnection = function (hasTx) {\n        this._connectionPromise = this._connectionPromise\n            .then(function (connection) {\n            if (connection != null) {\n                if (connection.isOpen() && (connection.hasOngoingObservableRequests() || hasTx === true)) {\n                    return connection\n                        .resetAndFlush()\n                        .catch(ignoreError)\n                        .then(function () { return connection._release().then(function () { return null; }); });\n                }\n                return connection._release().then(function () { return null; });\n            }\n            else {\n                return Promise.resolve(null);\n            }\n        })\n            .catch(ignoreError);\n        return this._connectionPromise;\n    };\n    return ConnectionHolder;\n}());\nexports.ConnectionHolder = ConnectionHolder;\n/**\n * Provides a interaction with a ConnectionHolder without change it state by\n * releasing or initilizing\n */\nvar ReadOnlyConnectionHolder = /** @class */ (function (_super) {\n    __extends(ReadOnlyConnectionHolder, _super);\n    /**\n     * Contructor\n     * @param {ConnectionHolder} connectionHolder the connection holder which will treat the requests\n     */\n    function ReadOnlyConnectionHolder(connectionHolder) {\n        var _this = _super.call(this, {\n            mode: connectionHolder.mode(),\n            database: connectionHolder.database(),\n            bookmarks: connectionHolder.bookmarks(),\n            // @ts-expect-error\n            getConnectionAcquistionBookmarks: connectionHolder._getConnectionAcquistionBookmarks,\n            connectionProvider: connectionHolder.connectionProvider()\n        }) || this;\n        _this._connectionHolder = connectionHolder;\n        return _this;\n    }\n    /**\n     * Return the true if the connection is suppose to be initilized with the command.\n     *\n     * @return {boolean}\n     */\n    ReadOnlyConnectionHolder.prototype.initializeConnection = function () {\n        if (this._connectionHolder.referenceCount() === 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Get the current connection promise.\n     * @return {Promise<Connection>} promise resolved with the current connection.\n     */\n    ReadOnlyConnectionHolder.prototype.getConnection = function () {\n        return this._connectionHolder.getConnection();\n    };\n    /**\n     * Get the current connection promise, doesn't performs the release\n     * @return {Promise<Connection>} promise with the resolved current connection\n     */\n    ReadOnlyConnectionHolder.prototype.releaseConnection = function () {\n        return this._connectionHolder.getConnection().catch(function () { return Promise.resolve(null); });\n    };\n    /**\n     * Get the current connection promise, doesn't performs the connection close\n     * @return {Promise<Connection>} promise with the resolved current connection\n     */\n    ReadOnlyConnectionHolder.prototype.close = function () {\n        return this._connectionHolder.getConnection().catch(function () { return Promise.resolve(null); });\n    };\n    return ReadOnlyConnectionHolder;\n}(ConnectionHolder));\nexports.ReadOnlyConnectionHolder = ReadOnlyConnectionHolder;\nexports.default = ReadOnlyConnectionHolder;\nvar EmptyConnectionHolder = /** @class */ (function (_super) {\n    __extends(EmptyConnectionHolder, _super);\n    function EmptyConnectionHolder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmptyConnectionHolder.prototype.mode = function () {\n        return undefined;\n    };\n    EmptyConnectionHolder.prototype.database = function () {\n        return undefined;\n    };\n    EmptyConnectionHolder.prototype.initializeConnection = function () {\n        // nothing to initialize\n        return true;\n    };\n    EmptyConnectionHolder.prototype.getConnection = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Promise.reject((0, error_1.newError)('This connection holder does not serve connections'))];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    EmptyConnectionHolder.prototype.releaseConnection = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Promise.resolve(null)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    EmptyConnectionHolder.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Promise.resolve(null)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    return EmptyConnectionHolder;\n}(ConnectionHolder));\n/**\n * Connection holder that does not manage any connections.\n * @type {ConnectionHolder}\n * @private\n */\nvar EMPTY_CONNECTION_HOLDER = new EmptyConnectionHolder();\nexports.EMPTY_CONNECTION_HOLDER = EMPTY_CONNECTION_HOLDER;\n// eslint-disable-next-line node/handle-callback-err\nfunction ignoreError(error) {\n    return null;\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BOLT_PROTOCOL_V5_0 = exports.BOLT_PROTOCOL_V4_4 = exports.BOLT_PROTOCOL_V4_3 = exports.BOLT_PROTOCOL_V4_2 = exports.BOLT_PROTOCOL_V4_1 = exports.BOLT_PROTOCOL_V4_0 = exports.BOLT_PROTOCOL_V3 = exports.BOLT_PROTOCOL_V2 = exports.BOLT_PROTOCOL_V1 = exports.DEFAULT_POOL_MAX_SIZE = exports.DEFAULT_POOL_ACQUISITION_TIMEOUT = exports.DEFAULT_CONNECTION_TIMEOUT_MILLIS = exports.ACCESS_MODE_WRITE = exports.ACCESS_MODE_READ = exports.FETCH_ALL = void 0;\nvar FETCH_ALL = -1;\nexports.FETCH_ALL = FETCH_ALL;\nvar DEFAULT_POOL_ACQUISITION_TIMEOUT = 60 * 1000; // 60 seconds\nexports.DEFAULT_POOL_ACQUISITION_TIMEOUT = DEFAULT_POOL_ACQUISITION_TIMEOUT;\nvar DEFAULT_POOL_MAX_SIZE = 100;\nexports.DEFAULT_POOL_MAX_SIZE = DEFAULT_POOL_MAX_SIZE;\nvar DEFAULT_CONNECTION_TIMEOUT_MILLIS = 30000; // 30 seconds by default\nexports.DEFAULT_CONNECTION_TIMEOUT_MILLIS = DEFAULT_CONNECTION_TIMEOUT_MILLIS;\nvar ACCESS_MODE_READ = 'READ';\nexports.ACCESS_MODE_READ = ACCESS_MODE_READ;\nvar ACCESS_MODE_WRITE = 'WRITE';\nexports.ACCESS_MODE_WRITE = ACCESS_MODE_WRITE;\nvar BOLT_PROTOCOL_V1 = 1;\nexports.BOLT_PROTOCOL_V1 = BOLT_PROTOCOL_V1;\nvar BOLT_PROTOCOL_V2 = 2;\nexports.BOLT_PROTOCOL_V2 = BOLT_PROTOCOL_V2;\nvar BOLT_PROTOCOL_V3 = 3;\nexports.BOLT_PROTOCOL_V3 = BOLT_PROTOCOL_V3;\nvar BOLT_PROTOCOL_V4_0 = 4.0;\nexports.BOLT_PROTOCOL_V4_0 = BOLT_PROTOCOL_V4_0;\nvar BOLT_PROTOCOL_V4_1 = 4.1;\nexports.BOLT_PROTOCOL_V4_1 = BOLT_PROTOCOL_V4_1;\nvar BOLT_PROTOCOL_V4_2 = 4.2;\nexports.BOLT_PROTOCOL_V4_2 = BOLT_PROTOCOL_V4_2;\nvar BOLT_PROTOCOL_V4_3 = 4.3;\nexports.BOLT_PROTOCOL_V4_3 = BOLT_PROTOCOL_V4_3;\nvar BOLT_PROTOCOL_V4_4 = 4.4;\nexports.BOLT_PROTOCOL_V4_4 = BOLT_PROTOCOL_V4_4;\nvar BOLT_PROTOCOL_V5_0 = 5.0;\nexports.BOLT_PROTOCOL_V5_0 = BOLT_PROTOCOL_V5_0;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectUtil = exports.resolver = exports.serverAddress = exports.urlUtil = exports.logger = exports.transactionExecutor = exports.txConfig = exports.connectionHolder = exports.constants = exports.bookmarks = exports.observer = exports.temporalUtil = exports.util = void 0;\nvar util = __importStar(require(\"./util\"));\nexports.util = util;\nvar temporalUtil = __importStar(require(\"./temporal-util\"));\nexports.temporalUtil = temporalUtil;\nvar observer = __importStar(require(\"./observers\"));\nexports.observer = observer;\nvar bookmarks = __importStar(require(\"./bookmarks\"));\nexports.bookmarks = bookmarks;\nvar constants = __importStar(require(\"./constants\"));\nexports.constants = constants;\nvar connectionHolder = __importStar(require(\"./connection-holder\"));\nexports.connectionHolder = connectionHolder;\nvar txConfig = __importStar(require(\"./tx-config\"));\nexports.txConfig = txConfig;\nvar transactionExecutor = __importStar(require(\"./transaction-executor\"));\nexports.transactionExecutor = transactionExecutor;\nvar logger = __importStar(require(\"./logger\"));\nexports.logger = logger;\nvar urlUtil = __importStar(require(\"./url-util\"));\nexports.urlUtil = urlUtil;\nvar serverAddress = __importStar(require(\"./server-address\"));\nexports.serverAddress = serverAddress;\nvar resolver = __importStar(require(\"./resolver\"));\nexports.resolver = resolver;\nvar objectUtil = __importStar(require(\"./object-util\"));\nexports.objectUtil = objectUtil;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Logger = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar error_1 = require(\"../error\");\nvar ERROR = 'error';\nvar WARN = 'warn';\nvar INFO = 'info';\nvar DEBUG = 'debug';\nvar DEFAULT_LEVEL = INFO;\nvar levels = (_a = {},\n    _a[ERROR] = 0,\n    _a[WARN] = 1,\n    _a[INFO] = 2,\n    _a[DEBUG] = 3,\n    _a);\n/**\n * Logger used by the driver to notify about various internal events. Single logger should be used per driver.\n */\nvar Logger = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {string} level the enabled logging level.\n     * @param {function(level: string, message: string)} loggerFunction the function to write the log level and message.\n     */\n    function Logger(level, loggerFunction) {\n        this._level = level;\n        this._loggerFunction = loggerFunction;\n    }\n    /**\n     * Create a new logger based on the given driver configuration.\n     * @param {Object} driverConfig the driver configuration as supplied by the user.\n     * @return {Logger} a new logger instance or a no-op logger when not configured.\n     */\n    Logger.create = function (driverConfig) {\n        if ((driverConfig === null || driverConfig === void 0 ? void 0 : driverConfig.logging) != null) {\n            var loggingConfig = driverConfig.logging;\n            var level = extractConfiguredLevel(loggingConfig);\n            var loggerFunction = extractConfiguredLogger(loggingConfig);\n            return new Logger(level, loggerFunction);\n        }\n        return this.noOp();\n    };\n    /**\n     * Create a no-op logger implementation.\n     * @return {Logger} the no-op logger implementation.\n     */\n    Logger.noOp = function () {\n        return noOpLogger;\n    };\n    /**\n     * Check if error logging is enabled, i.e. it is not a no-op implementation.\n     * @return {boolean} `true` when enabled, `false` otherwise.\n     */\n    Logger.prototype.isErrorEnabled = function () {\n        return isLevelEnabled(this._level, ERROR);\n    };\n    /**\n     * Log an error message.\n     * @param {string} message the message to log.\n     */\n    Logger.prototype.error = function (message) {\n        if (this.isErrorEnabled()) {\n            this._loggerFunction(ERROR, message);\n        }\n    };\n    /**\n     * Check if warn logging is enabled, i.e. it is not a no-op implementation.\n     * @return {boolean} `true` when enabled, `false` otherwise.\n     */\n    Logger.prototype.isWarnEnabled = function () {\n        return isLevelEnabled(this._level, WARN);\n    };\n    /**\n     * Log an warning message.\n     * @param {string} message the message to log.\n     */\n    Logger.prototype.warn = function (message) {\n        if (this.isWarnEnabled()) {\n            this._loggerFunction(WARN, message);\n        }\n    };\n    /**\n     * Check if info logging is enabled, i.e. it is not a no-op implementation.\n     * @return {boolean} `true` when enabled, `false` otherwise.\n     */\n    Logger.prototype.isInfoEnabled = function () {\n        return isLevelEnabled(this._level, INFO);\n    };\n    /**\n     * Log an info message.\n     * @param {string} message the message to log.\n     */\n    Logger.prototype.info = function (message) {\n        if (this.isInfoEnabled()) {\n            this._loggerFunction(INFO, message);\n        }\n    };\n    /**\n     * Check if debug logging is enabled, i.e. it is not a no-op implementation.\n     * @return {boolean} `true` when enabled, `false` otherwise.\n     */\n    Logger.prototype.isDebugEnabled = function () {\n        return isLevelEnabled(this._level, DEBUG);\n    };\n    /**\n     * Log a debug message.\n     * @param {string} message the message to log.\n     */\n    Logger.prototype.debug = function (message) {\n        if (this.isDebugEnabled()) {\n            this._loggerFunction(DEBUG, message);\n        }\n    };\n    return Logger;\n}());\nexports.Logger = Logger;\nvar NoOpLogger = /** @class */ (function (_super) {\n    __extends(NoOpLogger, _super);\n    function NoOpLogger() {\n        return _super.call(this, INFO, function (level, message) { }) || this;\n    }\n    NoOpLogger.prototype.isErrorEnabled = function () {\n        return false;\n    };\n    NoOpLogger.prototype.error = function (message) { };\n    NoOpLogger.prototype.isWarnEnabled = function () {\n        return false;\n    };\n    NoOpLogger.prototype.warn = function (message) { };\n    NoOpLogger.prototype.isInfoEnabled = function () {\n        return false;\n    };\n    NoOpLogger.prototype.info = function (message) { };\n    NoOpLogger.prototype.isDebugEnabled = function () {\n        return false;\n    };\n    NoOpLogger.prototype.debug = function (message) { };\n    return NoOpLogger;\n}(Logger));\nvar noOpLogger = new NoOpLogger();\n/**\n * Check if the given logging level is enabled.\n * @param {string} configuredLevel the configured level.\n * @param {string} targetLevel the level to check.\n * @return {boolean} value of `true` when enabled, `false` otherwise.\n */\nfunction isLevelEnabled(configuredLevel, targetLevel) {\n    return levels[configuredLevel] >= levels[targetLevel];\n}\n/**\n * Extract the configured logging level from the driver's logging configuration.\n * @param {Object} loggingConfig the logging configuration.\n * @return {string} the configured log level or default when none configured.\n */\nfunction extractConfiguredLevel(loggingConfig) {\n    if ((loggingConfig === null || loggingConfig === void 0 ? void 0 : loggingConfig.level) != null) {\n        var configuredLevel = loggingConfig.level;\n        var value = levels[configuredLevel];\n        if (value == null && value !== 0) {\n            throw (0, error_1.newError)(\"Illegal logging level: \".concat(configuredLevel, \". Supported levels are: \").concat(Object.keys(levels).toString()));\n        }\n        return configuredLevel;\n    }\n    return DEFAULT_LEVEL;\n}\n/**\n * Extract the configured logger function from the driver's logging configuration.\n * @param {Object} loggingConfig the logging configuration.\n * @return {function(level: string, message: string)} the configured logging function.\n */\nfunction extractConfiguredLogger(loggingConfig) {\n    var _a, _b;\n    if ((loggingConfig === null || loggingConfig === void 0 ? void 0 : loggingConfig.logger) != null) {\n        var configuredLogger = loggingConfig.logger;\n        if (configuredLogger != null && typeof configuredLogger === 'function') {\n            return configuredLogger;\n        }\n    }\n    throw (0, error_1.newError)(\"Illegal logger function: \".concat((_b = (_a = loggingConfig === null || loggingConfig === void 0 ? void 0 : loggingConfig.logger) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : 'undefined'));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBrokenObjectReason = exports.isBrokenObject = exports.createBrokenObject = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nvar __isBrokenObject__ = '__isBrokenObject__';\n// eslint-disable-next-line @typescript-eslint/naming-convention\nvar __reason__ = '__reason__';\n/**\n * Creates a object which all method call will throw the given error\n *\n * @param {Error} error The error\n * @param {any} object The object. Default: {}\n * @returns {any} A broken object\n */\nfunction createBrokenObject(error, object) {\n    if (object === void 0) { object = {}; }\n    var fail = function () {\n        throw error;\n    };\n    return new Proxy(object, {\n        get: function (_, p) {\n            if (p === __isBrokenObject__) {\n                return true;\n            }\n            else if (p === __reason__) {\n                return error;\n            }\n            else if (p === 'toJSON') {\n                return undefined;\n            }\n            fail();\n        },\n        set: fail,\n        apply: fail,\n        construct: fail,\n        defineProperty: fail,\n        deleteProperty: fail,\n        getOwnPropertyDescriptor: fail,\n        getPrototypeOf: fail,\n        has: fail,\n        isExtensible: fail,\n        ownKeys: fail,\n        preventExtensions: fail,\n        setPrototypeOf: fail\n    });\n}\nexports.createBrokenObject = createBrokenObject;\n/**\n * Verifies if it is a Broken Object\n * @param {any} object The object\n * @returns {boolean} If it was created with createBrokenObject\n */\nfunction isBrokenObject(object) {\n    return object !== null && typeof object === 'object' && object[__isBrokenObject__] === true;\n}\nexports.isBrokenObject = isBrokenObject;\n/**\n * Returns if the reason the object is broken.\n *\n * This method should only be called with instances create with {@link createBrokenObject}\n *\n * @param {any} object The object\n * @returns {Error} The reason the object is broken\n */\nfunction getBrokenObjectReason(object) {\n    return object[__reason__];\n}\nexports.getBrokenObjectReason = getBrokenObjectReason;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FailedObserver = exports.CompletedObserver = void 0;\nvar CompletedObserver = /** @class */ (function () {\n    function CompletedObserver() {\n    }\n    CompletedObserver.prototype.subscribe = function (observer) {\n        apply(observer, observer.onKeys, []);\n        apply(observer, observer.onCompleted, {});\n    };\n    CompletedObserver.prototype.cancel = function () {\n        // do nothing\n    };\n    CompletedObserver.prototype.pause = function () {\n        // do nothing\n    };\n    CompletedObserver.prototype.resume = function () {\n        // do nothing\n    };\n    CompletedObserver.prototype.prepareToHandleSingleResponse = function () {\n        // do nothing\n    };\n    CompletedObserver.prototype.markCompleted = function () {\n        // do nothing\n    };\n    // eslint-disable-next-line node/handle-callback-err\n    CompletedObserver.prototype.onError = function (error) {\n        // nothing to do, already finished\n        throw Error('CompletedObserver not supposed to call onError');\n    };\n    return CompletedObserver;\n}());\nexports.CompletedObserver = CompletedObserver;\nvar FailedObserver = /** @class */ (function () {\n    function FailedObserver(_a) {\n        var error = _a.error, onError = _a.onError;\n        this._error = error;\n        this._beforeError = onError;\n        this._observers = [];\n        this.onError(error);\n    }\n    FailedObserver.prototype.subscribe = function (observer) {\n        apply(observer, observer.onError, this._error);\n        this._observers.push(observer);\n    };\n    FailedObserver.prototype.onError = function (error) {\n        apply(this, this._beforeError, error);\n        this._observers.forEach(function (o) { return apply(o, o.onError, error); });\n    };\n    FailedObserver.prototype.cancel = function () {\n        // do nothing\n    };\n    FailedObserver.prototype.pause = function () {\n        // do nothing\n    };\n    FailedObserver.prototype.resume = function () {\n        // do nothing\n    };\n    FailedObserver.prototype.markCompleted = function () {\n        // do nothing\n    };\n    FailedObserver.prototype.prepareToHandleSingleResponse = function () {\n        // do nothing\n    };\n    return FailedObserver;\n}());\nexports.FailedObserver = FailedObserver;\nfunction apply(thisArg, func, param) {\n    if (func != null) {\n        func.bind(thisArg)(param);\n    }\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/promise-function-async */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseHostNameResolver = /** @class */ (function () {\n    function BaseHostNameResolver() {\n    }\n    BaseHostNameResolver.prototype.resolve = function () {\n        throw new Error('Abstract function');\n    };\n    /**\n     * @protected\n     */\n    BaseHostNameResolver.prototype._resolveToItself = function (address) {\n        return Promise.resolve([address]);\n    };\n    return BaseHostNameResolver;\n}());\nexports.default = BaseHostNameResolver;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/promise-function-async */\nvar server_address_1 = require(\"../server-address\");\nfunction resolveToSelf(address) {\n    return Promise.resolve([address]);\n}\nvar ConfiguredCustomResolver = /** @class */ (function () {\n    function ConfiguredCustomResolver(resolverFunction) {\n        this._resolverFunction = resolverFunction !== null && resolverFunction !== void 0 ? resolverFunction : resolveToSelf;\n    }\n    ConfiguredCustomResolver.prototype.resolve = function (seedRouter) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            return resolve(_this._resolverFunction(seedRouter.asHostPort()));\n        }).then(function (resolved) {\n            if (!Array.isArray(resolved)) {\n                throw new TypeError('Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses.' +\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                    \"Each address is '<host>:<port>'. Got: \".concat(resolved));\n            }\n            return resolved.map(function (r) { return server_address_1.ServerAddress.fromUrl(r); });\n        });\n    };\n    return ConfiguredCustomResolver;\n}());\nexports.default = ConfiguredCustomResolver;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfiguredCustomResolver = exports.BaseHostNameResolver = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar base_host_name_resolver_1 = __importDefault(require(\"./base-host-name-resolver\"));\nexports.BaseHostNameResolver = base_host_name_resolver_1.default;\nvar configured_custom_resolver_1 = __importDefault(require(\"./configured-custom-resolver\"));\nexports.ConfiguredCustomResolver = configured_custom_resolver_1.default;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServerAddress = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar util_1 = require(\"./util\");\nvar urlUtil = __importStar(require(\"./url-util\"));\nvar ServerAddress = /** @class */ (function () {\n    function ServerAddress(host, resolved, port, hostPort) {\n        this._host = (0, util_1.assertString)(host, 'host');\n        this._resolved = resolved != null ? (0, util_1.assertString)(resolved, 'resolved') : null;\n        this._port = (0, util_1.assertNumber)(port, 'port');\n        this._hostPort = hostPort;\n        this._stringValue = resolved != null ? \"\".concat(hostPort, \"(\").concat(resolved, \")\") : \"\".concat(hostPort);\n    }\n    ServerAddress.prototype.host = function () {\n        return this._host;\n    };\n    ServerAddress.prototype.resolvedHost = function () {\n        return this._resolved != null ? this._resolved : this._host;\n    };\n    ServerAddress.prototype.port = function () {\n        return this._port;\n    };\n    ServerAddress.prototype.resolveWith = function (resolved) {\n        return new ServerAddress(this._host, resolved, this._port, this._hostPort);\n    };\n    ServerAddress.prototype.asHostPort = function () {\n        return this._hostPort;\n    };\n    ServerAddress.prototype.asKey = function () {\n        return this._hostPort;\n    };\n    ServerAddress.prototype.toString = function () {\n        return this._stringValue;\n    };\n    ServerAddress.fromUrl = function (url) {\n        var urlParsed = urlUtil.parseDatabaseUrl(url);\n        return new ServerAddress(urlParsed.host, null, urlParsed.port, urlParsed.hostAndPort);\n    };\n    return ServerAddress;\n}());\nexports.ServerAddress = ServerAddress;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.floorMod = exports.floorDiv = exports.assertValidZoneId = exports.assertValidNanosecond = exports.assertValidSecond = exports.assertValidMinute = exports.assertValidHour = exports.assertValidDay = exports.assertValidMonth = exports.assertValidYear = exports.timeZoneOffsetInSeconds = exports.totalNanoseconds = exports.newDate = exports.toStandardDate = exports.isoStringToStandardDate = exports.dateToIsoString = exports.timeZoneOffsetToIsoString = exports.timeToIsoString = exports.durationToIsoString = exports.dateToEpochDay = exports.localDateTimeToEpochSecond = exports.localTimeToNanoOfDay = exports.normalizeNanosecondsForDuration = exports.normalizeSecondsForDuration = exports.SECONDS_PER_DAY = exports.DAYS_PER_400_YEAR_CYCLE = exports.DAYS_0000_TO_1970 = exports.NANOS_PER_HOUR = exports.NANOS_PER_MINUTE = exports.NANOS_PER_MILLISECOND = exports.NANOS_PER_SECOND = exports.SECONDS_PER_HOUR = exports.SECONDS_PER_MINUTE = exports.MINUTES_PER_HOUR = exports.NANOSECOND_OF_SECOND_RANGE = exports.SECOND_OF_MINUTE_RANGE = exports.MINUTE_OF_HOUR_RANGE = exports.HOUR_OF_DAY_RANGE = exports.DAY_OF_MONTH_RANGE = exports.MONTH_OF_YEAR_RANGE = exports.YEAR_RANGE = void 0;\nvar integer_1 = __importStar(require(\"../integer\"));\nvar error_1 = require(\"../error\");\nvar util_1 = require(\"./util\");\n/*\n  Code in this util should be compatible with code in the database that uses JSR-310 java.time APIs.\n\n  It is based on a library called ThreeTen (https://github.com/ThreeTen/threetenbp) which was derived\n  from JSR-310 reference implementation previously hosted on GitHub. Code uses `Integer` type everywhere\n  to correctly handle large integer values that are greater than `Number.MAX_SAFE_INTEGER`.\n\n  Please consult either ThreeTen or js-joda (https://github.com/js-joda/js-joda) when working with the\n  conversion functions.\n */\nvar ValueRange = /** @class */ (function () {\n    function ValueRange(min, max) {\n        this._minNumber = min;\n        this._maxNumber = max;\n        this._minInteger = (0, integer_1.int)(min);\n        this._maxInteger = (0, integer_1.int)(max);\n    }\n    ValueRange.prototype.contains = function (value) {\n        if ((0, integer_1.isInt)(value) && value instanceof integer_1.default) {\n            return (value.greaterThanOrEqual(this._minInteger) &&\n                value.lessThanOrEqual(this._maxInteger));\n        }\n        else if (typeof value === 'bigint') {\n            var intValue = (0, integer_1.int)(value);\n            return (intValue.greaterThanOrEqual(this._minInteger) &&\n                intValue.lessThanOrEqual(this._maxInteger));\n        }\n        else {\n            return value >= this._minNumber && value <= this._maxNumber;\n        }\n    };\n    ValueRange.prototype.toString = function () {\n        return \"[\".concat(this._minNumber, \", \").concat(this._maxNumber, \"]\");\n    };\n    return ValueRange;\n}());\nexports.YEAR_RANGE = new ValueRange(-999999999, 999999999);\nexports.MONTH_OF_YEAR_RANGE = new ValueRange(1, 12);\nexports.DAY_OF_MONTH_RANGE = new ValueRange(1, 31);\nexports.HOUR_OF_DAY_RANGE = new ValueRange(0, 23);\nexports.MINUTE_OF_HOUR_RANGE = new ValueRange(0, 59);\nexports.SECOND_OF_MINUTE_RANGE = new ValueRange(0, 59);\nexports.NANOSECOND_OF_SECOND_RANGE = new ValueRange(0, 999999999);\nexports.MINUTES_PER_HOUR = 60;\nexports.SECONDS_PER_MINUTE = 60;\nexports.SECONDS_PER_HOUR = exports.SECONDS_PER_MINUTE * exports.MINUTES_PER_HOUR;\nexports.NANOS_PER_SECOND = 1000000000;\nexports.NANOS_PER_MILLISECOND = 1000000;\nexports.NANOS_PER_MINUTE = exports.NANOS_PER_SECOND * exports.SECONDS_PER_MINUTE;\nexports.NANOS_PER_HOUR = exports.NANOS_PER_MINUTE * exports.MINUTES_PER_HOUR;\nexports.DAYS_0000_TO_1970 = 719528;\nexports.DAYS_PER_400_YEAR_CYCLE = 146097;\nexports.SECONDS_PER_DAY = 86400;\nfunction normalizeSecondsForDuration(seconds, nanoseconds) {\n    return (0, integer_1.int)(seconds).add(floorDiv(nanoseconds, exports.NANOS_PER_SECOND));\n}\nexports.normalizeSecondsForDuration = normalizeSecondsForDuration;\nfunction normalizeNanosecondsForDuration(nanoseconds) {\n    return floorMod(nanoseconds, exports.NANOS_PER_SECOND);\n}\nexports.normalizeNanosecondsForDuration = normalizeNanosecondsForDuration;\n/**\n * Converts given local time into a single integer representing this same time in nanoseconds of the day.\n * @param {Integer|number|string} hour the hour of the local time to convert.\n * @param {Integer|number|string} minute the minute of the local time to convert.\n * @param {Integer|number|string} second the second of the local time to convert.\n * @param {Integer|number|string} nanosecond the nanosecond of the local time to convert.\n * @return {Integer} nanoseconds representing the given local time.\n */\nfunction localTimeToNanoOfDay(hour, minute, second, nanosecond) {\n    hour = (0, integer_1.int)(hour);\n    minute = (0, integer_1.int)(minute);\n    second = (0, integer_1.int)(second);\n    nanosecond = (0, integer_1.int)(nanosecond);\n    var totalNanos = hour.multiply(exports.NANOS_PER_HOUR);\n    totalNanos = totalNanos.add(minute.multiply(exports.NANOS_PER_MINUTE));\n    totalNanos = totalNanos.add(second.multiply(exports.NANOS_PER_SECOND));\n    return totalNanos.add(nanosecond);\n}\nexports.localTimeToNanoOfDay = localTimeToNanoOfDay;\n/**\n * Converts given local date time into a single integer representing this same time in epoch seconds UTC.\n * @param {Integer|number|string} year the year of the local date-time to convert.\n * @param {Integer|number|string} month the month of the local date-time to convert.\n * @param {Integer|number|string} day the day of the local date-time to convert.\n * @param {Integer|number|string} hour the hour of the local date-time to convert.\n * @param {Integer|number|string} minute the minute of the local date-time to convert.\n * @param {Integer|number|string} second the second of the local date-time to convert.\n * @param {Integer|number|string} nanosecond the nanosecond of the local date-time to convert.\n * @return {Integer} epoch second in UTC representing the given local date time.\n */\nfunction localDateTimeToEpochSecond(year, month, day, hour, minute, second, nanosecond) {\n    var epochDay = dateToEpochDay(year, month, day);\n    var localTimeSeconds = localTimeToSecondOfDay(hour, minute, second);\n    return epochDay.multiply(exports.SECONDS_PER_DAY).add(localTimeSeconds);\n}\nexports.localDateTimeToEpochSecond = localDateTimeToEpochSecond;\n/**\n * Converts given local date into a single integer representing it's epoch day.\n * @param {Integer|number|string} year the year of the local date to convert.\n * @param {Integer|number|string} month the month of the local date to convert.\n * @param {Integer|number|string} day the day of the local date to convert.\n * @return {Integer} epoch day representing the given date.\n */\nfunction dateToEpochDay(year, month, day) {\n    year = (0, integer_1.int)(year);\n    month = (0, integer_1.int)(month);\n    day = (0, integer_1.int)(day);\n    var epochDay = year.multiply(365);\n    if (year.greaterThanOrEqual(0)) {\n        epochDay = epochDay.add(year\n            .add(3)\n            .div(4)\n            .subtract(year.add(99).div(100))\n            .add(year.add(399).div(400)));\n    }\n    else {\n        epochDay = epochDay.subtract(year\n            .div(-4)\n            .subtract(year.div(-100))\n            .add(year.div(-400)));\n    }\n    epochDay = epochDay.add(month\n        .multiply(367)\n        .subtract(362)\n        .div(12));\n    epochDay = epochDay.add(day.subtract(1));\n    if (month.greaterThan(2)) {\n        epochDay = epochDay.subtract(1);\n        if (!isLeapYear(year)) {\n            epochDay = epochDay.subtract(1);\n        }\n    }\n    return epochDay.subtract(exports.DAYS_0000_TO_1970);\n}\nexports.dateToEpochDay = dateToEpochDay;\n/**\n * Format given duration to an ISO 8601 string.\n * @param {Integer|number|string} months the number of months.\n * @param {Integer|number|string} days the number of days.\n * @param {Integer|number|string} seconds the number of seconds.\n * @param {Integer|number|string} nanoseconds the number of nanoseconds.\n * @return {string} ISO string that represents given duration.\n */\nfunction durationToIsoString(months, days, seconds, nanoseconds) {\n    var monthsString = formatNumber(months);\n    var daysString = formatNumber(days);\n    var secondsAndNanosecondsString = formatSecondsAndNanosecondsForDuration(seconds, nanoseconds);\n    return \"P\".concat(monthsString, \"M\").concat(daysString, \"DT\").concat(secondsAndNanosecondsString, \"S\");\n}\nexports.durationToIsoString = durationToIsoString;\n/**\n * Formats given time to an ISO 8601 string.\n * @param {Integer|number|string} hour the hour value.\n * @param {Integer|number|string} minute the minute value.\n * @param {Integer|number|string} second the second value.\n * @param {Integer|number|string} nanosecond the nanosecond value.\n * @return {string} ISO string that represents given time.\n */\nfunction timeToIsoString(hour, minute, second, nanosecond) {\n    var hourString = formatNumber(hour, 2);\n    var minuteString = formatNumber(minute, 2);\n    var secondString = formatNumber(second, 2);\n    var nanosecondString = formatNanosecond(nanosecond);\n    return \"\".concat(hourString, \":\").concat(minuteString, \":\").concat(secondString).concat(nanosecondString);\n}\nexports.timeToIsoString = timeToIsoString;\n/**\n * Formats given time zone offset in seconds to string representation like '±HH:MM', '±HH:MM:SS' or 'Z' for UTC.\n * @param {Integer|number|string} offsetSeconds the offset in seconds.\n * @return {string} ISO string that represents given offset.\n */\nfunction timeZoneOffsetToIsoString(offsetSeconds) {\n    offsetSeconds = (0, integer_1.int)(offsetSeconds);\n    if (offsetSeconds.equals(0)) {\n        return 'Z';\n    }\n    var isNegative = offsetSeconds.isNegative();\n    if (isNegative) {\n        offsetSeconds = offsetSeconds.multiply(-1);\n    }\n    var signPrefix = isNegative ? '-' : '+';\n    var hours = formatNumber(offsetSeconds.div(exports.SECONDS_PER_HOUR), 2);\n    var minutes = formatNumber(offsetSeconds.div(exports.SECONDS_PER_MINUTE).modulo(exports.MINUTES_PER_HOUR), 2);\n    var secondsValue = offsetSeconds.modulo(exports.SECONDS_PER_MINUTE);\n    var seconds = secondsValue.equals(0) ? null : formatNumber(secondsValue, 2);\n    return seconds != null\n        ? \"\".concat(signPrefix).concat(hours, \":\").concat(minutes, \":\").concat(seconds)\n        : \"\".concat(signPrefix).concat(hours, \":\").concat(minutes);\n}\nexports.timeZoneOffsetToIsoString = timeZoneOffsetToIsoString;\n/**\n * Formats given date to an ISO 8601 string.\n * @param {Integer|number|string} year the date year.\n * @param {Integer|number|string} month the date month.\n * @param {Integer|number|string} day the date day.\n * @return {string} ISO string that represents given date.\n */\nfunction dateToIsoString(year, month, day) {\n    var yearString = formatYear(year);\n    var monthString = formatNumber(month, 2);\n    var dayString = formatNumber(day, 2);\n    return \"\".concat(yearString, \"-\").concat(monthString, \"-\").concat(dayString);\n}\nexports.dateToIsoString = dateToIsoString;\n/**\n * Convert the given iso date string to a JavaScript Date object\n *\n * @param {string} isoString The iso date string\n * @returns {Date} the date\n */\nfunction isoStringToStandardDate(isoString) {\n    return new Date(isoString);\n}\nexports.isoStringToStandardDate = isoStringToStandardDate;\n/**\n * Convert the given utc timestamp to a JavaScript Date object\n *\n * @param {number} utc Timestamp in UTC\n * @returns {Date} the date\n */\nfunction toStandardDate(utc) {\n    return new Date(utc);\n}\nexports.toStandardDate = toStandardDate;\n/**\n * Shortcut for creating a new StandardDate\n * @param date\n * @returns {Date} the standard date\n */\nfunction newDate(date) {\n    return new Date(date);\n}\nexports.newDate = newDate;\n/**\n * Get the total number of nanoseconds from the milliseconds of the given standard JavaScript date and optional nanosecond part.\n * @param {global.Date} standardDate the standard JavaScript date.\n * @param {Integer|number|bigint|undefined} nanoseconds the optional number of nanoseconds.\n * @return {Integer|number|bigint} the total amount of nanoseconds.\n */\nfunction totalNanoseconds(standardDate, nanoseconds) {\n    nanoseconds = nanoseconds !== null && nanoseconds !== void 0 ? nanoseconds : 0;\n    var nanosFromMillis = standardDate.getMilliseconds() * exports.NANOS_PER_MILLISECOND;\n    return add(nanoseconds, nanosFromMillis);\n}\nexports.totalNanoseconds = totalNanoseconds;\n/**\n * Get the time zone offset in seconds from the given standard JavaScript date.\n *\n * <b>Implementation note:</b>\n * Time zone offset returned by the standard JavaScript date is the difference, in minutes, from local time to UTC.\n * So positive value means offset is behind UTC and negative value means it is ahead.\n * For Neo4j temporal types, like `Time` or `DateTime` offset is in seconds and represents difference from UTC to local time.\n * This is different from standard JavaScript dates and that's why implementation negates the returned value.\n *\n * @param {global.Date} standardDate the standard JavaScript date.\n * @return {number} the time zone offset in seconds.\n */\nfunction timeZoneOffsetInSeconds(standardDate) {\n    var secondsPortion = standardDate.getSeconds() >= standardDate.getUTCSeconds()\n        ? standardDate.getSeconds() - standardDate.getUTCSeconds()\n        : standardDate.getSeconds() - standardDate.getUTCSeconds() + 60;\n    var offsetInMinutes = standardDate.getTimezoneOffset();\n    if (offsetInMinutes === 0) {\n        return 0 + secondsPortion;\n    }\n    return -1 * offsetInMinutes * exports.SECONDS_PER_MINUTE + secondsPortion;\n}\nexports.timeZoneOffsetInSeconds = timeZoneOffsetInSeconds;\n/**\n * Assert that the year value is valid.\n * @param {Integer|number} year the value to check.\n * @return {Integer|number} the value of the year if it is valid. Exception is thrown otherwise.\n */\nfunction assertValidYear(year) {\n    return assertValidTemporalValue(year, exports.YEAR_RANGE, 'Year');\n}\nexports.assertValidYear = assertValidYear;\n/**\n * Assert that the month value is valid.\n * @param {Integer|number} month the value to check.\n * @return {Integer|number} the value of the month if it is valid. Exception is thrown otherwise.\n */\nfunction assertValidMonth(month) {\n    return assertValidTemporalValue(month, exports.MONTH_OF_YEAR_RANGE, 'Month');\n}\nexports.assertValidMonth = assertValidMonth;\n/**\n * Assert that the day value is valid.\n * @param {Integer|number} day the value to check.\n * @return {Integer|number} the value of the day if it is valid. Exception is thrown otherwise.\n */\nfunction assertValidDay(day) {\n    return assertValidTemporalValue(day, exports.DAY_OF_MONTH_RANGE, 'Day');\n}\nexports.assertValidDay = assertValidDay;\n/**\n * Assert that the hour value is valid.\n * @param {Integer|number} hour the value to check.\n * @return {Integer|number} the value of the hour if it is valid. Exception is thrown otherwise.\n */\nfunction assertValidHour(hour) {\n    return assertValidTemporalValue(hour, exports.HOUR_OF_DAY_RANGE, 'Hour');\n}\nexports.assertValidHour = assertValidHour;\n/**\n * Assert that the minute value is valid.\n * @param {Integer|number} minute the value to check.\n * @return {Integer|number} the value of the minute if it is valid. Exception is thrown otherwise.\n */\nfunction assertValidMinute(minute) {\n    return assertValidTemporalValue(minute, exports.MINUTE_OF_HOUR_RANGE, 'Minute');\n}\nexports.assertValidMinute = assertValidMinute;\n/**\n * Assert that the second value is valid.\n * @param {Integer|number} second the value to check.\n * @return {Integer|number} the value of the second if it is valid. Exception is thrown otherwise.\n */\nfunction assertValidSecond(second) {\n    return assertValidTemporalValue(second, exports.SECOND_OF_MINUTE_RANGE, 'Second');\n}\nexports.assertValidSecond = assertValidSecond;\n/**\n * Assert that the nanosecond value is valid.\n * @param {Integer|number} nanosecond the value to check.\n * @return {Integer|number} the value of the nanosecond if it is valid. Exception is thrown otherwise.\n */\nfunction assertValidNanosecond(nanosecond) {\n    return assertValidTemporalValue(nanosecond, exports.NANOSECOND_OF_SECOND_RANGE, 'Nanosecond');\n}\nexports.assertValidNanosecond = assertValidNanosecond;\nfunction assertValidZoneId(fieldName, zoneId) {\n    try {\n        Intl.DateTimeFormat(undefined, { timeZone: zoneId });\n    }\n    catch (e) {\n        throw (0, error_1.newError)(\"\".concat(fieldName, \" is expected to be a valid ZoneId but was: \\\"\").concat(zoneId, \"\\\"\"));\n    }\n}\nexports.assertValidZoneId = assertValidZoneId;\n/**\n * Check if the given value is of expected type and is in the expected range.\n * @param {Integer|number} value the value to check.\n * @param {ValueRange} range the range.\n * @param {string} name the name of the value.\n * @return {Integer|number} the value if valid. Exception is thrown otherwise.\n */\nfunction assertValidTemporalValue(value, range, name) {\n    (0, util_1.assertNumberOrInteger)(value, name);\n    if (!range.contains(value)) {\n        throw (0, error_1.newError)(\"\".concat(name, \" is expected to be in range \").concat(range.toString(), \" but was: \").concat(value.toString()));\n    }\n    return value;\n}\n/**\n * Converts given local time into a single integer representing this same time in seconds of the day. Nanoseconds are skipped.\n * @param {Integer|number|string} hour the hour of the local time.\n * @param {Integer|number|string} minute the minute of the local time.\n * @param {Integer|number|string} second the second of the local time.\n * @return {Integer} seconds representing the given local time.\n */\nfunction localTimeToSecondOfDay(hour, minute, second) {\n    hour = (0, integer_1.int)(hour);\n    minute = (0, integer_1.int)(minute);\n    second = (0, integer_1.int)(second);\n    var totalSeconds = hour.multiply(exports.SECONDS_PER_HOUR);\n    totalSeconds = totalSeconds.add(minute.multiply(exports.SECONDS_PER_MINUTE));\n    return totalSeconds.add(second);\n}\n/**\n * Check if given year is a leap year. Uses algorithm described here {@link https://en.wikipedia.org/wiki/Leap_year#Algorithm}.\n * @param {Integer|number|string} year the year to check. Will be converted to {@link Integer} for all calculations.\n * @return {boolean} `true` if given year is a leap year, `false` otherwise.\n */\nfunction isLeapYear(year) {\n    year = (0, integer_1.int)(year);\n    if (!year.modulo(4).equals(0)) {\n        return false;\n    }\n    else if (!year.modulo(100).equals(0)) {\n        return true;\n    }\n    else if (!year.modulo(400).equals(0)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Integer|number|string} x the divident.\n * @param {Integer|number|string} y the divisor.\n * @return {Integer} the result.\n */\nfunction floorDiv(x, y) {\n    x = (0, integer_1.int)(x);\n    y = (0, integer_1.int)(y);\n    var result = x.div(y);\n    if (x.isPositive() !== y.isPositive() && result.multiply(y).notEquals(x)) {\n        result = result.subtract(1);\n    }\n    return result;\n}\nexports.floorDiv = floorDiv;\n/**\n * @param {Integer|number|string} x the divident.\n * @param {Integer|number|string} y the divisor.\n * @return {Integer} the result.\n */\nfunction floorMod(x, y) {\n    x = (0, integer_1.int)(x);\n    y = (0, integer_1.int)(y);\n    return x.subtract(floorDiv(x, y).multiply(y));\n}\nexports.floorMod = floorMod;\n/**\n * @param {Integer|number|string} seconds the number of seconds to format.\n * @param {Integer|number|string} nanoseconds the number of nanoseconds to format.\n * @return {string} formatted value.\n */\nfunction formatSecondsAndNanosecondsForDuration(seconds, nanoseconds) {\n    seconds = (0, integer_1.int)(seconds);\n    nanoseconds = (0, integer_1.int)(nanoseconds);\n    var secondsString;\n    var nanosecondsString;\n    var secondsNegative = seconds.isNegative();\n    var nanosecondsGreaterThanZero = nanoseconds.greaterThan(0);\n    if (secondsNegative && nanosecondsGreaterThanZero) {\n        if (seconds.equals(-1)) {\n            secondsString = '-0';\n        }\n        else {\n            secondsString = seconds.add(1).toString();\n        }\n    }\n    else {\n        secondsString = seconds.toString();\n    }\n    if (nanosecondsGreaterThanZero) {\n        if (secondsNegative) {\n            nanosecondsString = formatNanosecond(nanoseconds\n                .negate()\n                .add(2 * exports.NANOS_PER_SECOND)\n                .modulo(exports.NANOS_PER_SECOND));\n        }\n        else {\n            nanosecondsString = formatNanosecond(nanoseconds.add(exports.NANOS_PER_SECOND).modulo(exports.NANOS_PER_SECOND));\n        }\n    }\n    return nanosecondsString != null ? secondsString + nanosecondsString : secondsString;\n}\n/**\n * @param {Integer|number|string} value the number of nanoseconds to format.\n * @return {string} formatted and possibly left-padded nanoseconds part as string.\n */\nfunction formatNanosecond(value) {\n    value = (0, integer_1.int)(value);\n    return value.equals(0) ? '' : '.' + formatNumber(value, 9);\n}\n/**\n *\n * @param {Integer|number|string} year The year to be formatted\n * @return {string} formatted year\n */\nfunction formatYear(year) {\n    var yearInteger = (0, integer_1.int)(year);\n    if (yearInteger.isNegative() || yearInteger.greaterThan(9999)) {\n        return formatNumber(yearInteger, 6, { usePositiveSign: true });\n    }\n    return formatNumber(yearInteger, 4);\n}\n/**\n * @param {Integer|number|string} num the number to format.\n * @param {number} [stringLength=undefined] the string length to left-pad to.\n * @return {string} formatted and possibly left-padded number as string.\n */\nfunction formatNumber(num, stringLength, params) {\n    num = (0, integer_1.int)(num);\n    var isNegative = num.isNegative();\n    if (isNegative) {\n        num = num.negate();\n    }\n    var numString = num.toString();\n    if (stringLength != null) {\n        // left pad the string with zeroes\n        while (numString.length < stringLength) {\n            numString = '0' + numString;\n        }\n    }\n    if (isNegative) {\n        return '-' + numString;\n    }\n    else if ((params === null || params === void 0 ? void 0 : params.usePositiveSign) === true) {\n        return '+' + numString;\n    }\n    return numString;\n}\nfunction add(x, y) {\n    if (x instanceof integer_1.default) {\n        return x.add(y);\n    }\n    else if (typeof x === 'bigint') {\n        return x + BigInt(y);\n    }\n    return x + y;\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/promise-function-async */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransactionExecutor = void 0;\nvar error_1 = require(\"../error\");\nvar DEFAULT_MAX_RETRY_TIME_MS = 30 * 1000; // 30 seconds\nvar DEFAULT_INITIAL_RETRY_DELAY_MS = 1000; // 1 seconds\nvar DEFAULT_RETRY_DELAY_MULTIPLIER = 2.0;\nvar DEFAULT_RETRY_DELAY_JITTER_FACTOR = 0.2;\nvar TransactionExecutor = /** @class */ (function () {\n    function TransactionExecutor(maxRetryTimeMs, initialRetryDelayMs, multiplier, jitterFactor) {\n        this._maxRetryTimeMs = _valueOrDefault(maxRetryTimeMs, DEFAULT_MAX_RETRY_TIME_MS);\n        this._initialRetryDelayMs = _valueOrDefault(initialRetryDelayMs, DEFAULT_INITIAL_RETRY_DELAY_MS);\n        this._multiplier = _valueOrDefault(multiplier, DEFAULT_RETRY_DELAY_MULTIPLIER);\n        this._jitterFactor = _valueOrDefault(jitterFactor, DEFAULT_RETRY_DELAY_JITTER_FACTOR);\n        this._inFlightTimeoutIds = [];\n        this._verifyAfterConstruction();\n    }\n    TransactionExecutor.prototype.execute = function (transactionCreator, transactionWork, transactionWrapper) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this._executeTransactionInsidePromise(transactionCreator, transactionWork, resolve, reject, transactionWrapper).catch(reject);\n        }).catch(function (error) {\n            var retryStartTimeMs = Date.now();\n            var retryDelayMs = _this._initialRetryDelayMs;\n            return _this._retryTransactionPromise(transactionCreator, transactionWork, error, retryStartTimeMs, retryDelayMs, transactionWrapper);\n        });\n    };\n    TransactionExecutor.prototype.close = function () {\n        // cancel all existing timeouts to prevent further retries\n        this._inFlightTimeoutIds.forEach(function (timeoutId) { return clearTimeout(timeoutId); });\n        this._inFlightTimeoutIds = [];\n    };\n    TransactionExecutor.prototype._retryTransactionPromise = function (transactionCreator, transactionWork, error, retryStartTime, retryDelayMs, transactionWrapper) {\n        var _this = this;\n        var elapsedTimeMs = Date.now() - retryStartTime;\n        if (elapsedTimeMs > this._maxRetryTimeMs || !(0, error_1.isRetriableError)(error)) {\n            return Promise.reject(error);\n        }\n        return new Promise(function (resolve, reject) {\n            var nextRetryTime = _this._computeDelayWithJitter(retryDelayMs);\n            var timeoutId = setTimeout(function () {\n                // filter out this timeoutId when time has come and function is being executed\n                _this._inFlightTimeoutIds = _this._inFlightTimeoutIds.filter(function (id) { return id !== timeoutId; });\n                _this._executeTransactionInsidePromise(transactionCreator, transactionWork, resolve, reject, transactionWrapper).catch(reject);\n            }, nextRetryTime);\n            // add newly created timeoutId to the list of all in-flight timeouts\n            _this._inFlightTimeoutIds.push(timeoutId);\n        }).catch(function (error) {\n            var nextRetryDelayMs = retryDelayMs * _this._multiplier;\n            return _this._retryTransactionPromise(transactionCreator, transactionWork, error, retryStartTime, nextRetryDelayMs, transactionWrapper);\n        });\n    };\n    TransactionExecutor.prototype._executeTransactionInsidePromise = function (transactionCreator, transactionWork, resolve, reject, transactionWrapper) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tx, error_2, wrap, wrappedTx, resultPromise;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, transactionCreator()];\n                    case 1:\n                        tx = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_2 = _a.sent();\n                        // failed to create a transaction\n                        reject(error_2);\n                        return [2 /*return*/];\n                    case 3:\n                        wrap = transactionWrapper !== null && transactionWrapper !== void 0 ? transactionWrapper : (function (tx) { return tx; });\n                        wrappedTx = wrap(tx);\n                        resultPromise = this._safeExecuteTransactionWork(wrappedTx, transactionWork);\n                        resultPromise\n                            .then(function (result) {\n                            return _this._handleTransactionWorkSuccess(result, tx, resolve, reject);\n                        })\n                            .catch(function (error) { return _this._handleTransactionWorkFailure(error, tx, reject); });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TransactionExecutor.prototype._safeExecuteTransactionWork = function (tx, transactionWork) {\n        try {\n            var result = transactionWork(tx);\n            // user defined callback is supposed to return a promise, but it might not; so to protect against an\n            // incorrect API usage we wrap the returned value with a resolved promise; this is effectively a\n            // validation step without type checks\n            return Promise.resolve(result);\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    };\n    TransactionExecutor.prototype._handleTransactionWorkSuccess = function (result, tx, resolve, reject) {\n        if (tx.isOpen()) {\n            // transaction work returned resolved promise and transaction has not been committed/rolled back\n            // try to commit the transaction\n            tx.commit()\n                .then(function () {\n                // transaction was committed, return result to the user\n                resolve(result);\n            })\n                .catch(function (error) {\n                // transaction failed to commit, propagate the failure\n                reject(error);\n            });\n        }\n        else {\n            // transaction work returned resolved promise and transaction is already committed/rolled back\n            // return the result returned by given transaction work\n            resolve(result);\n        }\n    };\n    TransactionExecutor.prototype._handleTransactionWorkFailure = function (error, tx, reject) {\n        if (tx.isOpen()) {\n            // transaction work failed and the transaction is still open, roll it back and propagate the failure\n            tx.rollback()\n                .catch(function (ignore) {\n                // ignore the rollback error\n            })\n                .then(function () { return reject(error); }) // propagate the original error we got from the transaction work\n                .catch(reject);\n        }\n        else {\n            // transaction is already rolled back, propagate the error\n            reject(error);\n        }\n    };\n    TransactionExecutor.prototype._computeDelayWithJitter = function (delayMs) {\n        var jitter = delayMs * this._jitterFactor;\n        var min = delayMs - jitter;\n        var max = delayMs + jitter;\n        return Math.random() * (max - min) + min;\n    };\n    TransactionExecutor.prototype._verifyAfterConstruction = function () {\n        if (this._maxRetryTimeMs < 0) {\n            throw (0, error_1.newError)('Max retry time should be >= 0: ' + this._maxRetryTimeMs.toString());\n        }\n        if (this._initialRetryDelayMs < 0) {\n            throw (0, error_1.newError)('Initial retry delay should >= 0: ' + this._initialRetryDelayMs.toString());\n        }\n        if (this._multiplier < 1.0) {\n            throw (0, error_1.newError)('Multiplier should be >= 1.0: ' + this._multiplier.toString());\n        }\n        if (this._jitterFactor < 0 || this._jitterFactor > 1) {\n            throw (0, error_1.newError)('Jitter factor should be in [0.0, 1.0]: ' + this._jitterFactor.toFixed());\n        }\n    };\n    return TransactionExecutor;\n}());\nexports.TransactionExecutor = TransactionExecutor;\nfunction _valueOrDefault(value, defaultValue) {\n    if (value != null) {\n        return value;\n    }\n    return defaultValue;\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TxConfig = void 0;\nvar util = __importStar(require(\"./util\"));\nvar error_1 = require(\"../error\");\nvar integer_1 = require(\"../integer\");\n/**\n * Internal holder of the transaction configuration.\n * It performs input validation and value conversion for further serialization by the Bolt protocol layer.\n * Users of the driver provide transaction configuration as regular objects `{timeout: 10, metadata: {key: 'value'}}`.\n * Driver converts such objects to {@link TxConfig} immediately and uses converted values everywhere.\n */\nvar TxConfig = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {Object} config the raw configuration object.\n     */\n    function TxConfig(config) {\n        assertValidConfig(config);\n        this.timeout = extractTimeout(config);\n        this.metadata = extractMetadata(config);\n    }\n    /**\n     * Get an empty config object.\n     * @return {TxConfig} an empty config.\n     */\n    TxConfig.empty = function () {\n        return EMPTY_CONFIG;\n    };\n    /**\n     * Check if this config object is empty. I.e. has no configuration values specified.\n     * @return {boolean} `true` if this object is empty, `false` otherwise.\n     */\n    TxConfig.prototype.isEmpty = function () {\n        return Object.values(this).every(function (value) { return value == null; });\n    };\n    return TxConfig;\n}());\nexports.TxConfig = TxConfig;\nvar EMPTY_CONFIG = new TxConfig({});\n/**\n * @return {Integer|null}\n */\nfunction extractTimeout(config) {\n    if (util.isObject(config) && config.timeout != null) {\n        util.assertNumberOrInteger(config.timeout, 'Transaction timeout');\n        var timeout = (0, integer_1.int)(config.timeout);\n        if (timeout.isNegative()) {\n            throw (0, error_1.newError)('Transaction timeout should not be negative');\n        }\n        return timeout;\n    }\n    return null;\n}\n/**\n * @return {object|null}\n */\nfunction extractMetadata(config) {\n    if (util.isObject(config) && config.metadata != null) {\n        var metadata = config.metadata;\n        util.assertObject(metadata, 'config.metadata');\n        if (Object.keys(metadata).length !== 0) {\n            // not an empty object\n            return metadata;\n        }\n    }\n    return null;\n}\nfunction assertValidConfig(config) {\n    if (config != null) {\n        util.assertObject(config, 'Transaction config');\n    }\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Url = exports.formatIPv6Address = exports.formatIPv4Address = exports.defaultPortForScheme = exports.parseDatabaseUrl = void 0;\nvar util_1 = require(\"./util\");\nvar DEFAULT_BOLT_PORT = 7687;\nvar DEFAULT_HTTP_PORT = 7474;\nvar DEFAULT_HTTPS_PORT = 7473;\nvar Url = /** @class */ (function () {\n    function Url(scheme, host, port, hostAndPort, query) {\n        /**\n         * Nullable scheme (protocol) of the URL.\n         * Example: 'bolt', 'neo4j', 'http', 'https', etc.\n         * @type {string}\n         */\n        this.scheme = scheme;\n        /**\n         * Nonnull host name or IP address. IPv6 not wrapped in square brackets.\n         * Example: 'neo4j.com', 'localhost', '127.0.0.1', '192.168.10.15', '::1', '2001:4860:4860::8844', etc.\n         * @type {string}\n         */\n        this.host = host;\n        /**\n         * Nonnull number representing port. Default port for the given scheme is used if given URL string\n         * does not contain port. Example: 7687 for bolt, 7474 for HTTP and 7473 for HTTPS.\n         * @type {number}\n         */\n        this.port = port;\n        /**\n         * Nonnull host name or IP address plus port, separated by ':'. IPv6 wrapped in square brackets.\n         * Example: 'neo4j.com', 'neo4j.com:7687', '127.0.0.1', '127.0.0.1:8080', '[2001:4860:4860::8844]',\n         * '[2001:4860:4860::8844]:9090', etc.\n         * @type {string}\n         */\n        this.hostAndPort = hostAndPort;\n        /**\n         * Nonnull object representing parsed query string key-value pairs. Duplicated keys not supported.\n         * Example: '{}', '{'key1': 'value1', 'key2': 'value2'}', etc.\n         * @type {Object}\n         */\n        this.query = query;\n    }\n    return Url;\n}());\nexports.Url = Url;\nfunction parseDatabaseUrl(url) {\n    var _a;\n    (0, util_1.assertString)(url, 'URL');\n    var sanitized = sanitizeUrl(url);\n    var parsedUrl = uriJsParse(sanitized.url);\n    var scheme = sanitized.schemeMissing\n        ? null\n        : extractScheme(parsedUrl.scheme);\n    var host = extractHost(parsedUrl.host); // no square brackets for IPv6\n    var formattedHost = formatHost(host); // has square brackets for IPv6\n    var port = extractPort(parsedUrl.port, scheme);\n    var hostAndPort = \"\".concat(formattedHost, \":\").concat(port);\n    var query = extractQuery(\n    // @ts-expect-error\n    (_a = parsedUrl.query) !== null && _a !== void 0 ? _a : extractResourceQueryString(parsedUrl.resourceName), url);\n    return new Url(scheme, host, port, hostAndPort, query);\n}\nexports.parseDatabaseUrl = parseDatabaseUrl;\nfunction extractResourceQueryString(resource) {\n    if (typeof resource !== 'string') {\n        return null;\n    }\n    var _a = __read(resource.split('?'), 2), query = _a[1];\n    return query;\n}\nfunction sanitizeUrl(url) {\n    url = url.trim();\n    if (!url.includes('://')) {\n        // url does not contain scheme, add dummy 'none://' to make parser work correctly\n        return { schemeMissing: true, url: \"none://\".concat(url) };\n    }\n    return { schemeMissing: false, url: url };\n}\nfunction extractScheme(scheme) {\n    if (scheme != null) {\n        scheme = scheme.trim();\n        if (scheme.charAt(scheme.length - 1) === ':') {\n            scheme = scheme.substring(0, scheme.length - 1);\n        }\n        return scheme;\n    }\n    return null;\n}\nfunction extractHost(host, url) {\n    if (host == null) {\n        throw new Error('Unable to extract host from null or undefined URL');\n    }\n    return host.trim();\n}\nfunction extractPort(portString, scheme) {\n    var port = typeof portString === 'string' ? parseInt(portString, 10) : portString;\n    return port != null && !isNaN(port) ? port : defaultPortForScheme(scheme);\n}\nfunction extractQuery(queryString, url) {\n    var query = queryString != null ? trimAndSanitizeQuery(queryString) : null;\n    var context = {};\n    if (query != null) {\n        query.split('&').forEach(function (pair) {\n            var keyValue = pair.split('=');\n            if (keyValue.length !== 2) {\n                throw new Error(\"Invalid parameters: '\".concat(keyValue.toString(), \"' in URL '\").concat(url, \"'.\"));\n            }\n            var key = trimAndVerifyQueryElement(keyValue[0], 'key', url);\n            var value = trimAndVerifyQueryElement(keyValue[1], 'value', url);\n            if (context[key] !== undefined) {\n                throw new Error(\"Duplicated query parameters with key '\".concat(key, \"' in URL '\").concat(url, \"'\"));\n            }\n            context[key] = value;\n        });\n    }\n    return context;\n}\nfunction trimAndSanitizeQuery(query) {\n    query = (query !== null && query !== void 0 ? query : '').trim();\n    if ((query === null || query === void 0 ? void 0 : query.charAt(0)) === '?') {\n        query = query.substring(1, query.length);\n    }\n    return query;\n}\nfunction trimAndVerifyQueryElement(element, name, url) {\n    element = (element !== null && element !== void 0 ? element : '').trim();\n    if (element === '') {\n        throw new Error(\"Illegal empty \".concat(name, \" in URL query '\").concat(url, \"'\"));\n    }\n    return element;\n}\nfunction escapeIPv6Address(address) {\n    var startsWithSquareBracket = address.charAt(0) === '[';\n    var endsWithSquareBracket = address.charAt(address.length - 1) === ']';\n    if (!startsWithSquareBracket && !endsWithSquareBracket) {\n        return \"[\".concat(address, \"]\");\n    }\n    else if (startsWithSquareBracket && endsWithSquareBracket) {\n        return address;\n    }\n    else {\n        throw new Error(\"Illegal IPv6 address \".concat(address));\n    }\n}\nfunction formatHost(host) {\n    if (host === '' || host == null) {\n        throw new Error(\"Illegal host \".concat(host));\n    }\n    var isIPv6Address = host.includes(':');\n    return isIPv6Address ? escapeIPv6Address(host) : host;\n}\nfunction formatIPv4Address(address, port) {\n    return \"\".concat(address, \":\").concat(port);\n}\nexports.formatIPv4Address = formatIPv4Address;\nfunction formatIPv6Address(address, port) {\n    var escapedAddress = escapeIPv6Address(address);\n    return \"\".concat(escapedAddress, \":\").concat(port);\n}\nexports.formatIPv6Address = formatIPv6Address;\nfunction defaultPortForScheme(scheme) {\n    if (scheme === 'http') {\n        return DEFAULT_HTTP_PORT;\n    }\n    else if (scheme === 'https') {\n        return DEFAULT_HTTPS_PORT;\n    }\n    else {\n        return DEFAULT_BOLT_PORT;\n    }\n}\nexports.defaultPortForScheme = defaultPortForScheme;\nfunction uriJsParse(value) {\n    // JS version of Python partition function\n    function partition(s, delimiter) {\n        var i = s.indexOf(delimiter);\n        if (i >= 0)\n            return [s.substring(0, i), s[i], s.substring(i + 1)];\n        else\n            return [s, '', ''];\n    }\n    // JS version of Python rpartition function\n    function rpartition(s, delimiter) {\n        var i = s.lastIndexOf(delimiter);\n        if (i >= 0)\n            return [s.substring(0, i), s[i], s.substring(i + 1)];\n        else\n            return ['', '', s];\n    }\n    function between(s, ldelimiter, rdelimiter) {\n        var lpartition = partition(s, ldelimiter);\n        var rpartition = partition(lpartition[2], rdelimiter);\n        return [rpartition[0], rpartition[2]];\n    }\n    // Parse an authority string into an object\n    // with the following keys:\n    // - userInfo (optional, might contain both user name and password)\n    // - host\n    // - port (optional, included only as a string)\n    function parseAuthority(value) {\n        var parsed = {};\n        var parts;\n        // Parse user info\n        parts = rpartition(value, '@');\n        if (parts[1] === '@') {\n            parsed.userInfo = decodeURIComponent(parts[0]);\n            value = parts[2];\n        }\n        // Parse host and port\n        var _a = __read(between(value, '[', ']'), 2), ipv6Host = _a[0], rest = _a[1];\n        if (ipv6Host !== '') {\n            parsed.host = ipv6Host;\n            parts = partition(rest, ':');\n        }\n        else {\n            parts = partition(value, ':');\n            parsed.host = parts[0];\n        }\n        if (parts[1] === ':') {\n            parsed.port = parts[2];\n        }\n        return parsed;\n    }\n    var parsed = {};\n    var parts;\n    // Parse scheme\n    parts = partition(value, ':');\n    if (parts[1] === ':') {\n        parsed.scheme = decodeURIComponent(parts[0]);\n        value = parts[2];\n    }\n    // Parse fragment\n    parts = partition(value, '#');\n    if (parts[1] === '#') {\n        parsed.fragment = decodeURIComponent(parts[2]);\n        value = parts[0];\n    }\n    // Parse query\n    parts = partition(value, '?');\n    if (parts[1] === '?') {\n        parsed.query = parts[2];\n        value = parts[0];\n    }\n    // Parse authority and path\n    if (value.startsWith('//')) {\n        parts = partition(value.substr(2), '/');\n        parsed = __assign(__assign({}, parsed), parseAuthority(parts[0]));\n        parsed.path = parts[1] + parts[2];\n    }\n    else {\n        parsed.path = value;\n    }\n    return parsed;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ENCRYPTION_OFF = exports.ENCRYPTION_ON = exports.validateQueryAndParameters = exports.assertValidDate = exports.assertNumberOrInteger = exports.assertNumber = exports.assertString = exports.assertObject = exports.isString = exports.isObject = exports.isEmptyObjectOrNull = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar integer_1 = require(\"../integer\");\nvar json_1 = require(\"../json\");\nvar ENCRYPTION_ON = 'ENCRYPTION_ON';\nexports.ENCRYPTION_ON = ENCRYPTION_ON;\nvar ENCRYPTION_OFF = 'ENCRYPTION_OFF';\nexports.ENCRYPTION_OFF = ENCRYPTION_OFF;\n/**\n * Verifies if the object is null or empty\n * @param obj The subject object\n * @returns {boolean} True if it's empty object or null\n */\nfunction isEmptyObjectOrNull(obj) {\n    if (obj === null) {\n        return true;\n    }\n    if (!isObject(obj)) {\n        return false;\n    }\n    for (var prop in obj) {\n        if (obj[prop] !== undefined) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.isEmptyObjectOrNull = isEmptyObjectOrNull;\n/**\n * Verify if it's an object\n * @param obj The subject\n * @returns {boolean} True if it's an object\n */\nfunction isObject(obj) {\n    return typeof obj === 'object' && !Array.isArray(obj) && obj !== null;\n}\nexports.isObject = isObject;\n/**\n * Check and normalize given query and parameters.\n * @param {string|{text: string, parameters: Object}} query the query to check.\n * @param {Object} parameters\n * @return {{validatedQuery: string|{text: string, parameters: Object}, params: Object}} the normalized query with parameters.\n * @throws TypeError when either given query or parameters are invalid.\n */\nfunction validateQueryAndParameters(query, parameters, opt) {\n    var _a, _b;\n    var validatedQuery = '';\n    var params = parameters !== null && parameters !== void 0 ? parameters : {};\n    var skipAsserts = (_a = opt === null || opt === void 0 ? void 0 : opt.skipAsserts) !== null && _a !== void 0 ? _a : false;\n    if (typeof query === 'string') {\n        validatedQuery = query;\n    }\n    else if (query instanceof String) {\n        validatedQuery = query.toString();\n    }\n    else if (typeof query === 'object' && query.text != null) {\n        validatedQuery = query.text;\n        params = (_b = query.parameters) !== null && _b !== void 0 ? _b : {};\n    }\n    if (!skipAsserts) {\n        assertCypherQuery(validatedQuery);\n        assertQueryParameters(params);\n    }\n    return { validatedQuery: validatedQuery, params: params };\n}\nexports.validateQueryAndParameters = validateQueryAndParameters;\n/**\n * Assert it's a object\n * @param {any} obj The subject\n * @param {string} objName The object name\n * @returns {object} The subject object\n * @throws {TypeError} when the supplied param is not an object\n */\nfunction assertObject(obj, objName) {\n    if (!isObject(obj)) {\n        throw new TypeError(objName + ' expected to be an object but was: ' + (0, json_1.stringify)(obj));\n    }\n    return obj;\n}\nexports.assertObject = assertObject;\n/**\n * Assert it's a string\n * @param {any} obj The subject\n * @param {string} objName The object name\n * @returns {string} The subject string\n * @throws {TypeError} when the supplied param is not a string\n */\nfunction assertString(obj, objName) {\n    if (!isString(obj)) {\n        throw new TypeError((0, json_1.stringify)(objName) + ' expected to be string but was: ' + (0, json_1.stringify)(obj));\n    }\n    return obj;\n}\nexports.assertString = assertString;\n/**\n * Assert it's a number\n * @param {any} obj The subject\n * @param {string} objName The object name\n * @returns {number} The number\n * @throws {TypeError} when the supplied param is not a number\n */\nfunction assertNumber(obj, objName) {\n    if (typeof obj !== 'number') {\n        throw new TypeError(objName + ' expected to be a number but was: ' + (0, json_1.stringify)(obj));\n    }\n    return obj;\n}\nexports.assertNumber = assertNumber;\n/**\n * Assert it's a number or integer\n * @param {any} obj The subject\n * @param {string} objName The object name\n * @returns {number|Integer} The subject object\n * @throws {TypeError} when the supplied param is not a number or integer\n */\nfunction assertNumberOrInteger(obj, objName) {\n    if (typeof obj !== 'number' && typeof obj !== 'bigint' && !(0, integer_1.isInt)(obj)) {\n        throw new TypeError(objName +\n            ' expected to be either a number or an Integer object but was: ' +\n            (0, json_1.stringify)(obj));\n    }\n    return obj;\n}\nexports.assertNumberOrInteger = assertNumberOrInteger;\n/**\n * Assert it's a valid datae\n * @param {any} obj The subject\n * @param {string} objName The object name\n * @returns {Date} The valida date\n * @throws {TypeError} when the supplied param is not a valid date\n */\nfunction assertValidDate(obj, objName) {\n    if (Object.prototype.toString.call(obj) !== '[object Date]') {\n        throw new TypeError(objName +\n            ' expected to be a standard JavaScript Date but was: ' +\n            (0, json_1.stringify)(obj));\n    }\n    if (Number.isNaN(obj.getTime())) {\n        throw new TypeError(objName +\n            ' expected to be valid JavaScript Date but its time was NaN: ' +\n            (0, json_1.stringify)(obj));\n    }\n    return obj;\n}\nexports.assertValidDate = assertValidDate;\n/**\n * Validates a cypher query string\n * @param {any} obj The query\n * @returns {void}\n * @throws {TypeError} if the query is not valid\n */\nfunction assertCypherQuery(obj) {\n    assertString(obj, 'Cypher query');\n    if (obj.trim().length === 0) {\n        throw new TypeError('Cypher query is expected to be a non-empty string.');\n    }\n}\n/**\n * Validates if the query parameters is an object\n * @param {any} obj The parameters\n * @returns {void}\n * @throws {TypeError} if the parameters is not valid\n */\nfunction assertQueryParameters(obj) {\n    if (!isObject(obj)) {\n        // objects created with `Object.create(null)` do not have a constructor property\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        var constructor = obj.constructor != null ? ' ' + obj.constructor.name : '';\n        throw new TypeError(\"Query parameters are expected to either be undefined/null or an object, given:\".concat(constructor, \" \").concat(JSON.stringify(obj)));\n    }\n}\n/**\n * Verify if the supplied object is a string\n *\n * @param str The string\n * @returns {boolean} True if the supplied object is an string\n */\nfunction isString(str) {\n    return Object.prototype.toString.call(str) === '[object String]';\n}\nexports.isString = isString;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = void 0;\nvar object_util_1 = require(\"./internal/object-util\");\n/**\n * Custom version on JSON.stringify that can handle values that normally don't support serialization, such as BigInt.\n * @private\n * @param val A JavaScript value, usually an object or array, to be converted.\n * @returns A JSON string representing the given value.\n */\nfunction stringify(val) {\n    return JSON.stringify(val, function (_, value) {\n        if ((0, object_util_1.isBrokenObject)(value)) {\n            return {\n                __isBrokenObject__: true,\n                __reason__: (0, object_util_1.getBrokenObjectReason)(value)\n            };\n        }\n        if (typeof value === 'bigint') {\n            return \"\".concat(value, \"n\");\n        }\n        return value;\n    });\n}\nexports.stringify = stringify;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_1 = require(\"./error\");\nfunction generateFieldLookup(keys) {\n    var lookup = {};\n    keys.forEach(function (name, idx) {\n        lookup[name] = idx;\n    });\n    return lookup;\n}\n/**\n * Records make up the contents of the {@link Result}, and is how you access\n * the output of a query. A simple query might yield a result stream\n * with a single record, for instance:\n *\n *     MATCH (u:User) RETURN u.name, u.age\n *\n * This returns a stream of records with two fields, named `u.name` and `u.age`,\n * each record represents one user found by the query above. You can access\n * the values of each field either by name:\n *\n *     record.get(\"u.name\")\n *\n * Or by it's position:\n *\n *     record.get(0)\n *\n * @access public\n */\nvar Record = /** @class */ (function () {\n    /**\n     * Create a new record object.\n     * @constructor\n     * @protected\n     * @param {string[]} keys An array of field keys, in the order the fields appear in the record\n     * @param {Array} fields An array of field values\n     * @param {Object} fieldLookup An object of fieldName -> value index, used to map\n     *                            field names to values. If this is null, one will be\n     *                            generated.\n     */\n    function Record(keys, fields, fieldLookup) {\n        /**\n         * Field keys, in the order the fields appear in the record.\n         * @type {string[]}\n         */\n        this.keys = keys;\n        /**\n         * Number of fields\n         * @type {Number}\n         */\n        this.length = keys.length;\n        this._fields = fields;\n        this._fieldLookup = fieldLookup !== null && fieldLookup !== void 0 ? fieldLookup : generateFieldLookup(keys);\n    }\n    /**\n     * Run the given function for each field in this record. The function\n     * will get three arguments - the value, the key and this record, in that\n     * order.\n     *\n     * @param {function(value: Object, key: string, record: Record)} visitor the function to apply to each field.\n     * @returns {void} Nothing\n     */\n    Record.prototype.forEach = function (visitor) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], value = _d[1];\n                visitor(value, key, this);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * Run the given function for each field in this record. The function\n     * will get three arguments - the value, the key and this record, in that\n     * order.\n     *\n     * @param {function(value: Object, key: string, record: Record)} visitor the function to apply on each field\n     * and return a value that is saved to the returned Array.\n     *\n     * @returns {Array}\n     */\n    Record.prototype.map = function (visitor) {\n        var e_2, _a;\n        var resultArray = [];\n        try {\n            for (var _b = __values(this.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], value = _d[1];\n                resultArray.push(visitor(value, key, this));\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return resultArray;\n    };\n    /**\n     * Iterate over results. Each iteration will yield an array\n     * of exactly two items - the key, and the value (in order).\n     *\n     * @generator\n     * @returns {IterableIterator<Array>}\n     */\n    Record.prototype.entries = function () {\n        var i;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    i = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < this.keys.length)) return [3 /*break*/, 4];\n                    return [4 /*yield*/, [this.keys[i], this._fields[i]]];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/];\n            }\n        });\n    };\n    /**\n     * Iterate over values.\n     *\n     * @generator\n     * @returns {IterableIterator<Object>}\n     */\n    Record.prototype.values = function () {\n        var i;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    i = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < this.keys.length)) return [3 /*break*/, 4];\n                    return [4 /*yield*/, this._fields[i]];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/];\n            }\n        });\n    };\n    /**\n     * Iterate over values. Delegates to {@link Record#values}\n     *\n     * @generator\n     * @returns {IterableIterator<Object>}\n     */\n    Record.prototype[Symbol.iterator] = function () {\n        var i;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    i = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < this.keys.length)) return [3 /*break*/, 4];\n                    return [4 /*yield*/, this._fields[i]];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 4: return [2 /*return*/];\n            }\n        });\n    };\n    /**\n     * Generates an object out of the current Record\n     *\n     * @returns {Object}\n     */\n    Record.prototype.toObject = function () {\n        var e_3, _a;\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        var obj = {};\n        try {\n            for (var _b = __values(this.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], value = _d[1];\n                obj[key] = value;\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return obj;\n    };\n    /**\n     * Get a value from this record, either by index or by field key.\n     *\n     * @param {string|Number} key Field key, or the index of the field.\n     * @returns {*}\n     */\n    Record.prototype.get = function (key) {\n        var index;\n        if (!(typeof key === 'number')) {\n            index = this._fieldLookup[key];\n            if (index === undefined) {\n                throw (0, error_1.newError)(\"This record has no field with key '\".concat(key.toString(), \"', available keys are: [\") +\n                    this.keys.toString() +\n                    '].');\n            }\n        }\n        else {\n            index = key;\n        }\n        if (index > this._fields.length - 1 || index < 0) {\n            throw (0, error_1.newError)(\"This record has no field with index '\" +\n                index.toString() +\n                \"'. Remember that indexes start at `0`, \" +\n                'and make sure your query returns records in the shape you meant it to.');\n        }\n        return this._fields[index];\n    };\n    /**\n     * Check if a value from this record, either by index or by field key, exists.\n     *\n     * @param {string|Number} key Field key, or the index of the field.\n     * @returns {boolean}\n     */\n    Record.prototype.has = function (key) {\n        // if key is a number, we check if it is in the _fields array\n        if (typeof key === 'number') {\n            return key >= 0 && key < this._fields.length;\n        }\n        // if it's not a number, we check _fieldLookup dictionary directly\n        return this._fieldLookup[key] !== undefined;\n    };\n    return Record;\n}());\nexports.default = Record;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stats = exports.QueryStatistics = exports.ProfiledPlan = exports.Plan = exports.Notification = exports.ServerInfo = exports.queryType = void 0;\nvar integer_1 = __importStar(require(\"./integer\"));\n/**\n * A ResultSummary instance contains structured metadata for a {@link Result}.\n * @access public\n */\nvar ResultSummary = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {string} query - The query this summary is for\n     * @param {Object} parameters - Parameters for the query\n     * @param {Object} metadata - Query metadata\n     * @param {number|undefined} protocolVersion - Bolt Protocol Version\n     */\n    function ResultSummary(query, parameters, metadata, protocolVersion) {\n        var _a, _b, _c;\n        /**\n         * The query and parameters this summary is for.\n         * @type {{text: string, parameters: Object}}\n         * @public\n         */\n        this.query = { text: query, parameters: parameters };\n        /**\n         * The type of query executed. Can be \"r\" for read-only query, \"rw\" for read-write query,\n         * \"w\" for write-only query and \"s\" for schema-write query.\n         * String constants are available in {@link queryType} object.\n         * @type {string}\n         * @public\n         */\n        this.queryType = metadata.type;\n        /**\n         * Counters for operations the query triggered.\n         * @type {QueryStatistics}\n         * @public\n         */\n        this.counters = new QueryStatistics((_a = metadata.stats) !== null && _a !== void 0 ? _a : {});\n        // for backwards compatibility, remove in future version\n        /**\n         * Use {@link ResultSummary.counters} instead.\n         * @type {QueryStatistics}\n         * @deprecated\n         */\n        this.updateStatistics = this.counters;\n        /**\n         * This describes how the database will execute the query.\n         * Query plan for the executed query if available, otherwise undefined.\n         * Will only be populated for queries that start with \"EXPLAIN\".\n         * @type {Plan|false}\n         * @public\n         */\n        this.plan =\n            metadata.plan != null || metadata.profile != null\n                ? new Plan((_b = metadata.plan) !== null && _b !== void 0 ? _b : metadata.profile)\n                : false;\n        /**\n         * This describes how the database did execute your query. This will contain detailed information about what\n         * each step of the plan did. Profiled query plan for the executed query if available, otherwise undefined.\n         * Will only be populated for queries that start with \"PROFILE\".\n         * @type {ProfiledPlan}\n         * @public\n         */\n        this.profile = metadata.profile != null ? new ProfiledPlan(metadata.profile) : false;\n        /**\n         * An array of notifications that might arise when executing the query. Notifications can be warnings about\n         * problematic queries or other valuable information that can be presented in a client. Unlike failures\n         * or errors, notifications do not affect the execution of a query.\n         * @type {Array<Notification>}\n         * @public\n         */\n        this.notifications = this._buildNotifications(metadata.notifications);\n        /**\n         * The basic information of the server where the result is obtained from.\n         * @type {ServerInfo}\n         * @public\n         */\n        this.server = new ServerInfo(metadata.server, protocolVersion);\n        /**\n         * The time it took the server to consume the result.\n         * @type {number}\n         * @public\n         */\n        this.resultConsumedAfter = metadata.result_consumed_after;\n        /**\n         * The time it took the server to make the result available for consumption in milliseconds.\n         * @type {number}\n         * @public\n         */\n        this.resultAvailableAfter = metadata.result_available_after;\n        /**\n         * The database name where this summary is obtained from.\n         * @type {{name: string}}\n         * @public\n         */\n        this.database = { name: (_c = metadata.db) !== null && _c !== void 0 ? _c : null };\n    }\n    ResultSummary.prototype._buildNotifications = function (notifications) {\n        if (notifications == null) {\n            return [];\n        }\n        return notifications.map(function (n) {\n            return new Notification(n);\n        });\n    };\n    /**\n     * Check if the result summary has a plan\n     * @return {boolean}\n     */\n    ResultSummary.prototype.hasPlan = function () {\n        return this.plan instanceof Plan;\n    };\n    /**\n     * Check if the result summary has a profile\n     * @return {boolean}\n     */\n    ResultSummary.prototype.hasProfile = function () {\n        return this.profile instanceof ProfiledPlan;\n    };\n    return ResultSummary;\n}());\n/**\n * Class for execution plan received by prepending Cypher with EXPLAIN.\n * @access public\n */\nvar Plan = /** @class */ (function () {\n    /**\n     * Create a Plan instance\n     * @constructor\n     * @param {Object} plan - Object with plan data\n     */\n    function Plan(plan) {\n        this.operatorType = plan.operatorType;\n        this.identifiers = plan.identifiers;\n        this.arguments = plan.args;\n        this.children = plan.children != null\n            ? plan.children.map(function (child) { return new Plan(child); })\n            : [];\n    }\n    return Plan;\n}());\nexports.Plan = Plan;\n/**\n * Class for execution plan received by prepending Cypher with PROFILE.\n * @access public\n */\nvar ProfiledPlan = /** @class */ (function () {\n    /**\n     * Create a ProfiledPlan instance\n     * @constructor\n     * @param {Object} profile - Object with profile data\n     */\n    function ProfiledPlan(profile) {\n        this.operatorType = profile.operatorType;\n        this.identifiers = profile.identifiers;\n        this.arguments = profile.args;\n        this.dbHits = valueOrDefault('dbHits', profile);\n        this.rows = valueOrDefault('rows', profile);\n        this.pageCacheMisses = valueOrDefault('pageCacheMisses', profile);\n        this.pageCacheHits = valueOrDefault('pageCacheHits', profile);\n        this.pageCacheHitRatio = valueOrDefault('pageCacheHitRatio', profile);\n        this.time = valueOrDefault('time', profile);\n        this.children = profile.children != null\n            ? profile.children.map(function (child) { return new ProfiledPlan(child); })\n            : [];\n    }\n    ProfiledPlan.prototype.hasPageCacheStats = function () {\n        return (this.pageCacheMisses > 0 ||\n            this.pageCacheHits > 0 ||\n            this.pageCacheHitRatio > 0);\n    };\n    return ProfiledPlan;\n}());\nexports.ProfiledPlan = ProfiledPlan;\n/**\n * Stats Query statistics dictionary for a {@link QueryStatistics}\n * @public\n */\nvar Stats = /** @class */ (function () {\n    /**\n     * @constructor\n     * @private\n     */\n    function Stats() {\n        /**\n         * nodes created\n         * @type {number}\n         * @public\n         */\n        this.nodesCreated = 0;\n        /**\n         * nodes deleted\n         * @type {number}\n         * @public\n         */\n        this.nodesDeleted = 0;\n        /**\n         * relationships created\n         * @type {number}\n         * @public\n         */\n        this.relationshipsCreated = 0;\n        /**\n         * relationships deleted\n         * @type {number}\n         * @public\n         */\n        this.relationshipsDeleted = 0;\n        /**\n         * properties set\n         * @type {number}\n         * @public\n         */\n        this.propertiesSet = 0;\n        /**\n         * labels added\n         * @type {number}\n         * @public\n         */\n        this.labelsAdded = 0;\n        /**\n         * labels removed\n         * @type {number}\n         * @public\n         */\n        this.labelsRemoved = 0;\n        /**\n         * indexes added\n         * @type {number}\n         * @public\n         */\n        this.indexesAdded = 0;\n        /**\n         * indexes removed\n         * @type {number}\n         * @public\n         */\n        this.indexesRemoved = 0;\n        /**\n         * constraints added\n         * @type {number}\n         * @public\n         */\n        this.constraintsAdded = 0;\n        /**\n         * constraints removed\n         * @type {number}\n         * @public\n         */\n        this.constraintsRemoved = 0;\n    }\n    return Stats;\n}());\nexports.Stats = Stats;\n/**\n * Get statistical information for a {@link Result}.\n * @access public\n */\nvar QueryStatistics = /** @class */ (function () {\n    /**\n     * Structurize the statistics\n     * @constructor\n     * @param {Object} statistics - Result statistics\n     */\n    function QueryStatistics(statistics) {\n        var _this = this;\n        this._stats = {\n            nodesCreated: 0,\n            nodesDeleted: 0,\n            relationshipsCreated: 0,\n            relationshipsDeleted: 0,\n            propertiesSet: 0,\n            labelsAdded: 0,\n            labelsRemoved: 0,\n            indexesAdded: 0,\n            indexesRemoved: 0,\n            constraintsAdded: 0,\n            constraintsRemoved: 0\n        };\n        this._systemUpdates = 0;\n        Object.keys(statistics).forEach(function (index) {\n            // To camelCase\n            var camelCaseIndex = index.replace(/(-\\w)/g, function (m) { return m[1].toUpperCase(); });\n            if (camelCaseIndex in _this._stats) {\n                _this._stats[camelCaseIndex] = intValue(statistics[index]);\n            }\n            else if (camelCaseIndex === 'systemUpdates') {\n                _this._systemUpdates = intValue(statistics[index]);\n            }\n            else if (camelCaseIndex === 'containsSystemUpdates') {\n                _this._containsSystemUpdates = statistics[index];\n            }\n            else if (camelCaseIndex === 'containsUpdates') {\n                _this._containsUpdates = statistics[index];\n            }\n        });\n        this._stats = Object.freeze(this._stats);\n    }\n    /**\n     * Did the database get updated?\n     * @return {boolean}\n     */\n    QueryStatistics.prototype.containsUpdates = function () {\n        var _this = this;\n        return this._containsUpdates !== undefined\n            ? this._containsUpdates\n            : (Object.keys(this._stats).reduce(function (last, current) {\n                return last + _this._stats[current];\n            }, 0) > 0);\n    };\n    /**\n     * Returns the query statistics updates in a dictionary.\n     * @returns {Stats}\n     */\n    QueryStatistics.prototype.updates = function () {\n        return this._stats;\n    };\n    /**\n     * Return true if the system database get updated, otherwise false\n     * @returns {boolean} - If the system database get updated or not.\n     */\n    QueryStatistics.prototype.containsSystemUpdates = function () {\n        return this._containsSystemUpdates !== undefined\n            ? this._containsSystemUpdates\n            : this._systemUpdates > 0;\n    };\n    /**\n     * @returns {number} - Number of system updates\n     */\n    QueryStatistics.prototype.systemUpdates = function () {\n        return this._systemUpdates;\n    };\n    return QueryStatistics;\n}());\nexports.QueryStatistics = QueryStatistics;\n/**\n * Class for Cypher notifications\n * @access public\n */\nvar Notification = /** @class */ (function () {\n    /**\n     * Create a Notification instance\n     * @constructor\n     * @param {Object} notification - Object with notification data\n     */\n    function Notification(notification) {\n        this.code = notification.code;\n        this.title = notification.title;\n        this.description = notification.description;\n        this.severity = notification.severity;\n        this.position = Notification._constructPosition(notification.position);\n    }\n    Notification._constructPosition = function (pos) {\n        if (pos == null) {\n            return {};\n        }\n        /* eslint-disable @typescript-eslint/no-non-null-assertion */\n        return {\n            offset: intValue(pos.offset),\n            line: intValue(pos.line),\n            column: intValue(pos.column)\n        };\n        /* eslint-enable @typescript-eslint/no-non-null-assertion */\n    };\n    return Notification;\n}());\nexports.Notification = Notification;\n/**\n * Class for exposing server info from a result.\n * @access public\n */\nvar ServerInfo = /** @class */ (function () {\n    /**\n     * Create a ServerInfo instance\n     * @constructor\n     * @param {Object} serverMeta - Object with serverMeta data\n     * @param {Object} connectionInfo - Bolt connection info\n     * @param {number} protocolVersion - Bolt Protocol Version\n     */\n    function ServerInfo(serverMeta, protocolVersion) {\n        if (serverMeta != null) {\n            /**\n             * The server adress\n             * @type {string}\n             * @public\n             */\n            this.address = serverMeta.address;\n            /**\n             * The server user agent string\n             * @type {string}\n             * @public\n             */\n            this.agent = serverMeta.version;\n        }\n        /**\n         * The protocol version used by the connection\n         * @type {number}\n         * @public\n         */\n        this.protocolVersion = protocolVersion;\n    }\n    return ServerInfo;\n}());\nexports.ServerInfo = ServerInfo;\nfunction intValue(value) {\n    if (value instanceof integer_1.default) {\n        return value.toInt();\n    }\n    else if (typeof value === 'bigint') {\n        return (0, integer_1.int)(value).toInt();\n    }\n    else {\n        return value;\n    }\n}\nfunction valueOrDefault(key, values, defaultValue) {\n    if (defaultValue === void 0) { defaultValue = 0; }\n    if (values !== false && key in values) {\n        var value = values[key];\n        return intValue(value);\n    }\n    else {\n        return defaultValue;\n    }\n}\n/**\n * The constants for query types\n * @type {{SCHEMA_WRITE: string, WRITE_ONLY: string, READ_ONLY: string, READ_WRITE: string}}\n */\nvar queryType = {\n    READ_ONLY: 'r',\n    READ_WRITE: 'rw',\n    WRITE_ONLY: 'w',\n    SCHEMA_WRITE: 's'\n};\nexports.queryType = queryType;\nexports.default = ResultSummary;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable @typescript-eslint/promise-function-async */\nvar result_summary_1 = __importDefault(require(\"./result-summary\"));\nvar internal_1 = require(\"./internal\");\nvar error_1 = require(\"./error\");\nvar EMPTY_CONNECTION_HOLDER = internal_1.connectionHolder.EMPTY_CONNECTION_HOLDER;\n/**\n * @private\n * @param {Error} error The error\n * @returns {void}\n */\nvar DEFAULT_ON_ERROR = function (error) {\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands, @typescript-eslint/no-base-to-string\n    console.log('Uncaught error when processing result: ' + error);\n};\n/**\n * @private\n * @param {ResultSummary} summary\n * @returns {void}\n */\nvar DEFAULT_ON_COMPLETED = function (summary) { };\n/**\n * @private\n * @param {string[]} keys List of keys of the record in the result\n * @return {void}\n */\nvar DEFAULT_ON_KEYS = function (keys) { };\n/**\n * A stream of {@link Record} representing the result of a query.\n * Can be consumed eagerly as {@link Promise} resolved with array of records and {@link ResultSummary}\n * summary, or rejected with error that contains {@link string} code and {@link string} message.\n * Alternatively can be consumed lazily using {@link Result#subscribe} function.\n * @access public\n */\nvar Result = /** @class */ (function () {\n    /**\n     * Inject the observer to be used.\n     * @constructor\n     * @access private\n     * @param {Promise<observer.ResultStreamObserver>} streamObserverPromise\n     * @param {mixed} query - Cypher query to execute\n     * @param {Object} parameters - Map with parameters to use in query\n     * @param {ConnectionHolder} connectionHolder - to be notified when result is either fully consumed or error happened.\n     */\n    function Result(streamObserverPromise, query, parameters, connectionHolder, watermarks) {\n        if (watermarks === void 0) { watermarks = { high: Number.MAX_VALUE, low: Number.MAX_VALUE }; }\n        this._stack = captureStacktrace();\n        this._streamObserverPromise = streamObserverPromise;\n        this._p = null;\n        this._query = query;\n        this._parameters = parameters !== null && parameters !== void 0 ? parameters : {};\n        this._connectionHolder = connectionHolder !== null && connectionHolder !== void 0 ? connectionHolder : EMPTY_CONNECTION_HOLDER;\n        this._keys = null;\n        this._summary = null;\n        this._error = null;\n        this._watermarks = watermarks;\n    }\n    /**\n     * Returns a promise for the field keys.\n     *\n     * *Should not be combined with {@link Result#subscribe} function.*\n     *\n     * @public\n     * @returns {Promise<string[]>} - Field keys, in the order they will appear in records.\n     }\n     */\n    Result.prototype.keys = function () {\n        var _this = this;\n        if (this._keys !== null) {\n            return Promise.resolve(this._keys);\n        }\n        else if (this._error !== null) {\n            return Promise.reject(this._error);\n        }\n        return new Promise(function (resolve, reject) {\n            _this._streamObserverPromise\n                .then(function (observer) {\n                return observer.subscribe(_this._decorateObserver({\n                    onKeys: function (keys) { return resolve(keys); },\n                    onError: function (err) { return reject(err); }\n                }));\n            })\n                .catch(reject);\n        });\n    };\n    /**\n     * Returns a promise for the result summary.\n     *\n     * *Should not be combined with {@link Result#subscribe} function.*\n     *\n     * @public\n     * @returns {Promise<ResultSummary>} - Result summary.\n     *\n     */\n    Result.prototype.summary = function () {\n        var _this = this;\n        if (this._summary !== null) {\n            return Promise.resolve(this._summary);\n        }\n        else if (this._error !== null) {\n            return Promise.reject(this._error);\n        }\n        return new Promise(function (resolve, reject) {\n            _this._streamObserverPromise\n                .then(function (o) {\n                o.cancel();\n                o.subscribe(_this._decorateObserver({\n                    onCompleted: function (summary) { return resolve(summary); },\n                    onError: function (err) { return reject(err); }\n                }));\n            })\n                .catch(reject);\n        });\n    };\n    /**\n     * Create and return new Promise\n     *\n     * @private\n     * @return {Promise} new Promise.\n     */\n    Result.prototype._getOrCreatePromise = function () {\n        var _this = this;\n        if (this._p == null) {\n            this._p = new Promise(function (resolve, reject) {\n                var records = [];\n                var observer = {\n                    onNext: function (record) {\n                        records.push(record);\n                    },\n                    onCompleted: function (summary) {\n                        resolve({ records: records, summary: summary });\n                    },\n                    onError: function (error) {\n                        reject(error);\n                    }\n                };\n                _this.subscribe(observer);\n            });\n        }\n        return this._p;\n    };\n    /**\n     * Provides a async iterator over the records in the result.\n     *\n     * *Should not be combined with {@link Result#subscribe} or ${@link Result#then} functions.*\n     *\n     * @public\n     * @returns {PeekableAsyncIterator<Record<RecordShape>, ResultSummary>} The async iterator for the Results\n     */\n    Result.prototype[Symbol.asyncIterator] = function () {\n        var _this = this;\n        if (!this.isOpen()) {\n            var error_2 = (0, error_1.newError)('Result is already consumed');\n            return {\n                next: function () { return Promise.reject(error_2); },\n                peek: function () { return Promise.reject(error_2); }\n            };\n        }\n        var state = { paused: true, firstRun: true, finished: false };\n        var controlFlow = function () {\n            var _a, _b;\n            if (state.streaming == null) {\n                return;\n            }\n            var size = (_b = (_a = state.queuedObserver) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;\n            var queueSizeIsOverHighOrEqualWatermark = size >= _this._watermarks.high;\n            var queueSizeIsBellowOrEqualLowWatermark = size <= _this._watermarks.low;\n            if (queueSizeIsOverHighOrEqualWatermark && !state.paused) {\n                state.paused = true;\n                state.streaming.pause();\n            }\n            else if ((queueSizeIsBellowOrEqualLowWatermark && state.paused) || (state.firstRun && !queueSizeIsOverHighOrEqualWatermark)) {\n                state.firstRun = false;\n                state.paused = false;\n                state.streaming.resume();\n            }\n        };\n        var initializeObserver = function () { return __awaiter(_this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(state.queuedObserver === undefined)) return [3 /*break*/, 2];\n                        state.queuedObserver = this._createQueuedResultObserver(controlFlow);\n                        _a = state;\n                        return [4 /*yield*/, this._subscribe(state.queuedObserver, true).catch(function () { return undefined; })];\n                    case 1:\n                        _a.streaming = _b.sent();\n                        controlFlow();\n                        _b.label = 2;\n                    case 2: return [2 /*return*/, state.queuedObserver];\n                }\n            });\n        }); };\n        var assertSummary = function (summary) {\n            if (summary === undefined) {\n                throw (0, error_1.newError)('InvalidState: Result stream finished without Summary', error_1.PROTOCOL_ERROR);\n            }\n            return true;\n        };\n        return {\n            next: function () { return __awaiter(_this, void 0, void 0, function () {\n                var queuedObserver, next;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (state.finished) {\n                                if (assertSummary(state.summary)) {\n                                    return [2 /*return*/, { done: true, value: state.summary }];\n                                }\n                            }\n                            return [4 /*yield*/, initializeObserver()];\n                        case 1:\n                            queuedObserver = _a.sent();\n                            return [4 /*yield*/, queuedObserver.dequeue()];\n                        case 2:\n                            next = _a.sent();\n                            if (next.done === true) {\n                                state.finished = next.done;\n                                state.summary = next.value;\n                            }\n                            return [2 /*return*/, next];\n                    }\n                });\n            }); },\n            return: function (value) { return __awaiter(_this, void 0, void 0, function () {\n                var queuedObserver, last;\n                var _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (state.finished) {\n                                if (assertSummary(state.summary)) {\n                                    return [2 /*return*/, { done: true, value: value !== null && value !== void 0 ? value : state.summary }];\n                                }\n                            }\n                            (_a = state.streaming) === null || _a === void 0 ? void 0 : _a.cancel();\n                            return [4 /*yield*/, initializeObserver()];\n                        case 1:\n                            queuedObserver = _b.sent();\n                            return [4 /*yield*/, queuedObserver.dequeueUntilDone()];\n                        case 2:\n                            last = _b.sent();\n                            state.finished = true;\n                            last.value = value !== null && value !== void 0 ? value : last.value;\n                            state.summary = last.value;\n                            return [2 /*return*/, last];\n                    }\n                });\n            }); },\n            peek: function () { return __awaiter(_this, void 0, void 0, function () {\n                var queuedObserver;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (state.finished) {\n                                if (assertSummary(state.summary)) {\n                                    return [2 /*return*/, { done: true, value: state.summary }];\n                                }\n                            }\n                            return [4 /*yield*/, initializeObserver()];\n                        case 1:\n                            queuedObserver = _a.sent();\n                            return [4 /*yield*/, queuedObserver.head()];\n                        case 2: return [2 /*return*/, _a.sent()];\n                    }\n                });\n            }); }\n        };\n    };\n    /**\n     * Waits for all results and calls the passed in function with the results.\n     *\n     * *Should not be combined with {@link Result#subscribe} function.*\n     *\n     * @param {function(result: {records:Array<Record>, summary: ResultSummary})} onFulfilled - function to be called\n     * when finished.\n     * @param {function(error: {message:string, code:string})} onRejected - function to be called upon errors.\n     * @return {Promise} promise.\n     */\n    Result.prototype.then = function (onFulfilled, onRejected) {\n        return this._getOrCreatePromise().then(onFulfilled, onRejected);\n    };\n    /**\n     * Catch errors when using promises.\n     *\n     * *Should not be combined with {@link Result#subscribe} function.*\n     *\n     * @param {function(error: Neo4jError)} onRejected - Function to be called upon errors.\n     * @return {Promise} promise.\n     */\n    Result.prototype.catch = function (onRejected) {\n        return this._getOrCreatePromise().catch(onRejected);\n    };\n    Result.prototype.finally = function (onfinally) {\n        return this._getOrCreatePromise().finally(onfinally);\n    };\n    /**\n     * Stream records to observer as they come in, this is a more efficient method\n     * of handling the results, and allows you to handle arbitrarily large results.\n     *\n     * @param {Object} observer - Observer object\n     * @param {function(keys: string[])} observer.onKeys - handle stream head, the field keys.\n     * @param {function(record: Record)} observer.onNext - handle records, one by one.\n     * @param {function(summary: ResultSummary)} observer.onCompleted - handle stream tail, the result summary.\n     * @param {function(error: {message:string, code:string})} observer.onError - handle errors.\n     * @return {void}\n     */\n    Result.prototype.subscribe = function (observer) {\n        this._subscribe(observer)\n            .catch(function () { });\n    };\n    /**\n     * Check if this result is active, i.e., neither a summary nor an error has been received by the result.\n     * @return {boolean} `true` when neither a summary or nor an error has been received by the result.\n     */\n    Result.prototype.isOpen = function () {\n        return this._summary === null && this._error === null;\n    };\n    /**\n     * Stream records to observer as they come in, this is a more efficient method\n     * of handling the results, and allows you to handle arbitrarily large results.\n     *\n     * @access private\n     * @param {ResultObserver} observer The observer to send records to.\n     * @param {boolean} paused The flag to indicate if the stream should be started paused\n     * @returns {Promise<observer.ResultStreamObserver>} The result stream observer.\n     */\n    Result.prototype._subscribe = function (observer, paused) {\n        if (paused === void 0) { paused = false; }\n        var _observer = this._decorateObserver(observer);\n        return this._streamObserverPromise\n            .then(function (o) {\n            if (paused) {\n                o.pause();\n            }\n            o.subscribe(_observer);\n            return o;\n        })\n            .catch(function (error) {\n            if (_observer.onError != null) {\n                _observer.onError(error);\n            }\n            return Promise.reject(error);\n        });\n    };\n    /**\n     * Decorates the ResultObserver with the necessary methods.\n     *\n     * @access private\n     * @param {ResultObserver} observer The ResultObserver to decorate.\n     * @returns The decorated result observer\n     */\n    Result.prototype._decorateObserver = function (observer) {\n        var _this = this;\n        var _a, _b, _c;\n        var onCompletedOriginal = (_a = observer.onCompleted) !== null && _a !== void 0 ? _a : DEFAULT_ON_COMPLETED;\n        var onErrorOriginal = (_b = observer.onError) !== null && _b !== void 0 ? _b : DEFAULT_ON_ERROR;\n        var onKeysOriginal = (_c = observer.onKeys) !== null && _c !== void 0 ? _c : DEFAULT_ON_KEYS;\n        var onCompletedWrapper = function (metadata) {\n            _this._releaseConnectionAndGetSummary(metadata).then(function (summary) {\n                if (_this._summary !== null) {\n                    return onCompletedOriginal.call(observer, _this._summary);\n                }\n                _this._summary = summary;\n                return onCompletedOriginal.call(observer, summary);\n            }).catch(onErrorOriginal);\n        };\n        var onErrorWrapper = function (error) {\n            // notify connection holder that the used connection is not needed any more because error happened\n            // and result can't bee consumed any further; call the original onError callback after that\n            _this._connectionHolder.releaseConnection().then(function () {\n                replaceStacktrace(error, _this._stack);\n                _this._error = error;\n                onErrorOriginal.call(observer, error);\n            }).catch(onErrorOriginal);\n        };\n        var onKeysWrapper = function (keys) {\n            _this._keys = keys;\n            return onKeysOriginal.call(observer, keys);\n        };\n        return {\n            onNext: (observer.onNext != null) ? observer.onNext.bind(observer) : undefined,\n            onKeys: onKeysWrapper,\n            onCompleted: onCompletedWrapper,\n            onError: onErrorWrapper\n        };\n    };\n    /**\n     * Signals the stream observer that the future records should be discarded on the server.\n     *\n     * @protected\n     * @since 4.0.0\n     * @returns {void}\n     */\n    Result.prototype._cancel = function () {\n        if (this._summary === null && this._error === null) {\n            this._streamObserverPromise.then(function (o) { return o.cancel(); })\n                .catch(function () { });\n        }\n    };\n    /**\n     * @access private\n     * @param metadata\n     * @returns\n     */\n    Result.prototype._releaseConnectionAndGetSummary = function (metadata) {\n        var _a = internal_1.util.validateQueryAndParameters(this._query, this._parameters, {\n            skipAsserts: true\n        }), query = _a.validatedQuery, parameters = _a.params;\n        var connectionHolder = this._connectionHolder;\n        return connectionHolder\n            .getConnection()\n            .then(\n        // onFulfilled:\n        function (connection) {\n            return connectionHolder\n                .releaseConnection()\n                .then(function () { var _a; return (_a = connection === null || connection === void 0 ? void 0 : connection.protocol()) === null || _a === void 0 ? void 0 : _a.version; });\n        }, \n        // onRejected:\n        function (_) { return undefined; })\n            .then(function (protocolVersion) {\n            return new result_summary_1.default(query, parameters, metadata, protocolVersion);\n        });\n    };\n    /**\n     * @access private\n     */\n    Result.prototype._createQueuedResultObserver = function (onQueueSizeChanged) {\n        var _this = this;\n        function createResolvablePromise() {\n            var resolvablePromise = {};\n            resolvablePromise.promise = new Promise(function (resolve, reject) {\n                resolvablePromise.resolve = resolve;\n                resolvablePromise.reject = reject;\n            });\n            return resolvablePromise;\n        }\n        function isError(elementOrError) {\n            return elementOrError instanceof Error;\n        }\n        function dequeue() {\n            var _a;\n            return __awaiter(this, void 0, void 0, function () {\n                var element;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (buffer.length > 0) {\n                                element = (_a = buffer.shift()) !== null && _a !== void 0 ? _a : (0, error_1.newError)('Unexpected empty buffer', error_1.PROTOCOL_ERROR);\n                                onQueueSizeChanged();\n                                if (isError(element)) {\n                                    throw element;\n                                }\n                                return [2 /*return*/, element];\n                            }\n                            promiseHolder.resolvable = createResolvablePromise();\n                            return [4 /*yield*/, promiseHolder.resolvable.promise];\n                        case 1: return [2 /*return*/, _b.sent()];\n                    }\n                });\n            });\n        }\n        var buffer = [];\n        var promiseHolder = { resolvable: null };\n        var observer = {\n            onNext: function (record) {\n                observer._push({ done: false, value: record });\n            },\n            onCompleted: function (summary) {\n                observer._push({ done: true, value: summary });\n            },\n            onError: function (error) {\n                observer._push(error);\n            },\n            _push: function (element) {\n                if (promiseHolder.resolvable !== null) {\n                    var resolvable = promiseHolder.resolvable;\n                    promiseHolder.resolvable = null;\n                    if (isError(element)) {\n                        resolvable.reject(element);\n                    }\n                    else {\n                        resolvable.resolve(element);\n                    }\n                }\n                else {\n                    buffer.push(element);\n                    onQueueSizeChanged();\n                }\n            },\n            dequeue: dequeue,\n            dequeueUntilDone: function () { return __awaiter(_this, void 0, void 0, function () {\n                var element;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!true) return [3 /*break*/, 2];\n                            return [4 /*yield*/, dequeue()];\n                        case 1:\n                            element = _a.sent();\n                            if (element.done === true) {\n                                return [2 /*return*/, element];\n                            }\n                            return [3 /*break*/, 0];\n                        case 2: return [2 /*return*/];\n                    }\n                });\n            }); },\n            head: function () { return __awaiter(_this, void 0, void 0, function () {\n                var element, element, error_3;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (buffer.length > 0) {\n                                element = buffer[0];\n                                if (isError(element)) {\n                                    throw element;\n                                }\n                                return [2 /*return*/, element];\n                            }\n                            promiseHolder.resolvable = createResolvablePromise();\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, 4, 5]);\n                            return [4 /*yield*/, promiseHolder.resolvable.promise];\n                        case 2:\n                            element = _a.sent();\n                            buffer.unshift(element);\n                            return [2 /*return*/, element];\n                        case 3:\n                            error_3 = _a.sent();\n                            buffer.unshift(error_3);\n                            throw error_3;\n                        case 4:\n                            onQueueSizeChanged();\n                            return [7 /*endfinally*/];\n                        case 5: return [2 /*return*/];\n                    }\n                });\n            }); },\n            get size() {\n                return buffer.length;\n            }\n        };\n        return observer;\n    };\n    return Result;\n}());\nSymbol.toStringTag;\nfunction captureStacktrace() {\n    var error = new Error('');\n    if (error.stack != null) {\n        return error.stack.replace(/^Error(\\n\\r)*/, ''); // we don't need the 'Error\\n' part, if only it exists\n    }\n    return null;\n}\n/**\n * @private\n * @param {Error} error The error\n * @param {string| null} newStack The newStack\n * @returns {void}\n */\nfunction replaceStacktrace(error, newStack) {\n    if (newStack != null) {\n        // Error.prototype.toString() concatenates error.name and error.message nicely\n        // then we add the rest of the stack trace\n        // eslint-disable-next-line @typescript-eslint/no-base-to-string\n        error.stack = error.toString() + '\\n' + newStack;\n    }\n}\nexports.default = Result;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable @typescript-eslint/promise-function-async */\nvar observers_1 = require(\"./internal/observers\");\nvar util_1 = require(\"./internal/util\");\nvar constants_1 = require(\"./internal/constants\");\nvar error_1 = require(\"./error\");\nvar result_1 = __importDefault(require(\"./result\"));\nvar connection_holder_1 = require(\"./internal/connection-holder\");\nvar transaction_executor_1 = require(\"./internal/transaction-executor\");\nvar bookmarks_1 = require(\"./internal/bookmarks\");\nvar tx_config_1 = require(\"./internal/tx-config\");\nvar transaction_promise_1 = __importDefault(require(\"./transaction-promise\"));\nvar transaction_managed_1 = __importDefault(require(\"./transaction-managed\"));\n/**\n * A Session instance is used for handling the connection and\n * sending queries through the connection.\n * In a single session, multiple queries will be executed serially.\n * In order to execute parallel queries, multiple sessions are required.\n * @access public\n */\nvar Session = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {Object} args\n     * @param {string} args.mode the default access mode for this session.\n     * @param {ConnectionProvider} args.connectionProvider - The connection provider to acquire connections from.\n     * @param {Bookmarks} args.bookmarks - The initial bookmarks for this session.\n     * @param {string} args.database the database name\n     * @param {Object} args.config={} - This driver configuration.\n     * @param {boolean} args.reactive - Whether this session should create reactive streams\n     * @param {number} args.fetchSize - Defines how many records is pulled in each pulling batch\n     * @param {string} args.impersonatedUser - The username which the user wants to impersonate for the duration of the session.\n     */\n    function Session(_a) {\n        var mode = _a.mode, connectionProvider = _a.connectionProvider, bookmarks = _a.bookmarks, database = _a.database, config = _a.config, reactive = _a.reactive, fetchSize = _a.fetchSize, impersonatedUser = _a.impersonatedUser, bookmarkManager = _a.bookmarkManager;\n        this._mode = mode;\n        this._database = database;\n        this._reactive = reactive;\n        this._fetchSize = fetchSize;\n        this._onDatabaseNameResolved = this._onDatabaseNameResolved.bind(this);\n        this._getConnectionAcquistionBookmarks = this._getConnectionAcquistionBookmarks.bind(this);\n        this._readConnectionHolder = new connection_holder_1.ConnectionHolder({\n            mode: constants_1.ACCESS_MODE_READ,\n            database: database,\n            bookmarks: bookmarks,\n            connectionProvider: connectionProvider,\n            impersonatedUser: impersonatedUser,\n            onDatabaseNameResolved: this._onDatabaseNameResolved,\n            getConnectionAcquistionBookmarks: this._getConnectionAcquistionBookmarks\n        });\n        this._writeConnectionHolder = new connection_holder_1.ConnectionHolder({\n            mode: constants_1.ACCESS_MODE_WRITE,\n            database: database,\n            bookmarks: bookmarks,\n            connectionProvider: connectionProvider,\n            impersonatedUser: impersonatedUser,\n            onDatabaseNameResolved: this._onDatabaseNameResolved,\n            getConnectionAcquistionBookmarks: this._getConnectionAcquistionBookmarks\n        });\n        this._open = true;\n        this._hasTx = false;\n        this._impersonatedUser = impersonatedUser;\n        this._lastBookmarks = bookmarks !== null && bookmarks !== void 0 ? bookmarks : bookmarks_1.Bookmarks.empty();\n        this._configuredBookmarks = this._lastBookmarks;\n        this._transactionExecutor = _createTransactionExecutor(config);\n        this._databaseNameResolved = this._database !== '';\n        var calculatedWatermaks = this._calculateWatermaks();\n        this._lowRecordWatermark = calculatedWatermaks.low;\n        this._highRecordWatermark = calculatedWatermaks.high;\n        this._results = [];\n        this._bookmarkManager = bookmarkManager;\n    }\n    /**\n     * Run Cypher query\n     * Could be called with a query object i.e.: `{text: \"MATCH ...\", parameters: {param: 1}}`\n     * or with the query and parameters as separate arguments.\n     *\n     * @public\n     * @param {mixed} query - Cypher query to execute\n     * @param {Object} parameters - Map with parameters to use in query\n     * @param {TransactionConfig} [transactionConfig] - Configuration for the new auto-commit transaction.\n     * @return {Result} New Result.\n     */\n    Session.prototype.run = function (query, parameters, transactionConfig) {\n        var _this = this;\n        var _a = (0, util_1.validateQueryAndParameters)(query, parameters), validatedQuery = _a.validatedQuery, params = _a.params;\n        var autoCommitTxConfig = (transactionConfig != null)\n            ? new tx_config_1.TxConfig(transactionConfig)\n            : tx_config_1.TxConfig.empty();\n        var result = this._run(validatedQuery, params, function (connection) { return __awaiter(_this, void 0, void 0, function () {\n            var bookmarks;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._bookmarks()];\n                    case 1:\n                        bookmarks = _a.sent();\n                        this._assertSessionIsOpen();\n                        return [2 /*return*/, connection.protocol().run(validatedQuery, params, {\n                                bookmarks: bookmarks,\n                                txConfig: autoCommitTxConfig,\n                                mode: this._mode,\n                                database: this._database,\n                                impersonatedUser: this._impersonatedUser,\n                                afterComplete: function (meta) { return _this._onCompleteCallback(meta, bookmarks); },\n                                reactive: this._reactive,\n                                fetchSize: this._fetchSize,\n                                lowRecordWatermark: this._lowRecordWatermark,\n                                highRecordWatermark: this._highRecordWatermark\n                            })];\n                }\n            });\n        }); });\n        this._results.push(result);\n        return result;\n    };\n    Session.prototype._run = function (query, parameters, customRunner) {\n        var connectionHolder = this._connectionHolderWithMode(this._mode);\n        var observerPromise;\n        if (!this._open) {\n            observerPromise = Promise.resolve(new observers_1.FailedObserver({\n                error: (0, error_1.newError)('Cannot run query in a closed session.')\n            }));\n        }\n        else if (!this._hasTx && connectionHolder.initializeConnection()) {\n            observerPromise = connectionHolder\n                .getConnection()\n                .then(function (connection) { return customRunner(connection); })\n                .catch(function (error) { return Promise.resolve(new observers_1.FailedObserver({ error: error })); });\n        }\n        else {\n            observerPromise = Promise.resolve(new observers_1.FailedObserver({\n                error: (0, error_1.newError)('Queries cannot be run directly on a ' +\n                    'session with an open transaction; either run from within the ' +\n                    'transaction or use a different session.')\n            }));\n        }\n        var watermarks = { high: this._highRecordWatermark, low: this._lowRecordWatermark };\n        return new result_1.default(observerPromise, query, parameters, connectionHolder, watermarks);\n    };\n    Session.prototype._acquireConnection = function (connectionConsumer) {\n        var _this = this;\n        var promise;\n        var connectionHolder = this._connectionHolderWithMode(this._mode);\n        if (!this._open) {\n            promise = Promise.reject((0, error_1.newError)('Cannot run query in a closed session.'));\n        }\n        else if (!this._hasTx && connectionHolder.initializeConnection()) {\n            promise = connectionHolder\n                .getConnection()\n                .then(function (connection) { return connectionConsumer(connection); })\n                .then(function (result) { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, connectionHolder.releaseConnection()];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            }); });\n        }\n        else {\n            promise = Promise.reject((0, error_1.newError)('Queries cannot be run directly on a ' +\n                'session with an open transaction; either run from within the ' +\n                'transaction or use a different session.'));\n        }\n        return promise;\n    };\n    /**\n     * Begin a new transaction in this session. A session can have at most one transaction running at a time, if you\n     * want to run multiple concurrent transactions, you should use multiple concurrent sessions.\n     *\n     * While a transaction is open the session cannot be used to run queries outside the transaction.\n     *\n     * @param {TransactionConfig} [transactionConfig] - Configuration for the new auto-commit transaction.\n     * @returns {TransactionPromise} New Transaction.\n     */\n    Session.prototype.beginTransaction = function (transactionConfig) {\n        // this function needs to support bookmarks parameter for backwards compatibility\n        // parameter was of type {string|string[]} and represented either a single or multiple bookmarks\n        // that's why we need to check parameter type and decide how to interpret the value\n        var arg = transactionConfig;\n        var txConfig = tx_config_1.TxConfig.empty();\n        if (arg != null) {\n            txConfig = new tx_config_1.TxConfig(arg);\n        }\n        return this._beginTransaction(this._mode, txConfig);\n    };\n    Session.prototype._beginTransaction = function (accessMode, txConfig) {\n        var _this = this;\n        if (!this._open) {\n            throw (0, error_1.newError)('Cannot begin a transaction on a closed session.');\n        }\n        if (this._hasTx) {\n            throw (0, error_1.newError)('You cannot begin a transaction on a session with an open transaction; ' +\n                'either run from within the transaction or use a different session.');\n        }\n        var mode = Session._validateSessionMode(accessMode);\n        var connectionHolder = this._connectionHolderWithMode(mode);\n        connectionHolder.initializeConnection();\n        this._hasTx = true;\n        var tx = new transaction_promise_1.default({\n            connectionHolder: connectionHolder,\n            impersonatedUser: this._impersonatedUser,\n            onClose: this._transactionClosed.bind(this),\n            onBookmarks: function (newBm, oldBm, db) { return _this._updateBookmarks(newBm, oldBm, db); },\n            onConnection: this._assertSessionIsOpen.bind(this),\n            reactive: this._reactive,\n            fetchSize: this._fetchSize,\n            lowRecordWatermark: this._lowRecordWatermark,\n            highRecordWatermark: this._highRecordWatermark\n        });\n        tx._begin(function () { return _this._bookmarks(); }, txConfig);\n        return tx;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    Session.prototype._assertSessionIsOpen = function () {\n        if (!this._open) {\n            throw (0, error_1.newError)('You cannot run more transactions on a closed session.');\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    Session.prototype._transactionClosed = function () {\n        this._hasTx = false;\n    };\n    /**\n     * Return the bookmarks received following the last completed {@link Transaction}.\n     *\n     * @deprecated This method will be removed in version 6.0. Please, use {@link Session#lastBookmarks} instead.\n     *\n     * @return {string[]} A reference to a previous transaction.\n     */\n    Session.prototype.lastBookmark = function () {\n        return this.lastBookmarks();\n    };\n    /**\n     * Return the bookmarks received following the last completed {@link Transaction}.\n     *\n     * @return {string[]} A reference to a previous transaction.\n     */\n    Session.prototype.lastBookmarks = function () {\n        return this._lastBookmarks.values();\n    };\n    Session.prototype._bookmarks = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var bookmarks;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, ((_a = this._bookmarkManager) === null || _a === void 0 ? void 0 : _a.getBookmarks())];\n                    case 1:\n                        bookmarks = _b.sent();\n                        if (bookmarks === undefined) {\n                            return [2 /*return*/, this._lastBookmarks];\n                        }\n                        return [2 /*return*/, new bookmarks_1.Bookmarks(__spreadArray(__spreadArray([], __read(bookmarks), false), __read(this._configuredBookmarks), false))];\n                }\n            });\n        });\n    };\n    /**\n     * Execute given unit of work in a {@link READ} transaction.\n     *\n     * Transaction will automatically be committed unless the given function throws or returns a rejected promise.\n     * Some failures of the given function or the commit itself will be retried with exponential backoff with initial\n     * delay of 1 second and maximum retry time of 30 seconds. Maximum retry time is configurable via driver config's\n     * `maxTransactionRetryTime` property in milliseconds.\n     *\n     * @deprecated This method will be removed in version 6.0. Please, use {@link Session#executeRead} instead.\n     *\n     * @param {function(tx: Transaction): Promise} transactionWork - Callback that executes operations against\n     * a given {@link Transaction}.\n     * @param {TransactionConfig} [transactionConfig] - Configuration for all transactions started to execute the unit of work.\n     * @return {Promise} Resolved promise as returned by the given function or rejected promise when given\n     * function or commit fails.\n     */\n    Session.prototype.readTransaction = function (transactionWork, transactionConfig) {\n        var config = new tx_config_1.TxConfig(transactionConfig);\n        return this._runTransaction(constants_1.ACCESS_MODE_READ, config, transactionWork);\n    };\n    /**\n     * Execute given unit of work in a {@link WRITE} transaction.\n     *\n     * Transaction will automatically be committed unless the given function throws or returns a rejected promise.\n     * Some failures of the given function or the commit itself will be retried with exponential backoff with initial\n     * delay of 1 second and maximum retry time of 30 seconds. Maximum retry time is configurable via driver config's\n     * `maxTransactionRetryTime` property in milliseconds.\n     *\n     * @deprecated This method will be removed in version 6.0. Please, use {@link Session#executeWrite} instead.\n     *\n     * @param {function(tx: Transaction): Promise} transactionWork - Callback that executes operations against\n     * a given {@link Transaction}.\n     * @param {TransactionConfig} [transactionConfig] - Configuration for all transactions started to execute the unit of work.\n     * @return {Promise} Resolved promise as returned by the given function or rejected promise when given\n     * function or commit fails.\n     */\n    Session.prototype.writeTransaction = function (transactionWork, transactionConfig) {\n        var config = new tx_config_1.TxConfig(transactionConfig);\n        return this._runTransaction(constants_1.ACCESS_MODE_WRITE, config, transactionWork);\n    };\n    Session.prototype._runTransaction = function (accessMode, transactionConfig, transactionWork) {\n        var _this = this;\n        return this._transactionExecutor.execute(function () { return _this._beginTransaction(accessMode, transactionConfig); }, transactionWork);\n    };\n    /**\n     * Execute given unit of work in a {@link READ} transaction.\n     *\n     * Transaction will automatically be committed unless the given function throws or returns a rejected promise.\n     * Some failures of the given function or the commit itself will be retried with exponential backoff with initial\n     * delay of 1 second and maximum retry time of 30 seconds. Maximum retry time is configurable via driver config's\n     * `maxTransactionRetryTime` property in milliseconds.\n     *\n     * @param {function(tx: ManagedTransaction): Promise} transactionWork - Callback that executes operations against\n     * a given {@link Transaction}.\n     * @param {TransactionConfig} [transactionConfig] - Configuration for all transactions started to execute the unit of work.\n     * @return {Promise} Resolved promise as returned by the given function or rejected promise when given\n     * function or commit fails.\n     */\n    Session.prototype.executeRead = function (transactionWork, transactionConfig) {\n        var config = new tx_config_1.TxConfig(transactionConfig);\n        return this._executeInTransaction(constants_1.ACCESS_MODE_READ, config, transactionWork);\n    };\n    /**\n     * Execute given unit of work in a {@link WRITE} transaction.\n     *\n     * Transaction will automatically be committed unless the given function throws or returns a rejected promise.\n     * Some failures of the given function or the commit itself will be retried with exponential backoff with initial\n     * delay of 1 second and maximum retry time of 30 seconds. Maximum retry time is configurable via driver config's\n     * `maxTransactionRetryTime` property in milliseconds.\n     *\n     * @param {function(tx: ManagedTransaction): Promise} transactionWork - Callback that executes operations against\n     * a given {@link Transaction}.\n     * @param {TransactionConfig} [transactionConfig] - Configuration for all transactions started to execute the unit of work.\n     * @return {Promise} Resolved promise as returned by the given function or rejected promise when given\n     * function or commit fails.\n     */\n    Session.prototype.executeWrite = function (transactionWork, transactionConfig) {\n        var config = new tx_config_1.TxConfig(transactionConfig);\n        return this._executeInTransaction(constants_1.ACCESS_MODE_WRITE, config, transactionWork);\n    };\n    /**\n     * @private\n     * @param {SessionMode} accessMode\n     * @param {TxConfig} transactionConfig\n     * @param {ManagedTransactionWork} transactionWork\n     * @returns {Promise}\n     */\n    Session.prototype._executeInTransaction = function (accessMode, transactionConfig, transactionWork) {\n        var _this = this;\n        return this._transactionExecutor.execute(function () { return _this._beginTransaction(accessMode, transactionConfig); }, transactionWork, transaction_managed_1.default.fromTransaction);\n    };\n    /**\n     * Sets the resolved database name in the session context.\n     * @private\n     * @param {string|undefined} database The resolved database name\n     * @returns {void}\n     */\n    Session.prototype._onDatabaseNameResolved = function (database) {\n        if (!this._databaseNameResolved) {\n            var normalizedDatabase = database !== null && database !== void 0 ? database : '';\n            this._database = normalizedDatabase;\n            this._readConnectionHolder.setDatabase(normalizedDatabase);\n            this._writeConnectionHolder.setDatabase(normalizedDatabase);\n            this._databaseNameResolved = true;\n        }\n    };\n    Session.prototype._getConnectionAcquistionBookmarks = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var bookmarks;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, ((_a = this._bookmarkManager) === null || _a === void 0 ? void 0 : _a.getBookmarks())];\n                    case 1:\n                        bookmarks = _b.sent();\n                        if (bookmarks === undefined) {\n                            return [2 /*return*/, this._lastBookmarks];\n                        }\n                        return [2 /*return*/, new bookmarks_1.Bookmarks(__spreadArray(__spreadArray([], __read(this._configuredBookmarks), false), __read(bookmarks), false))];\n                }\n            });\n        });\n    };\n    /**\n     * Update value of the last bookmarks.\n     * @private\n     * @param {Bookmarks} newBookmarks - The new bookmarks.\n     * @returns {void}\n     */\n    Session.prototype._updateBookmarks = function (newBookmarks, previousBookmarks, database) {\n        var _a, _b, _c;\n        if ((newBookmarks != null) && !newBookmarks.isEmpty()) {\n            (_a = this._bookmarkManager) === null || _a === void 0 ? void 0 : _a.updateBookmarks((_b = previousBookmarks === null || previousBookmarks === void 0 ? void 0 : previousBookmarks.values()) !== null && _b !== void 0 ? _b : [], (_c = newBookmarks === null || newBookmarks === void 0 ? void 0 : newBookmarks.values()) !== null && _c !== void 0 ? _c : []);\n            this._lastBookmarks = newBookmarks;\n            this._configuredBookmarks = bookmarks_1.Bookmarks.empty();\n        }\n    };\n    /**\n     * Close this session.\n     * @return {Promise}\n     */\n    Session.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._open) return [3 /*break*/, 3];\n                        this._open = false;\n                        this._results.forEach(function (result) { return result._cancel(); });\n                        this._transactionExecutor.close();\n                        return [4 /*yield*/, this._readConnectionHolder.close(this._hasTx)];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this._writeConnectionHolder.close(this._hasTx)];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Session.prototype._connectionHolderWithMode = function (mode) {\n        if (mode === constants_1.ACCESS_MODE_READ) {\n            return this._readConnectionHolder;\n        }\n        else if (mode === constants_1.ACCESS_MODE_WRITE) {\n            return this._writeConnectionHolder;\n        }\n        else {\n            throw (0, error_1.newError)('Unknown access mode: ' + mode);\n        }\n    };\n    /**\n     * @private\n     * @param {Object} meta Connection metadatada\n     * @returns {void}\n     */\n    Session.prototype._onCompleteCallback = function (meta, previousBookmarks) {\n        this._updateBookmarks(new bookmarks_1.Bookmarks(meta.bookmark), previousBookmarks, meta.db);\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    Session.prototype._calculateWatermaks = function () {\n        if (this._fetchSize === constants_1.FETCH_ALL) {\n            return {\n                low: Number.MAX_VALUE,\n                high: Number.MAX_VALUE // we shall never reach this number to disable auto pull\n            };\n        }\n        return {\n            low: 0.3 * this._fetchSize,\n            high: 0.7 * this._fetchSize\n        };\n    };\n    /**\n     * @protected\n     */\n    Session._validateSessionMode = function (rawMode) {\n        var mode = rawMode !== null && rawMode !== void 0 ? rawMode : constants_1.ACCESS_MODE_WRITE;\n        if (mode !== constants_1.ACCESS_MODE_READ && mode !== constants_1.ACCESS_MODE_WRITE) {\n            throw (0, error_1.newError)('Illegal session mode ' + mode);\n        }\n        return mode;\n    };\n    return Session;\n}());\n/**\n * @private\n * @param {object} config\n * @returns {TransactionExecutor} The transaction executor\n */\nfunction _createTransactionExecutor(config) {\n    var _a;\n    var maxRetryTimeMs = (_a = config === null || config === void 0 ? void 0 : config.maxTransactionRetryTime) !== null && _a !== void 0 ? _a : null;\n    return new transaction_executor_1.TransactionExecutor(maxRetryTimeMs);\n}\nexports.default = Session;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPoint = exports.Point = void 0;\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar util_1 = require(\"./internal/util\");\nvar POINT_IDENTIFIER_PROPERTY = '__isPoint__';\n/**\n * Represents a single two or three-dimensional point in a particular coordinate reference system.\n * Created `Point` objects are frozen with `Object.freeze()` in constructor and thus immutable.\n */\nvar Point = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {T} srid - The coordinate reference system identifier.\n     * @param {number} x - The `x` coordinate of the point.\n     * @param {number} y - The `y` coordinate of the point.\n     * @param {number} [z=undefined] - The `z` coordinate of the point or `undefined` if point has 2 dimensions.\n     */\n    function Point(srid, x, y, z) {\n        /**\n         * The coordinate reference system identifier.\n         * @type {T}\n         */\n        this.srid = (0, util_1.assertNumberOrInteger)(srid, 'SRID');\n        /**\n         * The `x` coordinate of the point.\n         * @type {number}\n         */\n        this.x = (0, util_1.assertNumber)(x, 'X coordinate');\n        /**\n         * The `y` coordinate of the point.\n         * @type {number}\n         */\n        this.y = (0, util_1.assertNumber)(y, 'Y coordinate');\n        /**\n         * The `z` coordinate of the point or `undefined` if point is 2-dimensional.\n         * @type {number}\n         */\n        this.z = z === null || z === undefined ? z : (0, util_1.assertNumber)(z, 'Z coordinate');\n        Object.freeze(this);\n    }\n    /**\n     * @ignore\n     */\n    Point.prototype.toString = function () {\n        return this.z != null && !isNaN(this.z)\n            ? \"Point{srid=\".concat(formatAsFloat(this.srid), \", x=\").concat(formatAsFloat(this.x), \", y=\").concat(formatAsFloat(this.y), \", z=\").concat(formatAsFloat(this.z), \"}\")\n            : \"Point{srid=\".concat(formatAsFloat(this.srid), \", x=\").concat(formatAsFloat(this.x), \", y=\").concat(formatAsFloat(this.y), \"}\");\n    };\n    return Point;\n}());\nexports.Point = Point;\nfunction formatAsFloat(number) {\n    return Number.isInteger(number) ? number.toString() + '.0' : number.toString();\n}\nObject.defineProperty(Point.prototype, POINT_IDENTIFIER_PROPERTY, {\n    value: true,\n    enumerable: false,\n    configurable: false,\n    writable: false\n});\n/**\n * Test if given object is an instance of {@link Point} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link Point}, `false` otherwise.\n */\nfunction isPoint(obj) {\n    return obj != null && obj[POINT_IDENTIFIER_PROPERTY] === true;\n}\nexports.isPoint = isPoint;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isDateTime = exports.DateTime = exports.isLocalDateTime = exports.LocalDateTime = exports.isDate = exports.Date = exports.isTime = exports.Time = exports.isLocalTime = exports.LocalTime = exports.isDuration = exports.Duration = void 0;\nvar util = __importStar(require(\"./internal/temporal-util\"));\nvar util_1 = require(\"./internal/util\");\nvar error_1 = require(\"./error\");\nvar integer_1 = __importStar(require(\"./integer\"));\nvar IDENTIFIER_PROPERTY_ATTRIBUTES = {\n    value: true,\n    enumerable: false,\n    configurable: false,\n    writable: false\n};\nvar DURATION_IDENTIFIER_PROPERTY = '__isDuration__';\nvar LOCAL_TIME_IDENTIFIER_PROPERTY = '__isLocalTime__';\nvar TIME_IDENTIFIER_PROPERTY = '__isTime__';\nvar DATE_IDENTIFIER_PROPERTY = '__isDate__';\nvar LOCAL_DATE_TIME_IDENTIFIER_PROPERTY = '__isLocalDateTime__';\nvar DATE_TIME_IDENTIFIER_PROPERTY = '__isDateTime__';\n/**\n * Represents an ISO 8601 duration. Contains both date-based values (years, months, days) and time-based values (seconds, nanoseconds).\n * Created `Duration` objects are frozen with `Object.freeze()` in constructor and thus immutable.\n */\nvar Duration = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {NumberOrInteger} months - The number of months for the new duration.\n     * @param {NumberOrInteger} days - The number of days for the new duration.\n     * @param {NumberOrInteger} seconds - The number of seconds for the new duration.\n     * @param {NumberOrInteger} nanoseconds - The number of nanoseconds for the new duration.\n     */\n    function Duration(months, days, seconds, nanoseconds) {\n        /**\n         * The number of months.\n         * @type {NumberOrInteger}\n         */\n        this.months = (0, util_1.assertNumberOrInteger)(months, 'Months');\n        /**\n         * The number of days.\n         * @type {NumberOrInteger}\n         */\n        this.days = (0, util_1.assertNumberOrInteger)(days, 'Days');\n        (0, util_1.assertNumberOrInteger)(seconds, 'Seconds');\n        (0, util_1.assertNumberOrInteger)(nanoseconds, 'Nanoseconds');\n        /**\n         * The number of seconds.\n         * @type {NumberOrInteger}\n         */\n        this.seconds = util.normalizeSecondsForDuration(seconds, nanoseconds);\n        /**\n         * The number of nanoseconds.\n         * @type {NumberOrInteger}\n         */\n        this.nanoseconds = util.normalizeNanosecondsForDuration(nanoseconds);\n        Object.freeze(this);\n    }\n    /**\n     * @ignore\n     */\n    Duration.prototype.toString = function () {\n        return util.durationToIsoString(this.months, this.days, this.seconds, this.nanoseconds);\n    };\n    return Duration;\n}());\nexports.Duration = Duration;\nObject.defineProperty(Duration.prototype, DURATION_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link Duration} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link Duration}, `false` otherwise.\n */\nfunction isDuration(obj) {\n    return hasIdentifierProperty(obj, DURATION_IDENTIFIER_PROPERTY);\n}\nexports.isDuration = isDuration;\n/**\n * Represents an instant capturing the time of day, but not the date, nor the timezone.\n * Created {@link LocalTime} objects are frozen with `Object.freeze()` in constructor and thus immutable.\n */\nvar LocalTime = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {NumberOrInteger} hour - The hour for the new local time.\n     * @param {NumberOrInteger} minute - The minute for the new local time.\n     * @param {NumberOrInteger} second - The second for the new local time.\n     * @param {NumberOrInteger} nanosecond - The nanosecond for the new local time.\n     */\n    function LocalTime(hour, minute, second, nanosecond) {\n        /**\n         * The hour.\n         * @type {NumberOrInteger}\n         */\n        this.hour = util.assertValidHour(hour);\n        /**\n         * The minute.\n         * @type {NumberOrInteger}\n         */\n        this.minute = util.assertValidMinute(minute);\n        /**\n         * The second.\n         * @type {NumberOrInteger}\n         */\n        this.second = util.assertValidSecond(second);\n        /**\n         * The nanosecond.\n         * @type {NumberOrInteger}\n         */\n        this.nanosecond = util.assertValidNanosecond(nanosecond);\n        Object.freeze(this);\n    }\n    /**\n     * Create a {@link LocalTime} object from the given standard JavaScript `Date` and optional nanoseconds.\n     * Year, month, day and time zone offset components of the given date are ignored.\n     * @param {global.Date} standardDate - The standard JavaScript date to convert.\n     * @param {NumberOrInteger|undefined} nanosecond - The optional amount of nanoseconds.\n     * @return {LocalTime<number>} New LocalTime.\n     */\n    LocalTime.fromStandardDate = function (standardDate, nanosecond) {\n        verifyStandardDateAndNanos(standardDate, nanosecond);\n        var totalNanoseconds = util.totalNanoseconds(standardDate, nanosecond);\n        return new LocalTime(standardDate.getHours(), standardDate.getMinutes(), standardDate.getSeconds(), totalNanoseconds instanceof integer_1.default\n            ? totalNanoseconds.toInt()\n            : typeof totalNanoseconds === 'bigint'\n                ? (0, integer_1.int)(totalNanoseconds).toInt()\n                : totalNanoseconds);\n    };\n    /**\n     * @ignore\n     */\n    LocalTime.prototype.toString = function () {\n        return util.timeToIsoString(this.hour, this.minute, this.second, this.nanosecond);\n    };\n    return LocalTime;\n}());\nexports.LocalTime = LocalTime;\nObject.defineProperty(LocalTime.prototype, LOCAL_TIME_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link LocalTime} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link LocalTime}, `false` otherwise.\n */\nfunction isLocalTime(obj) {\n    return hasIdentifierProperty(obj, LOCAL_TIME_IDENTIFIER_PROPERTY);\n}\nexports.isLocalTime = isLocalTime;\n/**\n * Represents an instant capturing the time of day, and the timezone offset in seconds, but not the date.\n * Created {@link Time} objects are frozen with `Object.freeze()` in constructor and thus immutable.\n */\nvar Time = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {NumberOrInteger} hour - The hour for the new local time.\n     * @param {NumberOrInteger} minute - The minute for the new local time.\n     * @param {NumberOrInteger} second - The second for the new local time.\n     * @param {NumberOrInteger} nanosecond - The nanosecond for the new local time.\n     * @param {NumberOrInteger} timeZoneOffsetSeconds - The time zone offset in seconds. Value represents the difference, in seconds, from UTC to local time.\n     * This is different from standard JavaScript `Date.getTimezoneOffset()` which is the difference, in minutes, from local time to UTC.\n     */\n    function Time(hour, minute, second, nanosecond, timeZoneOffsetSeconds) {\n        /**\n         * The hour.\n         * @type {NumberOrInteger}\n         */\n        this.hour = util.assertValidHour(hour);\n        /**\n         * The minute.\n         * @type {NumberOrInteger}\n         */\n        this.minute = util.assertValidMinute(minute);\n        /**\n         * The second.\n         * @type {NumberOrInteger}\n         */\n        this.second = util.assertValidSecond(second);\n        /**\n         * The nanosecond.\n         * @type {NumberOrInteger}\n         */\n        this.nanosecond = util.assertValidNanosecond(nanosecond);\n        /**\n         * The time zone offset in seconds.\n         * @type {NumberOrInteger}\n         */\n        this.timeZoneOffsetSeconds = (0, util_1.assertNumberOrInteger)(timeZoneOffsetSeconds, 'Time zone offset in seconds');\n        Object.freeze(this);\n    }\n    /**\n     * Create a {@link Time} object from the given standard JavaScript `Date` and optional nanoseconds.\n     * Year, month and day components of the given date are ignored.\n     * @param {global.Date} standardDate - The standard JavaScript date to convert.\n     * @param {NumberOrInteger|undefined} nanosecond - The optional amount of nanoseconds.\n     * @return {Time<number>} New Time.\n     */\n    Time.fromStandardDate = function (standardDate, nanosecond) {\n        verifyStandardDateAndNanos(standardDate, nanosecond);\n        return new Time(standardDate.getHours(), standardDate.getMinutes(), standardDate.getSeconds(), (0, integer_1.toNumber)(util.totalNanoseconds(standardDate, nanosecond)), util.timeZoneOffsetInSeconds(standardDate));\n    };\n    /**\n     * @ignore\n     */\n    Time.prototype.toString = function () {\n        return (util.timeToIsoString(this.hour, this.minute, this.second, this.nanosecond) + util.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds));\n    };\n    return Time;\n}());\nexports.Time = Time;\nObject.defineProperty(Time.prototype, TIME_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link Time} class.\n * @param {Object} obj the object to test.\n * @return {boolean} `true` if given object is a {@link Time}, `false` otherwise.\n */\nfunction isTime(obj) {\n    return hasIdentifierProperty(obj, TIME_IDENTIFIER_PROPERTY);\n}\nexports.isTime = isTime;\n/**\n * Represents an instant capturing the date, but not the time, nor the timezone.\n * Created {@link Date} objects are frozen with `Object.freeze()` in constructor and thus immutable.\n */\nvar Date = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {NumberOrInteger} year - The year for the new local date.\n     * @param {NumberOrInteger} month - The month for the new local date.\n     * @param {NumberOrInteger} day - The day for the new local date.\n     */\n    function Date(year, month, day) {\n        /**\n         * The year.\n         * @type {NumberOrInteger}\n         */\n        this.year = util.assertValidYear(year);\n        /**\n         * The month.\n         * @type {NumberOrInteger}\n         */\n        this.month = util.assertValidMonth(month);\n        /**\n         * The day.\n         * @type {NumberOrInteger}\n         */\n        this.day = util.assertValidDay(day);\n        Object.freeze(this);\n    }\n    /**\n     * Create a {@link Date} object from the given standard JavaScript `Date`.\n     * Hour, minute, second, millisecond and time zone offset components of the given date are ignored.\n     * @param {global.Date} standardDate - The standard JavaScript date to convert.\n     * @return {Date} New Date.\n     */\n    Date.fromStandardDate = function (standardDate) {\n        verifyStandardDateAndNanos(standardDate);\n        return new Date(standardDate.getFullYear(), standardDate.getMonth() + 1, standardDate.getDate());\n    };\n    /**\n     * Convert date to standard JavaScript `Date`.\n     *\n     * The time component of the returned `Date` is set to midnight\n     * and the time zone is set to UTC.\n     *\n     * @returns {StandardDate} Standard JavaScript `Date` at `00:00:00.000` UTC.\n     */\n    Date.prototype.toStandardDate = function () {\n        return util.isoStringToStandardDate(this.toString());\n    };\n    /**\n     * @ignore\n     */\n    Date.prototype.toString = function () {\n        return util.dateToIsoString(this.year, this.month, this.day);\n    };\n    return Date;\n}());\nexports.Date = Date;\nObject.defineProperty(Date.prototype, DATE_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link Date} class.\n * @param {Object} obj - The object to test.\n * @return {boolean} `true` if given object is a {@link Date}, `false` otherwise.\n */\nfunction isDate(obj) {\n    return hasIdentifierProperty(obj, DATE_IDENTIFIER_PROPERTY);\n}\nexports.isDate = isDate;\n/**\n * Represents an instant capturing the date and the time, but not the timezone.\n * Created {@link LocalDateTime} objects are frozen with `Object.freeze()` in constructor and thus immutable.\n */\nvar LocalDateTime = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {NumberOrInteger} year - The year for the new local date.\n     * @param {NumberOrInteger} month - The month for the new local date.\n     * @param {NumberOrInteger} day - The day for the new local date.\n     * @param {NumberOrInteger} hour - The hour for the new local time.\n     * @param {NumberOrInteger} minute - The minute for the new local time.\n     * @param {NumberOrInteger} second - The second for the new local time.\n     * @param {NumberOrInteger} nanosecond - The nanosecond for the new local time.\n     */\n    function LocalDateTime(year, month, day, hour, minute, second, nanosecond) {\n        /**\n         * The year.\n         * @type {NumberOrInteger}\n         */\n        this.year = util.assertValidYear(year);\n        /**\n         * The month.\n         * @type {NumberOrInteger}\n         */\n        this.month = util.assertValidMonth(month);\n        /**\n         * The day.\n         * @type {NumberOrInteger}\n         */\n        this.day = util.assertValidDay(day);\n        /**\n         * The hour.\n         * @type {NumberOrInteger}\n         */\n        this.hour = util.assertValidHour(hour);\n        /**\n         * The minute.\n         * @type {NumberOrInteger}\n         */\n        this.minute = util.assertValidMinute(minute);\n        /**\n         * The second.\n         * @type {NumberOrInteger}\n         */\n        this.second = util.assertValidSecond(second);\n        /**\n         * The nanosecond.\n         * @type {NumberOrInteger}\n         */\n        this.nanosecond = util.assertValidNanosecond(nanosecond);\n        Object.freeze(this);\n    }\n    /**\n     * Create a {@link LocalDateTime} object from the given standard JavaScript `Date` and optional nanoseconds.\n     * Time zone offset component of the given date is ignored.\n     * @param {global.Date} standardDate - The standard JavaScript date to convert.\n     * @param {NumberOrInteger|undefined} nanosecond - The optional amount of nanoseconds.\n     * @return {LocalDateTime} New LocalDateTime.\n     */\n    LocalDateTime.fromStandardDate = function (standardDate, nanosecond) {\n        verifyStandardDateAndNanos(standardDate, nanosecond);\n        return new LocalDateTime(standardDate.getFullYear(), standardDate.getMonth() + 1, standardDate.getDate(), standardDate.getHours(), standardDate.getMinutes(), standardDate.getSeconds(), (0, integer_1.toNumber)(util.totalNanoseconds(standardDate, nanosecond)));\n    };\n    /**\n     * Convert date to standard JavaScript `Date`.\n     *\n     * @returns {StandardDate} Standard JavaScript `Date` at the local timezone\n     */\n    LocalDateTime.prototype.toStandardDate = function () {\n        return util.isoStringToStandardDate(this.toString());\n    };\n    /**\n     * @ignore\n     */\n    LocalDateTime.prototype.toString = function () {\n        return localDateTimeToString(this.year, this.month, this.day, this.hour, this.minute, this.second, this.nanosecond);\n    };\n    return LocalDateTime;\n}());\nexports.LocalDateTime = LocalDateTime;\nObject.defineProperty(LocalDateTime.prototype, LOCAL_DATE_TIME_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link LocalDateTime} class.\n * @param {Object} obj - The object to test.\n * @return {boolean} `true` if given object is a {@link LocalDateTime}, `false` otherwise.\n */\nfunction isLocalDateTime(obj) {\n    return hasIdentifierProperty(obj, LOCAL_DATE_TIME_IDENTIFIER_PROPERTY);\n}\nexports.isLocalDateTime = isLocalDateTime;\n/**\n * Represents an instant capturing the date, the time and the timezone identifier.\n * Created {@ DateTime} objects are frozen with `Object.freeze()` in constructor and thus immutable.\n */\nvar DateTime = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {NumberOrInteger} year - The year for the new date-time.\n     * @param {NumberOrInteger} month - The month for the new date-time.\n     * @param {NumberOrInteger} day - The day for the new date-time.\n     * @param {NumberOrInteger} hour - The hour for the new date-time.\n     * @param {NumberOrInteger} minute - The minute for the new date-time.\n     * @param {NumberOrInteger} second - The second for the new date-time.\n     * @param {NumberOrInteger} nanosecond - The nanosecond for the new date-time.\n     * @param {NumberOrInteger} timeZoneOffsetSeconds - The time zone offset in seconds. Either this argument or `timeZoneId` should be defined.\n     * Value represents the difference, in seconds, from UTC to local time.\n     * This is different from standard JavaScript `Date.getTimezoneOffset()` which is the difference, in minutes, from local time to UTC.\n     * @param {string|null} timeZoneId - The time zone id for the new date-time. Either this argument or `timeZoneOffsetSeconds` should be defined.\n     */\n    function DateTime(year, month, day, hour, minute, second, nanosecond, timeZoneOffsetSeconds, timeZoneId) {\n        /**\n         * The year.\n         * @type {NumberOrInteger}\n         */\n        this.year = util.assertValidYear(year);\n        /**\n         * The month.\n         * @type {NumberOrInteger}\n         */\n        this.month = util.assertValidMonth(month);\n        /**\n         * The day.\n         * @type {NumberOrInteger}\n         */\n        this.day = util.assertValidDay(day);\n        /**\n         * The hour.\n         * @type {NumberOrInteger}\n         */\n        this.hour = util.assertValidHour(hour);\n        /**\n         * The minute.\n         * @type {NumberOrInteger}\n         */\n        this.minute = util.assertValidMinute(minute);\n        /**\n         * The second.\n         * @type {NumberOrInteger}\n         */\n        this.second = util.assertValidSecond(second);\n        /**\n         * The nanosecond.\n         * @type {NumberOrInteger}\n         */\n        this.nanosecond = util.assertValidNanosecond(nanosecond);\n        var _a = __read(verifyTimeZoneArguments(timeZoneOffsetSeconds, timeZoneId), 2), offset = _a[0], id = _a[1];\n        /**\n         * The time zone offset in seconds.\n         *\n         * *Either this or {@link timeZoneId} is defined.*\n         *\n         * @type {NumberOrInteger}\n         */\n        this.timeZoneOffsetSeconds = offset;\n        /**\n         * The time zone id.\n         *\n         * *Either this or {@link timeZoneOffsetSeconds} is defined.*\n         *\n         * @type {string}\n         */\n        this.timeZoneId = id !== null && id !== void 0 ? id : undefined;\n        Object.freeze(this);\n    }\n    /**\n     * Create a {@link DateTime} object from the given standard JavaScript `Date` and optional nanoseconds.\n     * @param {global.Date} standardDate - The standard JavaScript date to convert.\n     * @param {NumberOrInteger|undefined} nanosecond - The optional amount of nanoseconds.\n     * @return {DateTime} New DateTime.\n     */\n    DateTime.fromStandardDate = function (standardDate, nanosecond) {\n        verifyStandardDateAndNanos(standardDate, nanosecond);\n        return new DateTime(standardDate.getFullYear(), standardDate.getMonth() + 1, standardDate.getDate(), standardDate.getHours(), standardDate.getMinutes(), standardDate.getSeconds(), (0, integer_1.toNumber)(util.totalNanoseconds(standardDate, nanosecond)), util.timeZoneOffsetInSeconds(standardDate), null /* no time zone id */);\n    };\n    /**\n     * Convert date to standard JavaScript `Date`.\n     *\n     * @returns {StandardDate} Standard JavaScript `Date` at the defined time zone offset\n     * @throws {Error} If the time zone offset is not defined in the object.\n     */\n    DateTime.prototype.toStandardDate = function () {\n        return util.toStandardDate(this._toUTC());\n    };\n    /**\n     * @ignore\n     */\n    DateTime.prototype.toString = function () {\n        var _a;\n        var localDateTimeStr = localDateTimeToString(this.year, this.month, this.day, this.hour, this.minute, this.second, this.nanosecond);\n        var timeOffset = this.timeZoneOffsetSeconds != null\n            ? util.timeZoneOffsetToIsoString((_a = this.timeZoneOffsetSeconds) !== null && _a !== void 0 ? _a : 0)\n            : '';\n        var timeZoneStr = this.timeZoneId != null\n            ? \"[\".concat(this.timeZoneId, \"]\")\n            : '';\n        return localDateTimeStr + timeOffset + timeZoneStr;\n    };\n    /**\n     * @private\n     * @returns {number}\n     */\n    DateTime.prototype._toUTC = function () {\n        var _a;\n        if (this.timeZoneOffsetSeconds === undefined) {\n            throw new Error('Requires DateTime created with time zone offset');\n        }\n        var epochSecond = util.localDateTimeToEpochSecond(this.year, this.month, this.day, this.hour, this.minute, this.second, this.nanosecond);\n        var utcSecond = epochSecond.subtract((_a = this.timeZoneOffsetSeconds) !== null && _a !== void 0 ? _a : 0);\n        return (0, integer_1.int)(utcSecond)\n            .multiply(1000)\n            .add((0, integer_1.int)(this.nanosecond).div(1000000))\n            .toNumber();\n    };\n    return DateTime;\n}());\nexports.DateTime = DateTime;\nObject.defineProperty(DateTime.prototype, DATE_TIME_IDENTIFIER_PROPERTY, IDENTIFIER_PROPERTY_ATTRIBUTES);\n/**\n * Test if given object is an instance of {@link DateTime} class.\n * @param {Object} obj - The object to test.\n * @return {boolean} `true` if given object is a {@link DateTime}, `false` otherwise.\n */\nfunction isDateTime(obj) {\n    return hasIdentifierProperty(obj, DATE_TIME_IDENTIFIER_PROPERTY);\n}\nexports.isDateTime = isDateTime;\nfunction hasIdentifierProperty(obj, property) {\n    return obj != null && obj[property] === true;\n}\nfunction localDateTimeToString(year, month, day, hour, minute, second, nanosecond) {\n    return (util.dateToIsoString(year, month, day) +\n        'T' +\n        util.timeToIsoString(hour, minute, second, nanosecond));\n}\n/**\n * @private\n * @param {NumberOrInteger} timeZoneOffsetSeconds\n * @param {string | null } timeZoneId\n * @returns {Array<NumberOrInteger | undefined | null, string | undefined | null>}\n */\nfunction verifyTimeZoneArguments(timeZoneOffsetSeconds, timeZoneId) {\n    var offsetDefined = timeZoneOffsetSeconds !== null && timeZoneOffsetSeconds !== undefined;\n    var idDefined = timeZoneId !== null && timeZoneId !== undefined && timeZoneId !== '';\n    if (!offsetDefined && !idDefined) {\n        throw (0, error_1.newError)(\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        \"Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: \".concat(timeZoneOffsetSeconds, \" and id: \").concat(timeZoneId));\n    }\n    var result = [undefined, undefined];\n    if (offsetDefined) {\n        (0, util_1.assertNumberOrInteger)(timeZoneOffsetSeconds, 'Time zone offset in seconds');\n        result[0] = timeZoneOffsetSeconds;\n    }\n    if (idDefined) {\n        (0, util_1.assertString)(timeZoneId, 'Time zone ID');\n        util.assertValidZoneId('Time zone ID', timeZoneId);\n        result[1] = timeZoneId;\n    }\n    return result;\n}\n/**\n * @private\n * @param {StandardDate} standardDate\n * @param {NumberOrInteger} nanosecond\n * @returns {void}\n */\nfunction verifyStandardDateAndNanos(standardDate, nanosecond) {\n    (0, util_1.assertValidDate)(standardDate, 'Standard date');\n    if (nanosecond !== null && nanosecond !== undefined) {\n        (0, util_1.assertNumberOrInteger)(nanosecond, 'Nanosecond');\n    }\n}\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Represents a transaction that is managed by the transaction executor.\n *\n * @public\n */\nvar ManagedTransaction = /** @class */ (function () {\n    /**\n     * @private\n     */\n    function ManagedTransaction(_a) {\n        var run = _a.run;\n        /**\n         * @private\n         */\n        this._run = run;\n    }\n    /**\n     * @private\n     * @param {Transaction} tx - Transaction to wrap\n     * @returns {ManagedTransaction} the ManagedTransaction\n     */\n    ManagedTransaction.fromTransaction = function (tx) {\n        return new ManagedTransaction({\n            run: tx.run.bind(tx)\n        });\n    };\n    /**\n     * Run Cypher query\n     * Could be called with a query object i.e.: `{text: \"MATCH ...\", parameters: {param: 1}}`\n     * or with the query and parameters as separate arguments.\n     * @param {mixed} query - Cypher query to execute\n     * @param {Object} parameters - Map with parameters to use in query\n     * @return {Result} New Result\n     */\n    ManagedTransaction.prototype.run = function (query, parameters) {\n        return this._run(query, parameters);\n    };\n    return ManagedTransaction;\n}());\nexports.default = ManagedTransaction;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable @typescript-eslint/promise-function-async */\nvar transaction_1 = __importDefault(require(\"./transaction\"));\n/**\n * Represents a {@link Promise<Transaction>} object and a {@link Transaction} object.\n *\n * Resolving this object promise verifies the result of the transaction begin and returns the {@link Transaction} object in case of success.\n *\n * The object can still also used as {@link Transaction} for convenience. The result of begin will be checked\n * during the next API calls in the object as it is in the transaction.\n *\n * @access public\n */\nvar TransactionPromise = /** @class */ (function (_super) {\n    __extends(TransactionPromise, _super);\n    /**\n     * @constructor\n     * @param {ConnectionHolder} connectionHolder - the connection holder to get connection from.\n     * @param {function()} onClose - Function to be called when transaction is committed or rolled back.\n     * @param {function(bookmarks: Bookmarks)} onBookmarks callback invoked when new bookmark is produced.\n     * @param {function()} onConnection - Function to be called when a connection is obtained to ensure the connection\n     * is not yet released.\n     * @param {boolean} reactive whether this transaction generates reactive streams\n     * @param {number} fetchSize - the record fetch size in each pulling batch.\n     * @param {string} impersonatedUser - The name of the user which should be impersonated for the duration of the session.\n     */\n    function TransactionPromise(_b) {\n        var connectionHolder = _b.connectionHolder, onClose = _b.onClose, onBookmarks = _b.onBookmarks, onConnection = _b.onConnection, reactive = _b.reactive, fetchSize = _b.fetchSize, impersonatedUser = _b.impersonatedUser, highRecordWatermark = _b.highRecordWatermark, lowRecordWatermark = _b.lowRecordWatermark;\n        var _this = _super.call(this, {\n            connectionHolder: connectionHolder,\n            onClose: onClose,\n            onBookmarks: onBookmarks,\n            onConnection: onConnection,\n            reactive: reactive,\n            fetchSize: fetchSize,\n            impersonatedUser: impersonatedUser,\n            highRecordWatermark: highRecordWatermark,\n            lowRecordWatermark: lowRecordWatermark\n        }) || this;\n        _this[_a] = 'TransactionPromise';\n        return _this;\n    }\n    /**\n     * Waits for the begin to complete.\n     *\n     * @param {function(transaction: Transaction)} onFulfilled - function to be called when finished.\n     * @param {function(error: {message:string, code:string})} onRejected - function to be called upon errors.\n     * @return {Promise} promise.\n     */\n    TransactionPromise.prototype.then = function (onfulfilled, onrejected) {\n        return this._getOrCreateBeginPromise().then(onfulfilled, onrejected);\n    };\n    /**\n     * Catch errors when using promises.\n     *\n     * @param {function(error: Neo4jError)} onRejected - Function to be called upon errors.\n     * @return {Promise} promise.\n     */\n    TransactionPromise.prototype.catch = function (onrejected) {\n        return this._getOrCreateBeginPromise().catch(onrejected);\n    };\n    /**\n     * Called when finally the begin is done\n     *\n     * @param {function()|null} onfinally - function when the promise finished\n     * @return {Promise} promise.\n     */\n    TransactionPromise.prototype.finally = function (onfinally) {\n        return this._getOrCreateBeginPromise().finally(onfinally);\n    };\n    TransactionPromise.prototype._getOrCreateBeginPromise = function () {\n        var _this = this;\n        if (this._beginPromise == null) {\n            this._beginPromise = new Promise(function (resolve, reject) {\n                _this._resolve = resolve;\n                _this._reject = reject;\n                if (_this._beginError != null) {\n                    reject(_this._beginError);\n                }\n                if (_this._beginMetadata != null) {\n                    resolve(_this._toTransaction());\n                }\n            });\n        }\n        return this._beginPromise;\n    };\n    /**\n     * @access private\n     */\n    TransactionPromise.prototype._toTransaction = function () {\n        return __assign(__assign({}, this), { run: _super.prototype.run.bind(this), commit: _super.prototype.commit.bind(this), rollback: _super.prototype.rollback.bind(this), close: _super.prototype.close.bind(this), isOpen: _super.prototype.isOpen.bind(this), _begin: this._begin.bind(this) });\n    };\n    /**\n     * @access private\n     */\n    TransactionPromise.prototype._begin = function (bookmarks, txConfig) {\n        return _super.prototype._begin.call(this, bookmarks, txConfig, {\n            onError: this._onBeginError.bind(this),\n            onComplete: this._onBeginMetadata.bind(this)\n        });\n    };\n    /**\n     * @access private\n     * @returns {void}\n     */\n    TransactionPromise.prototype._onBeginError = function (error) {\n        this._beginError = error;\n        if (this._reject != null) {\n            this._reject(error);\n        }\n    };\n    /**\n     * @access private\n     * @returns {void}\n     */\n    TransactionPromise.prototype._onBeginMetadata = function (metadata) {\n        this._beginMetadata = metadata !== null && metadata !== void 0 ? metadata : {};\n        if (this._resolve != null) {\n            this._resolve(this._toTransaction());\n        }\n    };\n    return TransactionPromise;\n}(transaction_1.default));\n_a = Symbol.toStringTag;\nexports.default = TransactionPromise;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable @typescript-eslint/promise-function-async */\nvar util_1 = require(\"./internal/util\");\nvar connection_holder_1 = require(\"./internal/connection-holder\");\nvar bookmarks_1 = require(\"./internal/bookmarks\");\nvar tx_config_1 = require(\"./internal/tx-config\");\nvar observers_1 = require(\"./internal/observers\");\nvar error_1 = require(\"./error\");\nvar result_1 = __importDefault(require(\"./result\"));\n/**\n * Represents a transaction in the Neo4j database.\n *\n * @access public\n */\nvar Transaction = /** @class */ (function () {\n    /**\n     * @constructor\n     * @param {ConnectionHolder} connectionHolder - the connection holder to get connection from.\n     * @param {function()} onClose - Function to be called when transaction is committed or rolled back.\n     * @param {function(bookmarks: Bookmarks)} onBookmarks callback invoked when new bookmark is produced.\n     * @param {function()} onConnection - Function to be called when a connection is obtained to ensure the conneciton\n     * is not yet released.\n     * @param {boolean} reactive whether this transaction generates reactive streams\n     * @param {number} fetchSize - the record fetch size in each pulling batch.\n     * @param {string} impersonatedUser - The name of the user which should be impersonated for the duration of the session.\n     * @param {number} highRecordWatermark - The high watermark for the record buffer.\n     * @param {number} lowRecordWatermark - The low watermark for the record buffer.\n     */\n    function Transaction(_a) {\n        var connectionHolder = _a.connectionHolder, onClose = _a.onClose, onBookmarks = _a.onBookmarks, onConnection = _a.onConnection, reactive = _a.reactive, fetchSize = _a.fetchSize, impersonatedUser = _a.impersonatedUser, highRecordWatermark = _a.highRecordWatermark, lowRecordWatermark = _a.lowRecordWatermark;\n        var _this = this;\n        this._connectionHolder = connectionHolder;\n        this._reactive = reactive;\n        this._state = _states.ACTIVE;\n        this._onClose = onClose;\n        this._onBookmarks = onBookmarks;\n        this._onConnection = onConnection;\n        this._onError = this._onErrorCallback.bind(this);\n        this._fetchSize = fetchSize;\n        this._onComplete = this._onCompleteCallback.bind(this);\n        this._results = [];\n        this._impersonatedUser = impersonatedUser;\n        this._lowRecordWatermak = lowRecordWatermark;\n        this._highRecordWatermark = highRecordWatermark;\n        this._bookmarks = bookmarks_1.Bookmarks.empty();\n        this._acceptActive = function () { }; // satisfy DenoJS\n        this._activePromise = new Promise(function (resolve, reject) {\n            _this._acceptActive = resolve;\n        });\n    }\n    /**\n     * @private\n     * @param {Bookmarks | string |  string []} bookmarks\n     * @param {TxConfig} txConfig\n     * @returns {void}\n     */\n    Transaction.prototype._begin = function (getBookmarks, txConfig, events) {\n        var _this = this;\n        this._connectionHolder\n            .getConnection()\n            .then(function (connection) { return __awaiter(_this, void 0, void 0, function () {\n            var _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this._onConnection();\n                        if (!(connection != null)) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, getBookmarks()];\n                    case 1:\n                        _a._bookmarks = _b.sent();\n                        return [2 /*return*/, connection.protocol().beginTransaction({\n                                bookmarks: this._bookmarks,\n                                txConfig: txConfig,\n                                mode: this._connectionHolder.mode(),\n                                database: this._connectionHolder.database(),\n                                impersonatedUser: this._impersonatedUser,\n                                beforeError: function (error) {\n                                    if (events != null) {\n                                        events.onError(error);\n                                    }\n                                    return _this._onError(error);\n                                },\n                                afterComplete: function (metadata) {\n                                    if (events != null) {\n                                        events.onComplete(metadata);\n                                    }\n                                    return _this._onComplete(metadata);\n                                }\n                            })];\n                    case 2: throw (0, error_1.newError)('No connection available');\n                }\n            });\n        }); })\n            .catch(function (error) {\n            if (events != null) {\n                events.onError(error);\n            }\n            _this._onError(error).catch(function () { });\n        })\n            // It should make the transaction active anyway\n            // further errors will be treated by the existing\n            // observers\n            .finally(function () { return _this._acceptActive(); });\n    };\n    /**\n     * Run Cypher query\n     * Could be called with a query object i.e.: `{text: \"MATCH ...\", parameters: {param: 1}}`\n     * or with the query and parameters as separate arguments.\n     * @param {mixed} query - Cypher query to execute\n     * @param {Object} parameters - Map with parameters to use in query\n     * @return {Result} New Result\n     */\n    Transaction.prototype.run = function (query, parameters) {\n        var _a = (0, util_1.validateQueryAndParameters)(query, parameters), validatedQuery = _a.validatedQuery, params = _a.params;\n        var result = this._state.run(validatedQuery, params, {\n            connectionHolder: this._connectionHolder,\n            onError: this._onError,\n            onComplete: this._onComplete,\n            onConnection: this._onConnection,\n            reactive: this._reactive,\n            fetchSize: this._fetchSize,\n            highRecordWatermark: this._highRecordWatermark,\n            lowRecordWatermark: this._lowRecordWatermak,\n            preparationJob: this._activePromise\n        });\n        this._results.push(result);\n        return result;\n    };\n    /**\n     * Commits the transaction and returns the result.\n     *\n     * After committing the transaction can no longer be used.\n     *\n     * @returns {Promise<void>} An empty promise if committed successfully or error if any error happened during commit.\n     */\n    Transaction.prototype.commit = function () {\n        var _this = this;\n        var committed = this._state.commit({\n            connectionHolder: this._connectionHolder,\n            onError: this._onError,\n            onComplete: function (meta) { return _this._onCompleteCallback(meta, _this._bookmarks); },\n            onConnection: this._onConnection,\n            pendingResults: this._results,\n            preparationJob: this._activePromise\n        });\n        this._state = committed.state;\n        // clean up\n        this._onClose();\n        return new Promise(function (resolve, reject) {\n            committed.result.subscribe({\n                onCompleted: function () { return resolve(); },\n                onError: function (error) { return reject(error); }\n            });\n        });\n    };\n    /**\n     * Rollbacks the transaction.\n     *\n     * After rolling back, the transaction can no longer be used.\n     *\n     * @returns {Promise<void>} An empty promise if rolled back successfully or error if any error happened during\n     * rollback.\n     */\n    Transaction.prototype.rollback = function () {\n        var rolledback = this._state.rollback({\n            connectionHolder: this._connectionHolder,\n            onError: this._onError,\n            onComplete: this._onComplete,\n            onConnection: this._onConnection,\n            pendingResults: this._results,\n            preparationJob: this._activePromise\n        });\n        this._state = rolledback.state;\n        // clean up\n        this._onClose();\n        return new Promise(function (resolve, reject) {\n            rolledback.result.subscribe({\n                onCompleted: function () { return resolve(); },\n                onError: function (error) { return reject(error); }\n            });\n        });\n    };\n    /**\n     * Check if this transaction is active, which means commit and rollback did not happen.\n     * @return {boolean} `true` when not committed and not rolled back, `false` otherwise.\n     */\n    Transaction.prototype.isOpen = function () {\n        return this._state === _states.ACTIVE;\n    };\n    /**\n     * Closes the transaction\n     *\n     * This method will roll back the transaction if it is not already committed or rolled back.\n     *\n     * @returns {Promise<void>} An empty promise if closed successfully or error if any error happened during\n     */\n    Transaction.prototype.close = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.isOpen()) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.rollback()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Transaction.prototype._onErrorCallback = function () {\n        // error will be \"acknowledged\" by sending a RESET message\n        // database will then forget about this transaction and cleanup all corresponding resources\n        // it is thus safe to move this transaction to a FAILED state and disallow any further interactions with it\n        this._state = _states.FAILED;\n        this._onClose();\n        // release connection back to the pool\n        return this._connectionHolder.releaseConnection();\n    };\n    /**\n     * @private\n     * @param {object} meta The meta with bookmarks\n     * @returns {void}\n     */\n    Transaction.prototype._onCompleteCallback = function (meta, previousBookmarks) {\n        this._onBookmarks(new bookmarks_1.Bookmarks(meta === null || meta === void 0 ? void 0 : meta.bookmark), previousBookmarks !== null && previousBookmarks !== void 0 ? previousBookmarks : bookmarks_1.Bookmarks.empty(), meta === null || meta === void 0 ? void 0 : meta.db);\n    };\n    return Transaction;\n}());\nvar _states = {\n    // The transaction is running with no explicit success or failure marked\n    ACTIVE: {\n        commit: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete, onConnection = _a.onConnection, pendingResults = _a.pendingResults, preparationJob = _a.preparationJob;\n            return {\n                result: finishTransaction(true, connectionHolder, onError, onComplete, onConnection, pendingResults, preparationJob),\n                state: _states.SUCCEEDED\n            };\n        },\n        rollback: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete, onConnection = _a.onConnection, pendingResults = _a.pendingResults, preparationJob = _a.preparationJob;\n            return {\n                result: finishTransaction(false, connectionHolder, onError, onComplete, onConnection, pendingResults, preparationJob),\n                state: _states.ROLLED_BACK\n            };\n        },\n        run: function (query, parameters, _a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete, onConnection = _a.onConnection, reactive = _a.reactive, fetchSize = _a.fetchSize, highRecordWatermark = _a.highRecordWatermark, lowRecordWatermark = _a.lowRecordWatermark, preparationJob = _a.preparationJob;\n            // RUN in explicit transaction can't contain bookmarks and transaction configuration\n            // No need to include mode and database name as it shall be included in begin\n            var requirements = preparationJob !== null && preparationJob !== void 0 ? preparationJob : Promise.resolve();\n            var observerPromise = connectionHolder.getConnection()\n                .then(function (conn) { return requirements.then(function () { return conn; }); })\n                .then(function (conn) {\n                onConnection();\n                if (conn != null) {\n                    return conn.protocol().run(query, parameters, {\n                        bookmarks: bookmarks_1.Bookmarks.empty(),\n                        txConfig: tx_config_1.TxConfig.empty(),\n                        beforeError: onError,\n                        afterComplete: onComplete,\n                        reactive: reactive,\n                        fetchSize: fetchSize,\n                        highRecordWatermark: highRecordWatermark,\n                        lowRecordWatermark: lowRecordWatermark\n                    });\n                }\n                else {\n                    throw (0, error_1.newError)('No connection available');\n                }\n            })\n                .catch(function (error) { return new observers_1.FailedObserver({ error: error, onError: onError }); });\n            return newCompletedResult(observerPromise, query, parameters, connectionHolder, highRecordWatermark, lowRecordWatermark);\n        }\n    },\n    // An error has occurred, transaction can no longer be used and no more messages will\n    // be sent for this transaction.\n    FAILED: {\n        commit: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return {\n                result: newCompletedResult(new observers_1.FailedObserver({\n                    error: (0, error_1.newError)('Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination.'),\n                    onError: onError\n                }), 'COMMIT', {}, connectionHolder, 0, // high watermark\n                0 // low watermark\n                ),\n                state: _states.FAILED\n            };\n        },\n        rollback: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return {\n                result: newCompletedResult(new observers_1.CompletedObserver(), 'ROLLBACK', {}, connectionHolder, 0, // high watermark\n                0 // low watermark\n                ),\n                state: _states.FAILED\n            };\n        },\n        run: function (query, parameters, _a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return newCompletedResult(new observers_1.FailedObserver({\n                error: (0, error_1.newError)('Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination.'),\n                onError: onError\n            }), query, parameters, connectionHolder, 0, // high watermark\n            0 // low watermark\n            );\n        }\n    },\n    // This transaction has successfully committed\n    SUCCEEDED: {\n        commit: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return {\n                result: newCompletedResult(new observers_1.FailedObserver({\n                    error: (0, error_1.newError)('Cannot commit this transaction, because it has already been committed.'),\n                    onError: onError\n                }), 'COMMIT', {}, connection_holder_1.EMPTY_CONNECTION_HOLDER, 0, // high watermark\n                0 // low watermark\n                ),\n                state: _states.SUCCEEDED,\n                connectionHolder: connectionHolder\n            };\n        },\n        rollback: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return {\n                result: newCompletedResult(new observers_1.FailedObserver({\n                    error: (0, error_1.newError)('Cannot rollback this transaction, because it has already been committed.'),\n                    onError: onError\n                }), 'ROLLBACK', {}, connection_holder_1.EMPTY_CONNECTION_HOLDER, 0, // high watermark\n                0 // low watermark\n                ),\n                state: _states.SUCCEEDED,\n                connectionHolder: connectionHolder\n            };\n        },\n        run: function (query, parameters, _a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return newCompletedResult(new observers_1.FailedObserver({\n                error: (0, error_1.newError)('Cannot run query in this transaction, because it has already been committed.'),\n                onError: onError\n            }), query, parameters, connectionHolder, 0, // high watermark\n            0 // low watermark\n            );\n        }\n    },\n    // This transaction has been rolled back\n    ROLLED_BACK: {\n        commit: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return {\n                result: newCompletedResult(new observers_1.FailedObserver({\n                    error: (0, error_1.newError)('Cannot commit this transaction, because it has already been rolled back.'),\n                    onError: onError\n                }), 'COMMIT', {}, connectionHolder, 0, // high watermark\n                0 // low watermark\n                ),\n                state: _states.ROLLED_BACK\n            };\n        },\n        rollback: function (_a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return {\n                result: newCompletedResult(new observers_1.FailedObserver({\n                    error: (0, error_1.newError)('Cannot rollback this transaction, because it has already been rolled back.')\n                }), 'ROLLBACK', {}, connectionHolder, 0, // high watermark\n                0 // low watermark\n                ),\n                state: _states.ROLLED_BACK\n            };\n        },\n        run: function (query, parameters, _a) {\n            var connectionHolder = _a.connectionHolder, onError = _a.onError, onComplete = _a.onComplete;\n            return newCompletedResult(new observers_1.FailedObserver({\n                error: (0, error_1.newError)('Cannot run query in this transaction, because it has already been rolled back.'),\n                onError: onError\n            }), query, parameters, connectionHolder, 0, // high watermark\n            0 // low watermark\n            );\n        }\n    }\n};\n/**\n *\n * @param {boolean} commit\n * @param {ConnectionHolder} connectionHolder\n * @param {function(err:Error): any} onError\n * @param {function(metadata:object): any} onComplete\n * @param {function() : any} onConnection\n * @param {list<Result>>}pendingResults all run results in this transaction\n */\nfunction finishTransaction(commit, connectionHolder, onError, onComplete, onConnection, pendingResults, preparationJob) {\n    var requirements = preparationJob !== null && preparationJob !== void 0 ? preparationJob : Promise.resolve();\n    var observerPromise = connectionHolder.getConnection()\n        .then(function (conn) { return requirements.then(function () { return conn; }); })\n        .then(function (connection) {\n        onConnection();\n        pendingResults.forEach(function (r) { return r._cancel(); });\n        return Promise.all(pendingResults.map(function (result) { return result.summary(); })).then(function (results) {\n            if (connection != null) {\n                if (commit) {\n                    return connection.protocol().commitTransaction({\n                        beforeError: onError,\n                        afterComplete: onComplete\n                    });\n                }\n                else {\n                    return connection.protocol().rollbackTransaction({\n                        beforeError: onError,\n                        afterComplete: onComplete\n                    });\n                }\n            }\n            else {\n                throw (0, error_1.newError)('No connection available');\n            }\n        });\n    })\n        .catch(function (error) { return new observers_1.FailedObserver({ error: error, onError: onError }); });\n    // for commit & rollback we need result that uses real connection holder and notifies it when\n    // connection is not needed and can be safely released to the pool\n    return new result_1.default(observerPromise, commit ? 'COMMIT' : 'ROLLBACK', {}, connectionHolder, {\n        high: Number.MAX_VALUE,\n        low: Number.MAX_VALUE\n    });\n}\n/**\n * Creates a {@link Result} with empty connection holder.\n * For cases when result represents an intermediate or failed action, does not require any metadata and does not\n * need to influence real connection holder to release connections.\n * @param {ResultStreamObserver} observer - an observer for the created result.\n * @param {string} query - the cypher query that produced the result.\n * @param {Object} parameters - the parameters for cypher query that produced the result.\n * @param {ConnectionHolder} connectionHolder - the connection holder used to get the result\n * @return {Result} new result.\n * @private\n */\nfunction newCompletedResult(observerPromise, query, parameters, connectionHolder, highRecordWatermark, lowRecordWatermark) {\n    if (connectionHolder === void 0) { connectionHolder = connection_holder_1.EMPTY_CONNECTION_HOLDER; }\n    return new result_1.default(Promise.resolve(observerPromise), query, parameters, new connection_holder_1.ReadOnlyConnectionHolder(connectionHolder !== null && connectionHolder !== void 0 ? connectionHolder : connection_holder_1.EMPTY_CONNECTION_HOLDER), {\n        low: lowRecordWatermark,\n        high: highRecordWatermark\n    });\n}\nexports.default = Transaction;\n","\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.WRITE = exports.READ = exports.Driver = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _neo4jDriverCore = require(\"neo4j-driver-core\");\n\nvar _sessionRx = _interopRequireDefault(require(\"./session-rx\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar FETCH_ALL = _neo4jDriverCore.internal.constants.FETCH_ALL;\nvar READ = _neo4jDriverCore.driver.READ,\n    WRITE = _neo4jDriverCore.driver.WRITE;\n/**\n * A driver maintains one or more {@link Session}s with a remote\n * Neo4j instance. Through the {@link Session}s you can send queries\n * and retrieve results from the database.\n *\n * Drivers are reasonably expensive to create - you should strive to keep one\n * driver instance around per Neo4j Instance you connect to.\n *\n * @access public\n */\n\nexports.WRITE = WRITE;\nexports.READ = READ;\n\nvar Driver = /*#__PURE__*/function (_CoreDriver) {\n  (0, _inherits2[\"default\"])(Driver, _CoreDriver);\n\n  var _super = _createSuper(Driver);\n\n  function Driver() {\n    (0, _classCallCheck2[\"default\"])(this, Driver);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(Driver, [{\n    key: \"rxSession\",\n    value:\n    /**\n     * Acquire a reactive session to communicate with the database. The session will\n     * borrow connections from the underlying connection pool as required and\n     * should be considered lightweight and disposable.\n     *\n     * This comes with some responsibility - make sure you always call\n     * {@link close} when you are done using a session, and likewise,\n     * make sure you don't close your session before you are done using it. Once\n     * it is closed, the underlying connection will be released to the connection\n     * pool and made available for others to use.\n     *\n     * @public\n     * @param {SessionConfig} config\n     * @returns {RxSession} new reactive session.\n     */\n    function rxSession() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$defaultAccessMod = _ref.defaultAccessMode,\n          defaultAccessMode = _ref$defaultAccessMod === void 0 ? WRITE : _ref$defaultAccessMod,\n          bookmarks = _ref.bookmarks,\n          _ref$database = _ref.database,\n          database = _ref$database === void 0 ? '' : _ref$database,\n          fetchSize = _ref.fetchSize,\n          impersonatedUser = _ref.impersonatedUser,\n          bookmarkManager = _ref.bookmarkManager;\n\n      return new _sessionRx[\"default\"]({\n        session: this._newSession({\n          defaultAccessMode: defaultAccessMode,\n          bookmarkOrBookmarks: bookmarks,\n          database: database,\n          impersonatedUser: impersonatedUser,\n          reactive: false,\n          fetchSize: validateFetchSizeValue(fetchSize, this._config.fetchSize),\n          bookmarkManager: bookmarkManager\n        }),\n        config: this._config\n      });\n    }\n  }]);\n  return Driver;\n}(_neo4jDriverCore.Driver);\n/**\n * @private\n */\n\n\nexports.Driver = Driver;\n\nfunction validateFetchSizeValue(rawValue, defaultWhenAbsent) {\n  var fetchSize = parseInt(rawValue, 10);\n\n  if (fetchSize > 0 || fetchSize === FETCH_ALL) {\n    return fetchSize;\n  } else if (fetchSize === 0 || fetchSize < 0) {\n    throw new Error(\"The fetch size can only be a positive value or \".concat(FETCH_ALL, \" for ALL. However fetchSize = \").concat(fetchSize));\n  } else {\n    return defaultWhenAbsent;\n  }\n}\n\nvar _default = Driver;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Date\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Date;\n  }\n});\nObject.defineProperty(exports, \"DateTime\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.DateTime;\n  }\n});\nObject.defineProperty(exports, \"Driver\", {\n  enumerable: true,\n  get: function get() {\n    return _driver.Driver;\n  }\n});\nObject.defineProperty(exports, \"Duration\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Duration;\n  }\n});\nObject.defineProperty(exports, \"Integer\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Integer;\n  }\n});\nObject.defineProperty(exports, \"LocalDateTime\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.LocalDateTime;\n  }\n});\nObject.defineProperty(exports, \"LocalTime\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.LocalTime;\n  }\n});\nObject.defineProperty(exports, \"ManagedTransaction\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.ManagedTransaction;\n  }\n});\nObject.defineProperty(exports, \"Neo4jError\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Neo4jError;\n  }\n});\nObject.defineProperty(exports, \"Node\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Node;\n  }\n});\nObject.defineProperty(exports, \"Notification\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Notification;\n  }\n});\nObject.defineProperty(exports, \"Path\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Path;\n  }\n});\nObject.defineProperty(exports, \"PathSegment\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.PathSegment;\n  }\n});\nObject.defineProperty(exports, \"Plan\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Plan;\n  }\n});\nObject.defineProperty(exports, \"Point\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Point;\n  }\n});\nObject.defineProperty(exports, \"ProfiledPlan\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.ProfiledPlan;\n  }\n});\nObject.defineProperty(exports, \"QueryStatistics\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.QueryStatistics;\n  }\n});\nObject.defineProperty(exports, \"Record\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Record;\n  }\n});\nObject.defineProperty(exports, \"Relationship\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Relationship;\n  }\n});\nObject.defineProperty(exports, \"Result\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Result;\n  }\n});\nObject.defineProperty(exports, \"ResultSummary\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.ResultSummary;\n  }\n});\nObject.defineProperty(exports, \"RxManagedTransaction\", {\n  enumerable: true,\n  get: function get() {\n    return _transactionManagedRx[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"RxResult\", {\n  enumerable: true,\n  get: function get() {\n    return _resultRx[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"RxSession\", {\n  enumerable: true,\n  get: function get() {\n    return _sessionRx[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"RxTransaction\", {\n  enumerable: true,\n  get: function get() {\n    return _transactionRx[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"ServerInfo\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.ServerInfo;\n  }\n});\nObject.defineProperty(exports, \"Session\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Session;\n  }\n});\nObject.defineProperty(exports, \"Time\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Time;\n  }\n});\nObject.defineProperty(exports, \"Transaction\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.Transaction;\n  }\n});\nObject.defineProperty(exports, \"UnboundRelationship\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.UnboundRelationship;\n  }\n});\nObject.defineProperty(exports, \"auth\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.auth;\n  }\n});\nObject.defineProperty(exports, \"bookmarkManager\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.bookmarkManager;\n  }\n});\nexports[\"default\"] = void 0;\nexports.driver = driver;\nObject.defineProperty(exports, \"error\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.error;\n  }\n});\nexports.hasReachableServer = hasReachableServer;\nObject.defineProperty(exports, \"int\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore[\"int\"];\n  }\n});\nexports.integer = void 0;\nObject.defineProperty(exports, \"isDate\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isDate;\n  }\n});\nObject.defineProperty(exports, \"isDateTime\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isDateTime;\n  }\n});\nObject.defineProperty(exports, \"isDuration\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isDuration;\n  }\n});\nObject.defineProperty(exports, \"isInt\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isInt;\n  }\n});\nObject.defineProperty(exports, \"isLocalDateTime\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isLocalDateTime;\n  }\n});\nObject.defineProperty(exports, \"isLocalTime\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isLocalTime;\n  }\n});\nObject.defineProperty(exports, \"isPoint\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isPoint;\n  }\n});\nObject.defineProperty(exports, \"isRetryableError\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isRetryableError;\n  }\n});\nObject.defineProperty(exports, \"isTime\", {\n  enumerable: true,\n  get: function get() {\n    return _neo4jDriverCore.isTime;\n  }\n});\nexports.types = exports.temporal = exports.spatial = exports.session = exports.logging = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _driver = require(\"./driver\");\n\nvar _version = _interopRequireDefault(require(\"./version\"));\n\nvar _neo4jDriverCore = require(\"neo4j-driver-core\");\n\nvar _neo4jDriverBoltConnection = require(\"neo4j-driver-bolt-connection\");\n\nvar _sessionRx = _interopRequireDefault(require(\"./session-rx\"));\n\nvar _transactionRx = _interopRequireDefault(require(\"./transaction-rx\"));\n\nvar _transactionManagedRx = _interopRequireDefault(require(\"./transaction-managed-rx\"));\n\nvar _resultRx = _interopRequireDefault(require(\"./result-rx\"));\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _internal$util = _neo4jDriverCore.internal.util,\n    ENCRYPTION_ON = _internal$util.ENCRYPTION_ON,\n    assertString = _internal$util.assertString,\n    isEmptyObjectOrNull = _internal$util.isEmptyObjectOrNull,\n    ServerAddress = _neo4jDriverCore.internal.serverAddress.ServerAddress,\n    urlUtil = _neo4jDriverCore.internal.urlUtil;\n/**\n * Construct a new Neo4j Driver. This is your main entry point for this\n * library.\n *\n * ## Configuration\n *\n * This function optionally takes a configuration argument. Available configuration\n * options are as follows:\n *\n *     {\n *       // Encryption level: ENCRYPTION_ON or ENCRYPTION_OFF.\n *       encrypted: ENCRYPTION_ON|ENCRYPTION_OFF\n *\n *       // Trust strategy to use if encryption is enabled. There is no mode to disable\n *       // trust other than disabling encryption altogether. The reason for\n *       // this is that if you don't know who you are talking to, it is easy for an\n *       // attacker to hijack your encrypted connection, rendering encryption pointless.\n *       //\n *       // TRUST_SYSTEM_CA_SIGNED_CERTIFICATES is the default choice. For NodeJS environments, this\n *       // means that you trust whatever certificates are in the default trusted certificate\n *       // store of the underlying system. For Browser environments, the trusted certificate\n *       // store is usually managed by the browser. Refer to your system or browser documentation\n *       // if you want to explicitly add a certificate as trusted.\n *       //\n *       // TRUST_CUSTOM_CA_SIGNED_CERTIFICATES is another option for trust verification -\n *       // whenever we establish an encrypted connection, we ensure the host is using\n *       // an encryption certificate that is in, or is signed by, a certificate given\n *       // as trusted through configuration. This option is only available for NodeJS environments.\n *       //\n *       // TRUST_ALL_CERTIFICATES means that you trust everything without any verifications\n *       // steps carried out.  This option is only available for NodeJS environments and should not\n *       // be used on production systems.\n *       trust: \"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES\" | \"TRUST_CUSTOM_CA_SIGNED_CERTIFICATES\" |\n *       \"TRUST_ALL_CERTIFICATES\",\n *\n *       // List of one or more paths to trusted encryption certificates. This only\n *       // works in the NodeJS bundle, and only matters if you use \"TRUST_CUSTOM_CA_SIGNED_CERTIFICATES\".\n *       // The certificate files should be in regular X.509 PEM format.\n *       // For instance, ['./trusted.pem']\n *       trustedCertificates: [],\n *\n *       // The maximum total number of connections allowed to be managed by the connection pool, per host.\n *       // This includes both in-use and idle connections. No maximum connection pool size is imposed\n *       // by default.\n *       maxConnectionPoolSize: 100,\n *\n *       // The maximum allowed lifetime for a pooled connection in milliseconds. Pooled connections older than this\n *       // threshold will be closed and removed from the pool. Such discarding happens during connection acquisition\n *       // so that new session is never backed by an old connection. Setting this option to a low value will cause\n *       // a high connection churn and might result in a performance hit. It is recommended to set maximum lifetime\n *       // to a slightly smaller value than the one configured in network equipment (load balancer, proxy, firewall,\n *       // etc. can also limit maximum connection lifetime). No maximum lifetime limit is imposed by default. Zero\n *       // and negative values result in lifetime not being checked.\n *       maxConnectionLifetime: 60 * 60 * 1000, // 1 hour\n *\n *       // The maximum amount of time to wait to acquire a connection from the pool (to either create a new\n *       // connection or borrow an existing one.\n *       connectionAcquisitionTimeout: 60000, // 1 minute\n *\n *       // Specify the maximum time in milliseconds transactions are allowed to retry via\n *       // `Session#executeRead()` and `Session#executeWrite()` functions.\n *       // These functions will retry the given unit of work on `ServiceUnavailable`, `SessionExpired` and transient\n *       // errors with exponential backoff using initial delay of 1 second.\n *       // Default value is 30000 which is 30 seconds.\n *       maxTransactionRetryTime: 30000, // 30 seconds\n *\n *       // Specify socket connection timeout in milliseconds. Numeric values are expected. Negative and zero values\n *       // result in no timeout being applied. Connection establishment will be then bound by the timeout configured\n *       // on the operating system level. Default value is 30000, which is 30 seconds.\n *       connectionTimeout: 30000, // 30 seconds\n *\n *       // Make this driver always return native JavaScript numbers for integer values, instead of the\n *       // dedicated {@link Integer} class. Values that do not fit in native number bit range will be represented as\n *       // `Number.NEGATIVE_INFINITY` or `Number.POSITIVE_INFINITY`.\n *       // **Warning:** ResultSummary It is not always safe to enable this setting when JavaScript applications are not the only ones\n *       // interacting with the database. Stored numbers might in such case be not representable by native\n *       // {@link Number} type and thus driver will return lossy values. This might also happen when data was\n *       // initially imported using neo4j import tool and contained numbers larger than\n *       // `Number.MAX_SAFE_INTEGER`. Driver will then return positive infinity, which is lossy.\n *       // Default value for this option is `false` because native JavaScript numbers might result\n *       // in loss of precision in the general case.\n *       disableLosslessIntegers: false,\n *\n *       // Make this driver always return native Javascript {@link BigInt} for integer values, instead of the dedicated {@link Integer} class or {@link Number}.\n *       //\n *       // Default value for this option is `false` for backwards compatibility.\n *       //\n *       // **Warning:** `BigInt` doesn't implement the method `toJSON`. In maner of serialize it as `json`, It's needed to add a custom implementation of the `toJSON` on the\n *       // `BigInt.prototype` {@see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#use_within_json}\n *       useBigInt: false,\n *\n *       // Specify the logging configuration for the driver. Object should have two properties `level` and `logger`.\n *       //\n *       // Property `level` represents the logging level which should be one of: 'error', 'warn', 'info' or 'debug'. This property is optional and\n *       // its default value is 'info'. Levels have priorities: 'error': 0, 'warn': 1, 'info': 2, 'debug': 3. Enabling a certain level also enables all\n *       // levels with lower priority. For example: 'error', 'warn' and 'info' will be logged when 'info' level is configured.\n *       //\n *       // Property `logger` represents the logging function which will be invoked for every log call with an acceptable level. The function should\n *       // take two string arguments `level` and `message`. The function should not execute any blocking or long-running operations\n *       // because it is often executed on a hot path.\n *       //\n *       // No logging is done by default. See `neo4j.logging` object that contains predefined logging implementations.\n *       logging: {\n *         level: 'info',\n *         logger: (level, message) => console.log(level + ' ' + message)\n *       },\n *\n *       // Specify a custom server address resolver function used by the routing driver to resolve the initial address used to create the driver.\n *       // Such resolution happens:\n *       //  * during the very first rediscovery when driver is created\n *       //  * when all the known routers from the current routing table have failed and driver needs to fallback to the initial address\n *       //\n *       // In NodeJS environment driver defaults to performing a DNS resolution of the initial address using 'dns' module.\n *       // In browser environment driver uses the initial address as-is.\n *       // Value should be a function that takes a single string argument - the initial address. It should return an array of new addresses.\n *       // Address is a string of shape '<host>:<port>'. Provided function can return either a Promise resolved with an array of addresses\n *       // or array of addresses directly.\n *       resolver: function(address) {\n *         return ['127.0.0.1:8888', 'fallback.db.com:7687'];\n *       },\n *\n *      // Optionally override the default user agent name.\n *       userAgent: USER_AGENT\n *     }\n *\n * @param {string} url The URL for the Neo4j database, for instance \"neo4j://localhost\" and/or \"bolt://localhost\"\n * @param {Map<string,string>} authToken Authentication credentials. See {@link auth} for helpers.\n * @param {Object} config Configuration object. See the configuration section above for details.\n * @returns {Driver}\n */\n\nfunction driver(url, authToken) {\n  var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  assertString(url, 'Bolt URL');\n  var parsedUrl = urlUtil.parseDatabaseUrl(url); // Determine entryption/trust options from the URL.\n\n  var routing = false;\n  var encrypted = false;\n  var trust;\n\n  switch (parsedUrl.scheme) {\n    case 'bolt':\n      break;\n\n    case 'bolt+s':\n      encrypted = true;\n      trust = 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES';\n      break;\n\n    case 'bolt+ssc':\n      encrypted = true;\n      trust = 'TRUST_ALL_CERTIFICATES';\n      break;\n\n    case 'neo4j':\n      routing = true;\n      break;\n\n    case 'neo4j+s':\n      encrypted = true;\n      trust = 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES';\n      routing = true;\n      break;\n\n    case 'neo4j+ssc':\n      encrypted = true;\n      trust = 'TRUST_ALL_CERTIFICATES';\n      routing = true;\n      break;\n\n    default:\n      throw new Error(\"Unknown scheme: \".concat(parsedUrl.scheme));\n  } // Encryption enabled on URL, propagate trust to the config.\n\n\n  if (encrypted) {\n    // Check for configuration conflict between URL and config.\n    if ('encrypted' in config || 'trust' in config) {\n      throw new Error('Encryption/trust can only be configured either through URL or config, not both');\n    }\n\n    config.encrypted = ENCRYPTION_ON;\n    config.trust = trust;\n  } // Sanitize authority token. Nicer error from server when a scheme is set.\n\n\n  authToken = authToken || {};\n  authToken.scheme = authToken.scheme || 'none'; // Use default user agent or user agent specified by user.\n\n  config.userAgent = config.userAgent || USER_AGENT;\n  var address = ServerAddress.fromUrl(parsedUrl.hostAndPort);\n  var meta = {\n    address: address,\n    typename: routing ? 'Routing' : 'Direct',\n    routing: routing\n  };\n  return new _driver.Driver(meta, config, createConnectionProviderFunction());\n\n  function createConnectionProviderFunction() {\n    if (routing) {\n      return function (id, config, log, hostNameResolver) {\n        return new _neo4jDriverBoltConnection.RoutingConnectionProvider({\n          id: id,\n          config: config,\n          log: log,\n          hostNameResolver: hostNameResolver,\n          authToken: authToken,\n          address: address,\n          userAgent: config.userAgent,\n          routingContext: parsedUrl.query\n        });\n      };\n    } else {\n      if (!isEmptyObjectOrNull(parsedUrl.query)) {\n        throw new Error(\"Parameters are not supported with none routed scheme. Given URL: '\".concat(url, \"'\"));\n      }\n\n      return function (id, config, log) {\n        return new _neo4jDriverBoltConnection.DirectConnectionProvider({\n          id: id,\n          config: config,\n          log: log,\n          authToken: authToken,\n          address: address,\n          userAgent: config.userAgent\n        });\n      };\n    }\n  }\n}\n/**\n * Verifies if the driver can reach a server at the given url.\n *\n * @experimental\n * @since 5.0.0\n * @param {string} url The URL for the Neo4j database, for instance \"neo4j://localhost\" and/or \"bolt://localhost\"\n * @param {object} config Configuration object. See the {@link driver}\n * @returns {true} When the server is reachable\n * @throws {Error} When the server is not reachable or the url is invalid\n */\n\n\nfunction hasReachableServer(_x, _x2) {\n  return _hasReachableServer.apply(this, arguments);\n}\n\nfunction _hasReachableServer() {\n  _hasReachableServer = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(url, config) {\n    var nonLoggedDriver;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            nonLoggedDriver = driver(url, {\n              scheme: 'none',\n              principal: '',\n              credentials: ''\n            }, config);\n            _context.prev = 1;\n            _context.next = 4;\n            return nonLoggedDriver.getNegotiatedProtocolVersion();\n\n          case 4:\n            return _context.abrupt(\"return\", true);\n\n          case 5:\n            _context.prev = 5;\n            _context.next = 8;\n            return nonLoggedDriver.close();\n\n          case 8:\n            return _context.finish(5);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1,, 5, 9]]);\n  }));\n  return _hasReachableServer.apply(this, arguments);\n}\n\nvar USER_AGENT = 'neo4j-javascript/' + _version[\"default\"];\n/**\n * Object containing predefined logging configurations. These are expected to be used as values of the driver config's `logging` property.\n * @property {function(level: ?string): object} console the function to create a logging config that prints all messages to `console.log` with\n * timestamp, level and message. It takes an optional `level` parameter which represents the maximum log level to be logged. Default value is 'info'.\n */\n\nvar logging = {\n  console: function (_console) {\n    function console(_x3) {\n      return _console.apply(this, arguments);\n    }\n\n    console.toString = function () {\n      return _console.toString();\n    };\n\n    return console;\n  }(function (level) {\n    return {\n      level: level,\n      logger: function logger(level, message) {\n        return console.log(\"\".concat(global.Date.now(), \" \").concat(level.toUpperCase(), \" \").concat(message));\n      }\n    };\n  })\n};\n/**\n * Object containing constructors for all neo4j types.\n */\n\nexports.logging = logging;\nvar types = {\n  Node: _neo4jDriverCore.Node,\n  Relationship: _neo4jDriverCore.Relationship,\n  UnboundRelationship: _neo4jDriverCore.UnboundRelationship,\n  PathSegment: _neo4jDriverCore.PathSegment,\n  Path: _neo4jDriverCore.Path,\n  Result: _neo4jDriverCore.Result,\n  ResultSummary: _neo4jDriverCore.ResultSummary,\n  Record: _neo4jDriverCore.Record,\n  Point: _neo4jDriverCore.Point,\n  Date: _neo4jDriverCore.Date,\n  DateTime: _neo4jDriverCore.DateTime,\n  Duration: _neo4jDriverCore.Duration,\n  LocalDateTime: _neo4jDriverCore.LocalDateTime,\n  LocalTime: _neo4jDriverCore.LocalTime,\n  Time: _neo4jDriverCore.Time,\n  Integer: _neo4jDriverCore.Integer\n};\n/**\n * Object containing string constants representing session access modes.\n */\n\nexports.types = types;\nvar session = {\n  READ: _driver.READ,\n  WRITE: _driver.WRITE\n};\n/**\n * Object containing functions to work with {@link Integer} objects.\n */\n\nexports.session = session;\nvar integer = {\n  toNumber: _neo4jDriverCore.toNumber,\n  toString: _neo4jDriverCore.toString,\n  inSafeRange: _neo4jDriverCore.inSafeRange\n};\n/**\n * Object containing functions to work with spatial types, like {@link Point}.\n */\n\nexports.integer = integer;\nvar spatial = {\n  isPoint: _neo4jDriverCore.isPoint\n};\n/**\n * Object containing functions to work with temporal types, like {@link Time} or {@link Duration}.\n */\n\nexports.spatial = spatial;\nvar temporal = {\n  isDuration: _neo4jDriverCore.isDuration,\n  isLocalTime: _neo4jDriverCore.isLocalTime,\n  isTime: _neo4jDriverCore.isTime,\n  isDate: _neo4jDriverCore.isDate,\n  isLocalDateTime: _neo4jDriverCore.isLocalDateTime,\n  isDateTime: _neo4jDriverCore.isDateTime\n};\n/**\n * @private\n */\n\nexports.temporal = temporal;\nvar forExport = {\n  driver: driver,\n  hasReachableServer: hasReachableServer,\n  \"int\": _neo4jDriverCore[\"int\"],\n  isInt: _neo4jDriverCore.isInt,\n  isPoint: _neo4jDriverCore.isPoint,\n  isDuration: _neo4jDriverCore.isDuration,\n  isLocalTime: _neo4jDriverCore.isLocalTime,\n  isTime: _neo4jDriverCore.isTime,\n  isDate: _neo4jDriverCore.isDate,\n  isLocalDateTime: _neo4jDriverCore.isLocalDateTime,\n  isDateTime: _neo4jDriverCore.isDateTime,\n  integer: integer,\n  Neo4jError: _neo4jDriverCore.Neo4jError,\n  isRetryableError: _neo4jDriverCore.isRetryableError,\n  auth: _neo4jDriverCore.auth,\n  logging: logging,\n  types: types,\n  session: session,\n  error: _neo4jDriverCore.error,\n  spatial: spatial,\n  temporal: temporal,\n  Driver: _driver.Driver,\n  Session: _neo4jDriverCore.Session,\n  Transaction: _neo4jDriverCore.Transaction,\n  ManagedTransaction: _neo4jDriverCore.ManagedTransaction,\n  Result: _neo4jDriverCore.Result,\n  RxSession: _sessionRx[\"default\"],\n  RxTransaction: _transactionRx[\"default\"],\n  RxManagedTransaction: _transactionManagedRx[\"default\"],\n  RxResult: _resultRx[\"default\"],\n  ResultSummary: _neo4jDriverCore.ResultSummary,\n  Plan: _neo4jDriverCore.Plan,\n  ProfiledPlan: _neo4jDriverCore.ProfiledPlan,\n  QueryStatistics: _neo4jDriverCore.QueryStatistics,\n  Notification: _neo4jDriverCore.Notification,\n  ServerInfo: _neo4jDriverCore.ServerInfo,\n  Record: _neo4jDriverCore.Record,\n  Node: _neo4jDriverCore.Node,\n  Relationship: _neo4jDriverCore.Relationship,\n  UnboundRelationship: _neo4jDriverCore.UnboundRelationship,\n  Path: _neo4jDriverCore.Path,\n  PathSegment: _neo4jDriverCore.PathSegment,\n  Point: _neo4jDriverCore.Point,\n  Integer: _neo4jDriverCore.Integer,\n  Duration: _neo4jDriverCore.Duration,\n  LocalTime: _neo4jDriverCore.LocalTime,\n  Time: _neo4jDriverCore.Time,\n  Date: _neo4jDriverCore.Date,\n  LocalDateTime: _neo4jDriverCore.LocalDateTime,\n  DateTime: _neo4jDriverCore.DateTime,\n  bookmarkManager: _neo4jDriverCore.bookmarkManager\n};\nvar _default = forExport;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _neo4jDriverCore = require(\"neo4j-driver-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\nvar Logger = _neo4jDriverCore.internal.logger.Logger;\nvar SERVICE_UNAVAILABLE = _neo4jDriverCore.error.SERVICE_UNAVAILABLE;\nvar DEFAULT_MAX_RETRY_TIME_MS = 30 * 1000; // 30 seconds\n\nvar DEFAULT_INITIAL_RETRY_DELAY_MS = 1000; // 1 seconds\n\nvar DEFAULT_RETRY_DELAY_MULTIPLIER = 2.0;\nvar DEFAULT_RETRY_DELAY_JITTER_FACTOR = 0.2;\n\nvar RxRetryLogic = /*#__PURE__*/function () {\n  /**\n   *\n   * @param {Object} args\n   * @param {Logger} args.logger\n   */\n  function RxRetryLogic() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$maxRetryTimeout = _ref.maxRetryTimeout,\n        maxRetryTimeout = _ref$maxRetryTimeout === void 0 ? DEFAULT_MAX_RETRY_TIME_MS : _ref$maxRetryTimeout,\n        _ref$initialDelay = _ref.initialDelay,\n        initialDelay = _ref$initialDelay === void 0 ? DEFAULT_INITIAL_RETRY_DELAY_MS : _ref$initialDelay,\n        _ref$delayMultiplier = _ref.delayMultiplier,\n        delayMultiplier = _ref$delayMultiplier === void 0 ? DEFAULT_RETRY_DELAY_MULTIPLIER : _ref$delayMultiplier,\n        _ref$delayJitter = _ref.delayJitter,\n        delayJitter = _ref$delayJitter === void 0 ? DEFAULT_RETRY_DELAY_JITTER_FACTOR : _ref$delayJitter,\n        _ref$logger = _ref.logger,\n        logger = _ref$logger === void 0 ? null : _ref$logger;\n\n    (0, _classCallCheck2[\"default\"])(this, RxRetryLogic);\n    this._maxRetryTimeout = valueOrDefault(maxRetryTimeout, DEFAULT_MAX_RETRY_TIME_MS);\n    this._initialDelay = valueOrDefault(initialDelay, DEFAULT_INITIAL_RETRY_DELAY_MS);\n    this._delayMultiplier = valueOrDefault(delayMultiplier, DEFAULT_RETRY_DELAY_MULTIPLIER);\n    this._delayJitter = valueOrDefault(delayJitter, DEFAULT_RETRY_DELAY_JITTER_FACTOR);\n    this._logger = logger;\n  }\n  /**\n   *\n   * @param {Observable<Any>} work\n   */\n\n\n  (0, _createClass2[\"default\"])(RxRetryLogic, [{\n    key: \"retry\",\n    value: function retry(work) {\n      var _this = this;\n\n      return work.pipe((0, _operators.retryWhen)(function (failedWork) {\n        var handledExceptions = [];\n        var startTime = Date.now();\n        var retryCount = 1;\n        var delayDuration = _this._initialDelay;\n        return failedWork.pipe((0, _operators.mergeMap)(function (err) {\n          if (!(0, _neo4jDriverCore.isRetriableError)(err)) {\n            return (0, _rxjs.throwError)(function () {\n              return err;\n            });\n          }\n\n          handledExceptions.push(err);\n\n          if (retryCount >= 2 && Date.now() - startTime >= _this._maxRetryTimeout) {\n            var _error = (0, _neo4jDriverCore.newError)(\"Failed after retried for \".concat(retryCount, \" times in \").concat(_this._maxRetryTimeout, \" ms. Make sure that your database is online and retry again.\"), SERVICE_UNAVAILABLE);\n\n            _error.seenErrors = handledExceptions;\n            return (0, _rxjs.throwError)(function () {\n              return _error;\n            });\n          }\n\n          var nextDelayDuration = _this._computeNextDelay(delayDuration);\n\n          delayDuration = delayDuration * _this._delayMultiplier;\n          retryCount++;\n\n          if (_this._logger) {\n            _this._logger.warn(\"Transaction failed and will be retried in \".concat(nextDelayDuration));\n          }\n\n          return (0, _rxjs.of)(1).pipe((0, _operators.delay)(nextDelayDuration));\n        }));\n      }));\n    }\n  }, {\n    key: \"_computeNextDelay\",\n    value: function _computeNextDelay(delay) {\n      var jitter = delay * this._delayJitter;\n      return delay - jitter + 2 * jitter * Math.random();\n    }\n  }]);\n  return RxRetryLogic;\n}();\n\nexports[\"default\"] = RxRetryLogic;\n\nfunction valueOrDefault(value, defaultValue) {\n  if (value || value === 0) {\n    return value;\n  }\n\n  return defaultValue;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _neo4jDriverCore = require(\"neo4j-driver-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable-next-line no-unused-vars */\nvar States = {\n  READY: 0,\n  STREAMING: 1,\n  COMPLETED: 2\n};\n/**\n * The reactive result interface.\n */\n\nvar RxResult = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @protected\n   * @param {Observable<Result>} result - An observable of single Result instance to relay requests.\n   * @param {number} state - The streaming state\n   */\n  function RxResult(result, state) {\n    (0, _classCallCheck2[\"default\"])(this, RxResult);\n    var replayedResult = result.pipe((0, _operators.publishReplay)(1), (0, _operators.refCount)());\n    this._result = replayedResult;\n    this._keys = replayedResult.pipe((0, _operators.mergeMap)(function (r) {\n      return (0, _rxjs.from)(r.keys());\n    }), (0, _operators.publishReplay)(1), (0, _operators.refCount)());\n    this._records = undefined;\n    this._controls = new StreamControl();\n    this._summary = new _rxjs.ReplaySubject();\n    this._state = state || States.READY;\n  }\n  /**\n   * Returns an observable that exposes a single item containing field names\n   * returned by the executing query.\n   *\n   * Errors raised by actual query execution can surface on the returned\n   * observable stream.\n   *\n   * @public\n   * @returns {Observable<string[]>} - An observable stream (with exactly one element) of field names.\n   */\n\n\n  (0, _createClass2[\"default\"])(RxResult, [{\n    key: \"keys\",\n    value: function keys() {\n      return this._keys;\n    }\n    /**\n     * Returns an observable that exposes each record returned by the executing query.\n     *\n     * Errors raised during the streaming phase can surface on the returned observable stream.\n     *\n     * @public\n     * @returns {Observable<Record>} - An observable stream of records.\n     */\n\n  }, {\n    key: \"records\",\n    value: function records() {\n      var _this = this;\n\n      var result = this._result.pipe((0, _operators.mergeMap)(function (result) {\n        return new _rxjs.Observable(function (recordsObserver) {\n          return _this._startStreaming({\n            result: result,\n            recordsObserver: recordsObserver\n          });\n        });\n      }));\n\n      result.push = function () {\n        return _this._push();\n      };\n\n      return result;\n    }\n    /**\n     * Returns an observable that exposes a single item of {@link ResultSummary} that is generated by\n     * the server after the streaming of the executing query is completed.\n     *\n     * *Subscribing to this stream before subscribing to records() stream causes the results to be discarded on the server.*\n     *\n     * @public\n     * @returns {Observable<ResultSummary>} - An observable stream (with exactly one element) of result summary.\n     */\n\n  }, {\n    key: \"consume\",\n    value: function consume() {\n      var _this2 = this;\n\n      return this._result.pipe((0, _operators.mergeMap)(function (result) {\n        return new _rxjs.Observable(function (summaryObserver) {\n          return _this2._startStreaming({\n            result: result,\n            summaryObserver: summaryObserver\n          });\n        });\n      }));\n    }\n    /**\n     * Pauses the automatic streaming of records.\n     *\n     * This method provides a way of controll the flow of records\n     *\n     * @experimental\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this._controls.pause();\n    }\n    /**\n     * Resumes the automatic streaming of records.\n     *\n     * This method won't need to be called in normal stream operation. It only applies to the case when the stream is paused.\n     *\n     * This method is method won't start the consuming records if the ${@link records()} stream didn't get subscribed.\n     * @experimental\n     * @returns {Promise<void>} - A promise that resolves when the stream is resumed.\n     */\n\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      return this._controls.resume();\n    }\n    /**\n     * Pushes the next record to the stream.\n     *\n     * This method automatic pause the auto-streaming of records and then push next record to the stream.\n     *\n     * For returning the automatic streaming of records, use {@link resume} method.\n     *\n     * @experimental\n     * @returns {Promise<void>} - A promise that resolves when the push is completed.\n     */\n\n  }, {\n    key: \"push\",\n    value: function push() {\n      return this._controls.push();\n    }\n  }, {\n    key: \"_startStreaming\",\n    value: function _startStreaming() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          result = _ref.result,\n          _ref$recordsObserver = _ref.recordsObserver,\n          recordsObserver = _ref$recordsObserver === void 0 ? null : _ref$recordsObserver,\n          _ref$summaryObserver = _ref.summaryObserver,\n          summaryObserver = _ref$summaryObserver === void 0 ? null : _ref$summaryObserver;\n\n      var subscriptions = [];\n\n      if (summaryObserver) {\n        subscriptions.push(this._summary.subscribe(summaryObserver));\n      }\n\n      if (this._state < States.STREAMING) {\n        this._state = States.STREAMING;\n\n        this._setupRecordsStream(result);\n\n        if (recordsObserver) {\n          subscriptions.push(this._records.subscribe(recordsObserver));\n        } else {\n          result._cancel();\n        }\n\n        subscriptions.push({\n          unsubscribe: function unsubscribe() {\n            if (result._cancel) {\n              result._cancel();\n            }\n          }\n        });\n      } else if (recordsObserver) {\n        recordsObserver.error((0, _neo4jDriverCore.newError)('Streaming has already started/consumed with a previous records or summary subscription.'));\n      }\n\n      return function () {\n        subscriptions.forEach(function (s) {\n          return s.unsubscribe();\n        });\n      };\n    }\n    /**\n     * Create a {@link Observable} for the current {@link RxResult}\n     *\n     *\n     * @package\n     * @experimental\n     * @since 5.0\n     * @return {Observable<RxResult>}\n     */\n\n  }, {\n    key: \"_toObservable\",\n    value: function _toObservable() {\n      var _this3 = this;\n\n      function wrap(result) {\n        return new _rxjs.Observable(function (observer) {\n          observer.next(result);\n          observer.complete();\n        });\n      }\n\n      return new _rxjs.Observable(function (observer) {\n        _this3._result.subscribe({\n          complete: function complete() {\n            return observer.complete();\n          },\n          next: function next(result) {\n            return observer.next(new RxResult(wrap(result)), _this3._state);\n          },\n          error: function error(e) {\n            return observer.error(e);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_setupRecordsStream\",\n    value: function _setupRecordsStream(result) {\n      var _this4 = this;\n\n      if (this._records) {\n        return this._records;\n      }\n\n      this._records = createFullyControlledSubject(result[Symbol.asyncIterator](), {\n        complete: function () {\n          var _complete = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n            return _regenerator[\"default\"].wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _this4._state = States.COMPLETED;\n                    _context.t0 = _this4._summary;\n                    _context.next = 4;\n                    return result.summary();\n\n                  case 4:\n                    _context.t1 = _context.sent;\n\n                    _context.t0.next.call(_context.t0, _context.t1);\n\n                    _this4._summary.complete();\n\n                  case 7:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function complete() {\n            return _complete.apply(this, arguments);\n          }\n\n          return complete;\n        }(),\n        error: function error(_error) {\n          _this4._state = States.COMPLETED;\n\n          _this4._summary.error(_error);\n        }\n      }, this._controls);\n      return this._records;\n    }\n  }]);\n  return RxResult;\n}();\n\nexports[\"default\"] = RxResult;\n\nfunction createFullyControlledSubject(iterator, completeObserver) {\n  var streamControl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new StreamControl();\n  var subject = new _rxjs.Subject();\n\n  var pushNextValue = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(result) {\n      var _yield$result, done, value;\n\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              streamControl.pushing = true;\n              _context2.next = 4;\n              return result;\n\n            case 4:\n              _yield$result = _context2.sent;\n              done = _yield$result.done;\n              value = _yield$result.value;\n\n              if (done) {\n                subject.complete();\n                completeObserver.complete();\n              } else {\n                subject.next(value);\n\n                if (!streamControl.paused) {\n                  pushNextValue(iterator.next())[\"catch\"](function () {});\n                }\n              }\n\n              _context2.next = 14;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              subject.error(_context2.t0);\n              completeObserver.error(_context2.t0);\n\n            case 14:\n              _context2.prev = 14;\n              streamControl.pushing = false;\n              return _context2.finish(14);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10, 14, 17]]);\n    }));\n\n    return function pushNextValue(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  function push(_x2) {\n    return _push.apply(this, arguments);\n  }\n\n  function _push() {\n    _push = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(value) {\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return pushNextValue(iterator.next(value));\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _push.apply(this, arguments);\n  }\n\n  streamControl.pusher = push;\n  push();\n  return subject;\n}\n\nvar StreamControl = /*#__PURE__*/function () {\n  function StreamControl() {\n    var push = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n      return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    (0, _classCallCheck2[\"default\"])(this, StreamControl);\n    this._paused = false;\n    this._pushing = false;\n    this._push = push;\n  }\n\n  (0, _createClass2[\"default\"])(StreamControl, [{\n    key: \"pause\",\n    value: function pause() {\n      this._paused = true;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this._paused;\n    }\n  }, {\n    key: \"pushing\",\n    get: function get() {\n      return this._pushing;\n    },\n    set: function set(pushing) {\n      this._pushing = pushing;\n    }\n  }, {\n    key: \"resume\",\n    value: function () {\n      var _resume = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        var wasPaused;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                wasPaused = this._paused;\n                this._paused = false;\n\n                if (!(wasPaused && !this._pushing)) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                _context5.next = 5;\n                return this._push();\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function resume() {\n        return _resume.apply(this, arguments);\n      }\n\n      return resume;\n    }()\n  }, {\n    key: \"push\",\n    value: function () {\n      var _push2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6() {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.pause();\n                _context6.next = 3;\n                return this._push();\n\n              case 3:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function push() {\n        return _push2.apply(this, arguments);\n      }\n\n      return push;\n    }()\n  }, {\n    key: \"pusher\",\n    get: function get() {\n      return this._push;\n    },\n    set: function set(push) {\n      this._push = push;\n    }\n  }]);\n  return StreamControl;\n}();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _resultRx = _interopRequireDefault(require(\"./result-rx\"));\n\nvar _neo4jDriverCore = require(\"neo4j-driver-core\");\n\nvar _transactionRx = _interopRequireDefault(require(\"./transaction-rx\"));\n\nvar _transactionManagedRx = _interopRequireDefault(require(\"./transaction-managed-rx\"));\n\nvar _retryLogicRx = _interopRequireDefault(require(\"./internal/retry-logic-rx\"));\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\nvar _internal$constants = _neo4jDriverCore.internal.constants,\n    ACCESS_MODE_READ = _internal$constants.ACCESS_MODE_READ,\n    ACCESS_MODE_WRITE = _internal$constants.ACCESS_MODE_WRITE,\n    TxConfig = _neo4jDriverCore.internal.txConfig.TxConfig;\n/**\n * A Reactive session, which provides the same functionality as {@link Session} but through a Reactive API.\n */\n\nvar RxSession = /*#__PURE__*/function () {\n  /**\n   * Constructs a reactive session with given default session instance and provided driver configuration.\n   *\n   * @protected\n   * @param {Object} param - Object parameter\n   * @param {Session} param.session - The underlying session instance to relay requests\n   */\n  function RxSession() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        session = _ref.session,\n        config = _ref.config;\n\n    (0, _classCallCheck2[\"default\"])(this, RxSession);\n    this._session = session;\n    this._retryLogic = _createRetryLogic(config);\n  }\n  /**\n   * Creates a reactive result that will execute the  query with the provided parameters and the provided\n   * transaction configuration that applies to the underlying auto-commit transaction.\n   *\n   * @public\n   * @param {string} query - Query to be executed.\n   * @param {Object} parameters - Parameter values to use in query execution.\n   * @param {TransactionConfig} transactionConfig - Configuration for the new auto-commit transaction.\n   * @returns {RxResult} - A reactive result\n   */\n\n\n  (0, _createClass2[\"default\"])(RxSession, [{\n    key: \"run\",\n    value: function run(query, parameters, transactionConfig) {\n      var _this = this;\n\n      return new _resultRx[\"default\"](new _rxjs.Observable(function (observer) {\n        try {\n          observer.next(_this._session.run(query, parameters, transactionConfig));\n          observer.complete();\n        } catch (err) {\n          observer.error(err);\n        }\n\n        return function () {};\n      }));\n    }\n    /**\n     * Starts a new explicit transaction with the provided transaction configuration.\n     *\n     * @public\n     * @param {TransactionConfig} transactionConfig - Configuration for the new transaction.\n     * @returns {Observable<RxTransaction>} - A reactive stream that will generate at most **one** RxTransaction instance.\n     */\n\n  }, {\n    key: \"beginTransaction\",\n    value: function beginTransaction(transactionConfig) {\n      return this._beginTransaction(this._session._mode, transactionConfig);\n    }\n    /**\n     * Executes the provided unit of work in a {@link READ} reactive transaction which is created with the provided\n     * transaction configuration.\n     * @public\n     * @deprecated This method will be removed in version 6.0. Please, use {@link RxSession#executeRead} instead.\n     * @param {function(txc: RxTransaction): Observable} work - A unit of work to be executed.\n     * @param {TransactionConfig} transactionConfig - Configuration for the enclosing transaction created by the driver.\n     * @returns {Observable} - A reactive stream returned by the unit of work.\n     */\n\n  }, {\n    key: \"readTransaction\",\n    value: function readTransaction(work, transactionConfig) {\n      return this._runTransaction(ACCESS_MODE_READ, work, transactionConfig);\n    }\n    /**\n     * Executes the provided unit of work in a {@link WRITE} reactive transaction which is created with the provided\n     * transaction configuration.\n     * @public\n     * @deprecated This method will be removed in version 6.0. Please, use {@link RxSession#executeWrite} instead.\n     * @param {function(txc: RxTransaction): Observable} work - A unit of work to be executed.\n     * @param {TransactionConfig} transactionConfig - Configuration for the enclosing transaction created by the driver.\n     * @returns {Observable} - A reactive stream returned by the unit of work.\n     */\n\n  }, {\n    key: \"writeTransaction\",\n    value: function writeTransaction(work, transactionConfig) {\n      return this._runTransaction(ACCESS_MODE_WRITE, work, transactionConfig);\n    }\n    /**\n     * Executes the provided unit of work in a {@link READ} reactive transaction which is created with the provided\n     * transaction configuration.\n     * @public\n     * @param {function(txc: RxManagedTransaction): Observable} work - A unit of work to be executed.\n     * @param {TransactionConfig} transactionConfig - Configuration for the enclosing transaction created by the driver.\n     * @returns {Observable} - A reactive stream returned by the unit of work.\n     */\n\n  }, {\n    key: \"executeRead\",\n    value: function executeRead(work, transactionConfig) {\n      return this._executeInTransaction(ACCESS_MODE_READ, work, transactionConfig);\n    }\n    /**\n     * Executes the provided unit of work in a {@link WRITE} reactive transaction which is created with the provided\n     * transaction configuration.\n     * @public\n     * @param {function(txc: RxManagedTransaction): Observable} work - A unit of work to be executed.\n     * @param {TransactionConfig} transactionConfig - Configuration for the enclosing transaction created by the driver.\n     * @returns {Observable} - A reactive stream returned by the unit of work.\n     */\n\n  }, {\n    key: \"executeWrite\",\n    value: function executeWrite(work, transactionConfig) {\n      return this._executeInTransaction(ACCESS_MODE_WRITE, work, transactionConfig);\n    }\n    /**\n     * @private\n     * @param {function(txc: RxManagedTransaction): Observable} work\n     * @param {TransactionConfig} transactionConfig\n     * @returns {Observable}\n     */\n\n  }, {\n    key: \"_executeInTransaction\",\n    value: function _executeInTransaction(accessMode, work, transactionConfig) {\n      var wrapper = function wrapper(txc) {\n        return new _transactionManagedRx[\"default\"]({\n          run: txc.run.bind(txc)\n        });\n      };\n\n      return this._runTransaction(accessMode, work, transactionConfig, wrapper);\n    }\n    /**\n     * Closes this reactive session.\n     *\n     * @public\n     * @returns {Observable} - An empty reactive stream\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this2 = this;\n\n      return new _rxjs.Observable(function (observer) {\n        _this2._session.close().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n    /**\n     * Returns the bookmarks received following the last successfully completed query, which is executed\n     * either in an {@link RxTransaction} obtained from this session instance or directly through one of\n     * the {@link RxSession#run} method of this session instance.\n     *\n     * If no bookmarks were received or if this transaction was rolled back, the bookmarks value will not be\n     * changed.\n     *\n     * @deprecated This method will be removed in 6.0 version. Please, use {@link RxSession#lastBookmarks} instead.\n     *\n     * @public\n     * @returns {string[]}\n     */\n\n  }, {\n    key: \"lastBookmark\",\n    value: function lastBookmark() {\n      return this.lastBookmarks();\n    }\n    /**\n     * Returns the bookmarks received following the last successfully completed query, which is executed\n     * either in an {@link RxTransaction} obtained from this session instance or directly through one of\n     * the {@link RxSession#run} method of this session instance.\n     *\n     * If no bookmarks were received or if this transaction was rolled back, the bookmarks value will not be\n     * changed.\n     *\n     * @public\n     * @returns {string[]}\n     */\n\n  }, {\n    key: \"lastBookmarks\",\n    value: function lastBookmarks() {\n      return this._session.lastBookmarks();\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"_beginTransaction\",\n    value: function _beginTransaction(accessMode, transactionConfig) {\n      var _this3 = this;\n\n      var txConfig = TxConfig.empty();\n\n      if (transactionConfig) {\n        txConfig = new TxConfig(transactionConfig);\n      }\n\n      return new _rxjs.Observable(function (observer) {\n        try {\n          _this3._session._beginTransaction(accessMode, txConfig).then(function (tx) {\n            observer.next(new _transactionRx[\"default\"](tx));\n            observer.complete();\n          })[\"catch\"](function (err) {\n            return observer.error(err);\n          });\n        } catch (err) {\n          observer.error(err);\n        }\n\n        return function () {};\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"_runTransaction\",\n    value: function _runTransaction(accessMode, work, transactionConfig) {\n      var transactionWrapper = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function (tx) {\n        return tx;\n      };\n      var txConfig = TxConfig.empty();\n\n      if (transactionConfig) {\n        txConfig = new TxConfig(transactionConfig);\n      }\n\n      return this._retryLogic.retry(this._beginTransaction(accessMode, txConfig).pipe((0, _operators.mergeMap)(function (txc) {\n        return (0, _rxjs.defer)(function () {\n          try {\n            return work(transactionWrapper(txc));\n          } catch (err) {\n            return (0, _rxjs.throwError)(function () {\n              return err;\n            });\n          }\n        }).pipe((0, _operators.catchError)(function (err) {\n          return txc.rollback().pipe((0, _operators.concatWith)((0, _rxjs.throwError)(function () {\n            return err;\n          })));\n        }), (0, _operators.concatWith)(txc.commit()));\n      })));\n    }\n  }]);\n  return RxSession;\n}();\n\nexports[\"default\"] = RxSession;\n\nfunction _createRetryLogic(config) {\n  var maxRetryTimeout = config && config.maxTransactionRetryTime ? config.maxTransactionRetryTime : null;\n  return new _retryLogicRx[\"default\"]({\n    maxRetryTimeout: maxRetryTimeout\n  });\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _resultRx = _interopRequireDefault(require(\"./result-rx\"));\n\nvar _transactionRx = _interopRequireDefault(require(\"./transaction-rx\"));\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n\n/**\n * Represents a rx transaction that is managed by the transaction executor.\n *\n * @public\n */\nvar RxManagedTransaction = /*#__PURE__*/function () {\n  /**\n   * @private\n   */\n  function RxManagedTransaction(_ref) {\n    var run = _ref.run;\n    (0, _classCallCheck2[\"default\"])(this, RxManagedTransaction);\n    this._run = run;\n  }\n  /**\n   * @private\n   * @param {RxTransaction} txc - The transaction to be wrapped\n   * @returns {RxManagedTransaction} The managed transaction\n   */\n\n\n  (0, _createClass2[\"default\"])(RxManagedTransaction, [{\n    key: \"run\",\n    value:\n    /**\n     * Creates a reactive result that will execute the query in this transaction, with the provided parameters.\n     *\n     * @public\n     * @param {string} query - Query to be executed.\n     * @param {Object} parameters - Parameter values to use in query execution.\n     * @returns {RxResult} - A reactive result\n     */\n    function run(query, parameters) {\n      return this._run(query, parameters);\n    }\n  }], [{\n    key: \"fromTransaction\",\n    value: function fromTransaction(txc) {\n      return new RxManagedTransaction({\n        run: txc.run.bind(txc)\n      });\n    }\n  }]);\n  return RxManagedTransaction;\n}();\n\nvar _default = RxManagedTransaction;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _resultRx = _interopRequireDefault(require(\"./result-rx\"));\n\nvar _neo4jDriverCore = _interopRequireDefault(require(\"neo4j-driver-core\"));\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// eslint-disable-next-line no-unused-vars\n\n/**\n * A reactive transaction, which provides the same functionality as {@link Transaction} but through a Reactive API.\n */\nvar RxTransaction = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @protected\n   * @param {Transaction} txc - The underlying transaction instance to relay requests\n   */\n  function RxTransaction(txc) {\n    (0, _classCallCheck2[\"default\"])(this, RxTransaction);\n    this._txc = txc;\n  }\n  /**\n   * Creates a reactive result that will execute the query in this transaction, with the provided parameters.\n   *\n   * @public\n   * @param {string} query - Query to be executed.\n   * @param {Object} parameters - Parameter values to use in query execution.\n   * @returns {RxResult} - A reactive result\n   */\n\n\n  (0, _createClass2[\"default\"])(RxTransaction, [{\n    key: \"run\",\n    value: function run(query, parameters) {\n      var _this = this;\n\n      return new _resultRx[\"default\"](new _rxjs.Observable(function (observer) {\n        try {\n          observer.next(_this._txc.run(query, parameters));\n          observer.complete();\n        } catch (err) {\n          observer.error(err);\n        }\n\n        return function () {};\n      }));\n    }\n    /**\n     *  Commits the transaction.\n     *\n     * @public\n     * @returns {Observable} - An empty observable\n     */\n\n  }, {\n    key: \"commit\",\n    value: function commit() {\n      var _this2 = this;\n\n      return new _rxjs.Observable(function (observer) {\n        _this2._txc.commit().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n    /**\n     *  Rolls back the transaction.\n     *\n     * @public\n     * @returns {Observable} - An empty observable\n     */\n\n  }, {\n    key: \"rollback\",\n    value: function rollback() {\n      var _this3 = this;\n\n      return new _rxjs.Observable(function (observer) {\n        _this3._txc.rollback().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n    /**\n     * Check if this transaction is active, which means commit and rollback did not happen.\n     * @return {boolean} `true` when not committed and not rolled back, `false` otherwise.\n     */\n\n  }, {\n    key: \"isOpen\",\n    value: function isOpen() {\n      return this._txc.isOpen();\n    }\n    /**\n     * Closes the transaction\n     *\n     * This method will roll back the transaction if it is not already committed or rolled back.\n     *\n     * @returns {Observable} - An empty observable\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this4 = this;\n\n      return new _rxjs.Observable(function (observer) {\n        _this4._txc.close().then(function () {\n          observer.complete();\n        })[\"catch\"](function (err) {\n          return observer.error(err);\n        });\n      });\n    }\n  }]);\n  return RxTransaction;\n}();\n\nexports[\"default\"] = RxTransaction;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// DO NOT CHANGE THE VERSION BELOW HERE\n// This is set by the build system at release time, using\n//\n// gulp set --x <releaseversion>\n//\n// This is set up this way to keep the version in the code in\n// sync with the npm package version, and to allow the build\n// system to control version names at packaging time.\nvar _default = '5.3.0';\nexports[\"default\"] = _default;","import { Controller, Get } from '@nestjs/common';\n\nimport { AppService } from './app.service';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n}\n","import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from \"@nestjs/mongoose\";\r\nimport { AppController } from './app.controller';\r\nimport { AppService } from './app.service';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { UserModule } from './user/user.module';\r\nimport { CategoryModule } from './category/category.module';\r\nimport { CommentModule } from './comment/comment.module';\r\nimport { ProductModule } from './product/product.module';\r\nimport { IconModule } from './icon/icon.module';\r\nimport { Neo4jModule } from './neo4j/neo4j.module';\r\n\r\n@Module({\r\n  imports: [MongooseModule.forRoot('mongodb://127.0.0.1:27017/uc-db'), AuthModule, UserModule, ProductModule, CategoryModule, CommentModule, IconModule, \r\n  Neo4jModule.forRoot({\r\n    scheme: 'bolt',\r\n    host: '127.0.0.1',\r\n    port: 7687,\r\n    username: 'neo4j',\r\n    password: 'password',\r\n  })],\r\n  controllers: [AppController],\r\n  providers: [AppService],\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getData(): { message: string } {\n    return { message: 'Welcome to uc-api!' };\n  }\n}\n","import { forwardRef, Module } from '@nestjs/common';\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { MongooseModule } from \"@nestjs/mongoose\";\r\nimport { PassportModule } from '@nestjs/passport';\r\nimport { UserModule } from '../user/user.module';\r\nimport { User, UserSchema } from '../user/user.schema';\r\nimport { AuthService } from './auth.service';\r\nimport { JwtStrategy } from './strategies/jwt.strategy';\r\nimport { LocalStrategy } from './strategies/local.strategy';\r\n\r\n@Module({\r\n  imports: [MongooseModule.forFeature([{ name: User.name, schema: UserSchema }]), forwardRef(() => UserModule), PassportModule, JwtModule.register({\r\n      secret: 'S1e2C3r4E5t',\r\n      signOptions: { expiresIn: '7d' },\r\n    }),\r\n  ],\r\n  providers: [AuthService, LocalStrategy, JwtStrategy],\r\n  exports: [AuthService, LocalStrategy, JwtStrategy]\r\n})\r\nexport class AuthModule {}","import { HttpException, HttpStatus, Inject, Injectable } from \"@nestjs/common\";\r\nimport { JwtService } from '@nestjs/jwt';\r\nimport { LoginUserDto } from \"../user/dtos/loginUser.dto\";\r\nimport { User } from \"../user/user.schema\";\r\nimport { UserService } from \"../user/user.service\";\r\nimport * as bcrypt from 'bcrypt';\r\nimport { RegisterUserDto } from \"../user/dtos/registerUser.dto\";\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n    constructor(@Inject(UserService) private userService: UserService, @Inject(JwtService) private jwtService: JwtService) {}\r\n\r\n    async login(loginUserDto: LoginUserDto): Promise<string> {\r\n        return await this.jwtService.signAsync({ name: loginUserDto.username });\r\n    }\r\n\r\n    async register(registerUserDto: RegisterUserDto): Promise<void> {\r\n        const user = await this.userService.getUserByEmailAddress(registerUserDto.emailAddress);\r\n\r\n        if(!user) {\r\n            if(registerUserDto.password !== undefined) {\r\n                registerUserDto.password = await bcrypt.hash(registerUserDto.password, 10);\r\n                await this.userService.registerUser(registerUserDto);\r\n            } else {\r\n                throw new HttpException('Password is required!', HttpStatus.CONFLICT)\r\n            }\r\n        } else {\r\n            throw new HttpException('This user already exists!', HttpStatus.CONFLICT)\r\n        }\r\n    }\r\n\r\n    async validate(emailAddress: string, password: string): Promise<User> {\r\n        const user = await this.userService.getUserByEmailAddress(emailAddress);\r\n\r\n        if(user) {\r\n            const passwordValid = await bcrypt.compare(password, user.password.toString());\r\n\r\n            if (!passwordValid)\r\n                throw new HttpException({ message: `This password isn't correct!` }, HttpStatus.CONFLICT);\r\n\r\n            return user;\r\n        }\r\n\r\n        throw new HttpException({ message: `This user doesn't exists!` }, HttpStatus.NOT_FOUND);\r\n    }\r\n}","export enum Role {\r\n    CUSTOMER = 'customer',\r\n    BRAND = 'brand'\r\n}","import { SetMetadata } from \"@nestjs/common\";\r\nimport { Role } from \"./role.enum\";\r\n\r\nexport const Roles = (role: Role) => SetMetadata('role', role);","import { CanActivate, ExecutionContext, Injectable } from \"@nestjs/common\";\r\nimport { Reflector } from \"@nestjs/core\";\r\nimport { Role } from \"./role.enum\";\r\n\r\n@Injectable()\r\nexport class RolesGuard implements CanActivate {\r\n    constructor(private reflector: Reflector) {}\r\n\r\n    canActivate(context: ExecutionContext): boolean {\r\n        const requireRole = this.reflector.getAllAndOverride<Role>('role', [\r\n            context.getHandler(),\r\n            context.getClass(),\r\n        ]);\r\n\r\n        if (!requireRole)\r\n            return true;\r\n\r\n        const { user } = context.switchToHttp().getRequest();\r\n\r\n        return requireRole === user?.role;\r\n    }\r\n}","import { Inject, Injectable } from '@nestjs/common';\r\nimport { PassportStrategy } from '@nestjs/passport';\r\nimport { ExtractJwt, Strategy } from 'passport-jwt';\r\nimport { UserService } from '../../user/user.service';\r\n\r\n@Injectable()\r\nexport class JwtStrategy extends PassportStrategy(Strategy) {\r\n  constructor(@Inject(UserService) private userService: UserService) {\r\n    super({\r\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\r\n      ignoreExpiration: false,\r\n      secretOrKey: 'S1e2C3r4E5t',\r\n    });\r\n  }\r\n\r\n  async validate(loginUser: any) {\r\n    const user = await this.userService.getUserByEmailAddress(loginUser.name);\r\n\r\n    return { \r\n      _id: user._id, \r\n      name: user.name,\r\n      emailAddress: user.emailAddress, \r\n      role: user.role \r\n    };\r\n  }\r\n}","import { Strategy } from 'passport-local';\r\nimport { PassportStrategy } from '@nestjs/passport';\r\nimport { Inject, Injectable } from '@nestjs/common';\r\nimport { User } from '../../user/user.schema';\r\nimport { AuthService } from '../auth.service';\r\n\r\n@Injectable()\r\nexport class LocalStrategy extends PassportStrategy(Strategy) {\r\n  constructor(@Inject(AuthService) private authService: AuthService) {\r\n    super();\r\n  }\r\n\r\n  async validate(username: string, password: string): Promise<User> {\r\n    return await this.authService.validate(username, password);\r\n  }\r\n}","import { Body, Controller, Delete, Get, HttpException, HttpStatus, Param, Post, Put, UseGuards, Request, UnauthorizedException } from \"@nestjs/common\";\r\nimport { AuthGuard } from \"@nestjs/passport\";\r\nimport { Role } from \"../auth/roles/role.enum\";\r\nimport { Roles } from \"../auth/roles/roles.decorator\";\r\nimport { RolesGuard } from \"../auth/roles/roles.guard\";\r\nimport { CategoryDto } from \"./category.dto\";\r\nimport { Category } from \"./category.schema\";\r\nimport { CategoryService } from \"./category.service\";\r\n\r\n@Controller()\r\nexport class CategoryController {\r\n    constructor(private readonly categoryService: CategoryService) {}\r\n\r\n    @Get('categories')\r\n    async getCategories(): Promise<Category[]> {\r\n        return await this.categoryService.getCategories();\r\n    }\r\n\r\n    @Get('categories/all')\r\n    async getAllCategories(): Promise<Category[]> {\r\n        return await this.categoryService.getAllCategories();\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Get('categories/:userId')\r\n    async getAllCategoriesFromUser(@Param('userId') userId: string): Promise<Category[]> {\r\n        return await this.categoryService.getAllCategoriesFromUser(userId);\r\n    }\r\n\r\n    @Get('category/:categoryId')\r\n    async getCategoryById(@Param('categoryId') categoryId: string): Promise<Category> {\r\n        try {\r\n            return await this.categoryService.getCategoryById(categoryId);\r\n        } catch (error) {\r\n            this.generateCategoryExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.BRAND)\r\n    @Post('category')\r\n    async createCategory(@Request() req: any, @Body() categoryDto: CategoryDto): Promise<Object> {\r\n        try {\r\n            await this.categoryService.createCategory(req.user, categoryDto);\r\n\r\n            return {\r\n                status: 201,\r\n                message: 'Category has been succesfully created!'\r\n            }\r\n        } catch (error) {\r\n            this.generateCategoryExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.BRAND)\r\n    @Put('category/:categoryId')\r\n    async updateCategory(@Request() req: any, @Param('categoryId') categoryId: string, @Body() newCategory: Partial<CategoryDto>): Promise<Object> {\r\n        try {\r\n            await this.categoryService.updateCategory(req.user, categoryId, newCategory);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'Category has been succesfully updated!'\r\n            }\r\n        } catch (error) {\r\n            this.generateCategoryExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.BRAND)\r\n    @Delete('category/:categoryId')\r\n    async deleteCategory(@Request() req: any, @Param('categoryId') categoryId: string): Promise<Object> {\r\n        try {\r\n            await this.categoryService.deleteCategory(req.user, categoryId);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'Category has been succesfully deleted!'\r\n            }\r\n        } catch (error) {\r\n            this.generateCategoryExceptions(error);\r\n        }\r\n    }\r\n\r\n    generateCategoryExceptions(error: any) {\r\n        if(error?.name === 'CastError')\r\n            throw new HttpException(`This category doesn't exists!`, HttpStatus.NOT_FOUND)\r\n\r\n        if(error?.response === `This category can't be deleted, because products are linked to this category!`)\r\n            throw new HttpException(`This category can't be deleted, because products are linked to this category!`, HttpStatus.CONFLICT);\r\n\r\n        if(error?.response === 'This category title already exists!')\r\n            throw new HttpException('This category title already exists!', HttpStatus.CONFLICT);\r\n\r\n        if(error?.response === `This category can't be put offline, because it's connected to products!`)\r\n            throw new HttpException(`This category can't be put offline, because it's connected to products!`, HttpStatus.CONFLICT);\r\n\r\n        if(error?.response?.message)\r\n            throw new UnauthorizedException(error?.response?.message);\r\n\r\n        if(error?.errors?.title)\r\n            throw new HttpException(error.errors.title.message, HttpStatus.CONFLICT);\r\n\r\n        if(error?.errors?.description)\r\n            throw new HttpException(error.errors.description.message, HttpStatus.CONFLICT);\r\n\r\n        if(error?.errors?.icon)\r\n            throw new HttpException(error.errors.icon.message, HttpStatus.CONFLICT);\r\n\r\n        if(error?.errors?.isActive)\r\n            throw new HttpException(error.errors.isActive.message, HttpStatus.CONFLICT);\r\n    }\r\n}","export class CategoryDto {\r\n    title: string;\r\n    description: string;\r\n    icon: string;\r\n    isActive: boolean;\r\n}\r\n","import { forwardRef, Module } from \"@nestjs/common\";\r\nimport { MongooseModule } from \"@nestjs/mongoose\";\r\nimport { IconModule } from \"../icon/icon.module\";\r\nimport { ProductModule } from \"../product/product.module\";\r\nimport { CategoryController } from \"./category.controller\";\r\nimport { Category, CategorySchema } from \"./category.schema\";\r\nimport { CategoryService } from \"./category.service\";\r\n\r\n\r\n@Module({\r\n    imports: [MongooseModule.forFeature([{ name: Category.name, schema: CategorySchema }]), forwardRef(() => ProductModule), IconModule],\r\n    controllers: [CategoryController],\r\n    providers: [CategoryService],\r\n    exports: [CategoryService]\r\n})\r\n\r\nexport class CategoryModule {};","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ObjectId } from 'mongoose';\r\nimport { Icon } from '../icon/icon.schema';\r\n\r\n@Schema()\r\nexport class Category {\r\n    @Prop()\r\n    _id: ObjectId;\r\n\r\n    @Prop({\r\n        required: [true, 'Title is required!'],\r\n    })\r\n    title: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Description is required!'],\r\n    })\r\n    description: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Icon is required!'],\r\n        default: 'https://www.simplelaw.com/hubfs/Blog_Media/cdn2.hubspot.nethubfs5154887Blog_Mediaimage_not_found.png'\r\n    })\r\n    icon: Icon;\r\n\r\n    @Prop({\r\n        required: [true, 'isActive is required!'],\r\n    })\r\n    isActive: Boolean;\r\n\r\n    @Prop()\r\n    createdAt: Date;\r\n\r\n    @Prop({\r\n        ref: 'User'\r\n    })\r\n    createdBy: ObjectId;\r\n}\r\n\r\nexport const CategorySchema = SchemaFactory.createForClass(Category);","import { forwardRef, HttpException, HttpStatus, Inject, Injectable, UnauthorizedException } from \"@nestjs/common\";\r\nimport { InjectModel } from \"@nestjs/mongoose\";\r\nimport mongoose, { Model } from \"mongoose\";\r\nimport { IconService } from \"../icon/icon.service\";\r\nimport { ProductService } from \"../product/product.service\";\r\nimport { CategoryDto } from \"./category.dto\";\r\nimport { Category } from \"./category.schema\";\r\n\r\n@Injectable()\r\nexport class CategoryService {\r\n    constructor(@InjectModel(Category.name) private categoryModel: Model<Category>, @Inject(forwardRef(() => ProductService)) private productService: ProductService, @Inject(IconService) private iconService: IconService) { }\r\n\r\n    async getCategories(): Promise<Category[]> {\r\n        return await this.categoryModel.find({ isActive: true }).populate('createdBy');\r\n    }\r\n\r\n    async getAllCategories(): Promise<Category[]> {\r\n        return await this.categoryModel.find({}).populate('createdBy');\r\n    }\r\n\r\n    async getAllCategoriesFromUser(userId: string): Promise<Category[]> {\r\n        return await this.categoryModel.aggregate([\r\n            {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'user'\r\n                }\r\n            }, {\r\n                '$set': {\r\n                    'createdBy': {\r\n                        '$first': '$user'\r\n                    }\r\n                }\r\n            }, {\r\n                '$match': {\r\n                    'createdBy._id': new mongoose.Types.ObjectId(userId)\r\n                }\r\n            }\r\n        ])\r\n    }\r\n\r\n    async getCategoryById(categoryId: string): Promise<Category> {\r\n        const category = await this.categoryModel.findById({ _id: new mongoose.Types.ObjectId(categoryId) }).populate('createdBy');\r\n\r\n        if (!category)\r\n            throw new HttpException(`This category doesn't exists!`, HttpStatus.NOT_FOUND)\r\n\r\n        return category;\r\n    }\r\n\r\n    async createCategory(user: any, categoryDto: CategoryDto): Promise<void> {\r\n        const uniqueCategory = await this.categoryModel.findOne({ title: categoryDto.title });\r\n\r\n        if (uniqueCategory)\r\n            throw new HttpException('This category title already exists!', HttpStatus.CONFLICT);\r\n\r\n        await this.categoryModel.create({\r\n            _id: new mongoose.Types.ObjectId(),\r\n            ...categoryDto,\r\n            icon: await this.iconService.getIconById(categoryDto.icon),\r\n            createdAt: new Date(),\r\n            createdBy: user._id\r\n        })\r\n    }\r\n\r\n    async updateCategory(user: any, categoryId: string, newCategory: Partial<CategoryDto>): Promise<void> {\r\n        const category = await this.categoryModel.findById({ _id: categoryId });\r\n        const uniqueCategory = await this.categoryModel.findOne({ title: newCategory?.title });\r\n        const products = await this.productService.getAllProductsFromCategory(categoryId);\r\n\r\n        if (!user._id.equals(category.createdBy))\r\n            throw new UnauthorizedException({ message: `This user don't have access to this method!` });\r\n\r\n        if (uniqueCategory && newCategory?.title !== category.title)\r\n            throw new HttpException('This category title already exists!', HttpStatus.CONFLICT);\r\n\r\n        if (products.length > 0 && newCategory?.isActive === false)\r\n            throw new HttpException(`This category can't be put offline, because it's connected to products!`, HttpStatus.CONFLICT);\r\n\r\n\r\n        await this.categoryModel.findOneAndUpdate({ _id: categoryId },\r\n            {\r\n                title: newCategory?.title,\r\n                description: newCategory?.description,\r\n                icon: await this.iconService.getIconById(newCategory?.icon),\r\n                isActive: newCategory?.isActive\r\n            });\r\n\r\n        if (products)\r\n            await this.productService.updateCategoryFromNestedProducts(newCategory, products);\r\n    }\r\n\r\n    async deleteCategory(user: any, categoryId: string): Promise<void> {\r\n        const category = await this.categoryModel.findById({ _id: categoryId });\r\n        const products = await this.productService.getAllProductsFromCategory(categoryId);\r\n\r\n        if (!user._id.equals(category.createdBy))\r\n            throw new UnauthorizedException({ message: `This user don't have access to this method!` });\r\n\r\n        if (products.length > 0)\r\n            throw new HttpException(`This category can't be deleted, because products are linked to this category!`, HttpStatus.CONFLICT);\r\n\r\n        await this.categoryModel.findOneAndDelete({ _id: categoryId });\r\n    }\r\n}","import { Body, Controller, Delete, Get, HttpException, HttpStatus, Param, Post, Put, UseGuards, Request, UnauthorizedException } from \"@nestjs/common\";\r\nimport { AuthGuard } from \"@nestjs/passport\";\r\nimport { Role } from \"../auth/roles/role.enum\";\r\nimport { Roles } from \"../auth/roles/roles.decorator\";\r\nimport { RolesGuard } from \"../auth/roles/roles.guard\";\r\nimport { CommentDto } from \"./comment.dto\";\r\nimport { Comment } from \"./comment.schema\";\r\nimport { CommentService } from \"./comment.service\";\r\n\r\n@Controller()\r\nexport class CommentController {\r\n    constructor(private readonly commentService: CommentService) {}\r\n\r\n    @Get('comments')\r\n    async getAllComments(): Promise<Comment[]> {\r\n        return await this.commentService.getAllComments();\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Get('comments/:userId')\r\n    async getAllCommentsFromUser(@Param('userId') userId: string): Promise<Comment[]> {\r\n        return await this.commentService.getAllCommentsFromUser(userId);\r\n    }\r\n\r\n    @Get('product/:productId/comments')\r\n    async getAllCommentsFromProduct(@Param('productId') productId: string): Promise<Comment[]> {\r\n        return await this.commentService.getAllCommentsFromProduct(productId);\r\n    }\r\n\r\n    @Get('product/:productId/comment/:commentId')\r\n    async getCommentById(@Param('productId') productId: string, @Param('commentId') commentId: string): Promise<Comment> {\r\n        try {\r\n            return await this.commentService.getCommentById(productId, commentId);\r\n        } catch (error) {\r\n            this.generateCommentExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.CUSTOMER)\r\n    @Post('product/:productId/comment')\r\n    async createComment(@Request() req: any, @Param('productId') productId: string, @Body() commentDto: CommentDto): Promise<Object> {\r\n        try {\r\n            await this.commentService.createComment(req.user, productId, commentDto);\r\n\r\n            return {\r\n                status: 201,\r\n                message: 'Comment has been succesfully created!'\r\n            }\r\n        } catch (error) {\r\n            this.generateCommentExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.CUSTOMER)\r\n    @Put('product/:productId/comment/:commentId')\r\n    async updateComment(@Request() req: any, @Param('productId') productId: string, @Param('commentId') commentId: string, @Body() newComment: Partial<CommentDto>): Promise<Object> {\r\n        try {\r\n            await this.commentService.updateComment(req.user, productId, commentId, newComment);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'Comment has been succesfully updated!'\r\n            }\r\n        } catch (error) {\r\n            this.generateCommentExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.CUSTOMER)\r\n    @Delete('product/:productId/comment/:commentId')\r\n    async deleteComment(@Request() req: any, @Param('productId') productId: string, @Param('commentId') commentId: string): Promise<Object> {\r\n        try {\r\n            await this.commentService.deleteComment(req.user, productId, commentId);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'Comment has been succesfully deleted!'\r\n            }\r\n        } catch (error) {\r\n            this.generateCommentExceptions(error);\r\n        }\r\n    }\r\n\r\n    generateCommentExceptions(error: any) {\r\n        if(error?.name === 'CastError')\r\n            throw new HttpException(`This comment doesn't exists!`, HttpStatus.NOT_FOUND)\r\n\r\n        if(error?.response?.message)\r\n            throw new UnauthorizedException(error?.response?.message);\r\n\r\n        if(error?.errors?.title)\r\n            throw new HttpException(error.errors.title.message, HttpStatus.CONFLICT);\r\n\r\n        if(error?.errors?.body)\r\n            throw new HttpException(error.errors.body.message, HttpStatus.CONFLICT);\r\n\r\n        if(error?.errors?.rating)\r\n            throw new HttpException(error.errors.rating.message, HttpStatus.CONFLICT);\r\n    }\r\n}","export class CommentDto {\r\n    title: string;\r\n    body: string;\r\n    rating: number;\r\n}\r\n","import { Module } from \"@nestjs/common\";\r\nimport { ProductModule } from \"../product/product.module\";\r\nimport { CommentController } from \"./comment.controller\";\r\nimport { CommentService } from \"./comment.service\";\r\n\r\n\r\n@Module({\r\n    imports: [ProductModule],\r\n    controllers: [CommentController],\r\n    providers: [CommentService],\r\n    exports: [CommentService]\r\n})\r\n\r\nexport class CommentModule {};","import { Inject, Injectable} from \"@nestjs/common\";\r\nimport mongoose from \"mongoose\";\r\nimport { ProductService } from \"../product/product.service\";\r\nimport { CommentDto } from \"./comment.dto\";\r\nimport { Comment } from \"./comment.schema\";\r\n\r\n@Injectable()\r\nexport class CommentService {\r\n    constructor(@Inject(ProductService) private productService: ProductService) {}\r\n\r\n    async getAllComments(): Promise<Comment[]> {\r\n        return await this.productService.getAllComments();\r\n    }\r\n\r\n    async getAllCommentsFromUser(userId: string): Promise<Comment[]> {\r\n        return await this.productService.getAllCommentsFromUser(userId);\r\n    }\r\n    \r\n    async getAllCommentsFromProduct(productId: string): Promise<Comment[]> {\r\n        return await this.productService.getAllCommentsFromProduct(productId);\r\n    }\r\n\r\n    async getCommentById(productId: string, commentId: string): Promise<Comment> {\r\n        return await this.productService.getCommentById(productId, commentId);\r\n    }\r\n\r\n    async createComment(user: any, productId: string, commentDto: CommentDto): Promise<void> {\r\n        const comment = {\r\n            _id: new mongoose.Types.ObjectId(),\r\n            title: commentDto.title,\r\n            body: commentDto.body,\r\n            rating: commentDto.rating,\r\n            createdBy: user._id,\r\n            createdAt: new Date()\r\n        }\r\n\r\n        await this.productService.addCommentToProduct(productId, comment);\r\n    }\r\n\r\n    async updateComment(user: any, productId: string, commentId: string, newComment: Partial<CommentDto>): Promise<void> {\r\n        await this.productService.updateCommentFromProduct(user, productId, commentId, newComment);\r\n    }\r\n\r\n    async deleteComment(user: any, productId: string, commentId: string): Promise<void> {\r\n        return await this.productService.deleteCommentFromProduct(user, productId, commentId);\r\n    }\r\n}","import { Controller, Get, Param } from \"@nestjs/common\";\r\nimport { Icon } from \"./icon.schema\";\r\nimport { IconService } from \"./icon.service\";\r\n\r\n@Controller()\r\nexport class IconController {\r\n    constructor(private readonly iconService: IconService) {}\r\n\r\n    @Get('icons')\r\n    async getIcons(): Promise<Icon[]> {\r\n        return await this.iconService.getIcons();\r\n    }\r\n\r\n    @Get('icon/:iconId')\r\n    async getIconById(@Param('iconId') iconId: string): Promise<Icon> {\r\n        return await this.iconService.getIconById(iconId);\r\n    }\r\n}","import { Module } from \"@nestjs/common\";\r\nimport { MongooseModule } from \"@nestjs/mongoose\";\r\nimport { IconController } from \"./icon.controller\";\r\nimport { Icon, IconSchema } from \"./icon.schema\";\r\nimport { IconService } from \"./icon.service\";\r\n\r\n@Module({\r\n    imports: [MongooseModule.forFeature([{ name: Icon.name, schema: IconSchema }])],\r\n    controllers: [IconController],\r\n    providers: [IconService],\r\n    exports: [IconService]\r\n})\r\n\r\nexport class IconModule {};","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ObjectId } from 'mongoose';\r\n\r\n@Schema()\r\nexport class Icon {\r\n    @Prop()\r\n    _id: ObjectId;\r\n\r\n    @Prop({\r\n        required: [true, 'Title is required!']\r\n    })\r\n    title: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Icon is required!'],\r\n        default: 'https://www.simplelaw.com/hubfs/Blog_Media/cdn2.hubspot.nethubfs5154887Blog_Mediaimage_not_found.png'\r\n    })\r\n    icon: String;\r\n}\r\n\r\nexport const IconSchema = SchemaFactory.createForClass(Icon);","import { Injectable } from \"@nestjs/common\";\r\nimport { InjectModel } from \"@nestjs/mongoose\";\r\nimport { Model } from \"mongoose\";\r\nimport { Icon } from \"./icon.schema\";\r\n\r\n@Injectable()\r\nexport class IconService {\r\n    constructor(@InjectModel(Icon.name) private iconModel: Model<Icon>) {}\r\n\r\n    async getIcons(): Promise<Icon[]> {\r\n        return await this.iconModel.find({});\r\n    }\r\n\r\n    async getIconById(iconId: string): Promise<Icon> {\r\n        return await this.iconModel.findById({ _id: iconId });\r\n    }\r\n}","import { DynamicModule, Module } from '@nestjs/common';\r\nimport { Neo4jConfig } from './neo4j-config.interface';\r\nimport { Neo4jService } from './neo4j.service';\r\nimport { createDriver } from './neo4j.util';\r\n\r\n@Module({})\r\nexport class Neo4jModule {\r\n    static forRoot(config: Neo4jConfig): DynamicModule {\r\n        return {\r\n            module: Neo4jModule,\r\n            providers: [\r\n                Neo4jService,\r\n                {\r\n                    provide: 'NEO4J_CONFIG',\r\n                    useValue: config\r\n                },\r\n                {\r\n                    provide: 'NEO4J_DRIVER',\r\n                    inject: ['NEO4J_CONFIG'],\r\n                    useFactory: async (config: Neo4jConfig) => createDriver(config),\r\n                }\r\n            ],\r\n            exports: [\r\n                Neo4jService\r\n            ]\r\n        }\r\n    }\r\n}\r\n","import neo4j from 'neo4j-driver';\r\nimport { Inject, Injectable } from '@nestjs/common';\r\nimport { Driver, Result } from 'neo4j-driver-core';\r\nimport { Neo4jConfig } from './neo4j-config.interface';\r\n\r\n@Injectable()\r\nexport class Neo4jService {\r\n    constructor(@Inject('NEO4J_CONFIG') private config: Neo4jConfig, @Inject('NEO4J_DRIVER') private driver: Driver) {}\r\n\r\n    getDriver(): Driver {\r\n        return this.driver;\r\n    }\r\n\r\n    getConfig(): Neo4jConfig {\r\n        return this.config;\r\n    }\r\n\r\n    getReadSession(database?: string) {\r\n        return this.driver.session({\r\n            database: database || this.config.database,\r\n            defaultAccessMode: neo4j.session.READ,\r\n        })\r\n    }\r\n\r\n    getWriteSession(database?: string) {\r\n        return this.driver.session({\r\n            database: database || this.config.database,\r\n            defaultAccessMode: neo4j.session.WRITE,\r\n        })\r\n    }\r\n\r\n    read(cypher: string, params: Record<string, any>, database?: string): Result {\r\n        const session = this.getReadSession(database);\r\n        return session.run(cypher, params);\r\n    }\r\n\r\n    write(cypher: string, params: Record<string, any>, database?: string): Result {\r\n        const session = this.getWriteSession(database);\r\n        return session.run(cypher, params);\r\n    }\r\n}\r\n","import neo4j, { Driver } from 'neo4j-driver';\r\nimport { Neo4jConfig } from \"./neo4j-config.interface\";\r\n\r\nexport const createDriver = async (config: Neo4jConfig) => {\r\n    const driver: Driver = neo4j.driver(\r\n        `${config.scheme}://${config.host}:${config.port}`,\r\n        neo4j.auth.basic(config.username, config.password)\r\n    );\r\n\r\n    await driver.verifyConnectivity();\r\n\r\n    return driver;\r\n}","import { Body, Controller, Delete, Get, HttpException, HttpStatus, Param, Post, Put, UnauthorizedException, UseGuards, Request } from \"@nestjs/common\";\r\nimport { AuthGuard } from \"@nestjs/passport\";\r\nimport { Role } from \"../auth/roles/role.enum\";\r\nimport { Roles } from \"../auth/roles/roles.decorator\";\r\nimport { RolesGuard } from \"../auth/roles/roles.guard\";\r\nimport { ProductDto } from \"./product.dto\";\r\nimport { Product } from \"./product.schema\";\r\nimport { ProductService } from \"./product.service\";\r\n\r\n@Controller()\r\nexport class ProductController {\r\n    constructor(private readonly productService: ProductService) {}\r\n\r\n    @Get('products')\r\n    async getAllProducts(): Promise<Product[]> {\r\n        return await this.productService.getAllProducts();\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'))\r\n    @Get('products/:brandId')\r\n    async getAllProductsFromBrand(@Param('brandId') brandId: string): Promise<Product[]> {\r\n        return await this.productService.getAllProductsFromBrand(brandId);\r\n    }\r\n\r\n    @Get('products/category/:categoryId')\r\n    async getAllProductsFromCategory(@Param('categoryId') categoryId: string): Promise<Product[]> {\r\n        return await this.productService.getAllProductsFromCategory(categoryId);\r\n    }\r\n\r\n    @Get('product/:productId')\r\n    async getProductById(@Param('productId') productId: string): Promise<Product> {\r\n        try {\r\n            return await this.productService.getProductById(productId);\r\n        } catch (error) {\r\n            this.generateProductExceptions(error);\r\n        }\r\n    }\r\n\r\n    @Get('product/:productId/advice')\r\n    async getProductAdvice(@Param('productId') productId: string): Promise<Object> {\r\n        try {\r\n            return await this.productService.calculateAdvice(productId);\r\n        } catch (error) {\r\n            this.generateProductExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.BRAND)\r\n    @Post('product')\r\n    async createProduct(@Request() req: any, @Body() productDto: ProductDto): Promise<Object> {\r\n        try {\r\n            await this.productService.createProduct(req.user, productDto);\r\n            \r\n            return {\r\n                status: 201,\r\n                message: 'Product has been successfully created!'\r\n            }\r\n        } catch (error) {\r\n            this.generateProductExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.BRAND)\r\n    @Put('product/:productId')\r\n    async updateProduct(@Request() req: any, @Param('productId') productId: string, @Body() newProduct: Partial<ProductDto>): Promise<Object> {\r\n        try {\r\n            await this.productService.updateProduct(req.user, productId, newProduct);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'Product has been successfully updated!'\r\n            }\r\n        } catch (error) {\r\n            this.generateProductExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.BRAND)\r\n    @Delete('product/:productId')\r\n    async deleteProduct(@Request() req: any, @Param('productId') productId: string): Promise<Object> {\r\n        try {\r\n            await this.productService.deleteProduct(req.user, productId);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'Product has been successfully deleted!'\r\n            }\r\n        } catch (error) {\r\n            this.generateProductExceptions(error);\r\n        }\r\n    }\r\n\r\n    generateProductExceptions(error: any) {\r\n        if(error?.name === 'CastError')\r\n            throw new HttpException(`This product doesn't exists!`, HttpStatus.NOT_FOUND)\r\n\r\n        if(error?.response?.message)\r\n            throw new UnauthorizedException(error?.response?.message);\r\n            \r\n        if(error?.errors?.name)\r\n            throw new HttpException(error.errors.name.message, HttpStatus.CONFLICT);\r\n\r\n        if(error?.errors?.picture)\r\n            throw new HttpException(error.errors.picture.message, HttpStatus.CONFLICT);\r\n        \r\n        if(error?.errors?.price)\r\n            throw new HttpException(error.errors.price.message, HttpStatus.CONFLICT);\r\n            \r\n        if(error?.errors?.description)\r\n            throw new HttpException(error.errors.description.message, HttpStatus.CONFLICT);\r\n\r\n        if(error?.errors?.isActive)\r\n            throw new HttpException(error.errors.isActive.message, HttpStatus.CONFLICT);\r\n    }\r\n}","export class ProductDto {\r\n    name: string;\r\n    picture: string;\r\n    price: number;\r\n    description: string;\r\n    category: string;\r\n    comments: [Comment];\r\n}\r\n","import { forwardRef, Module } from \"@nestjs/common\";\r\nimport { MongooseModule } from \"@nestjs/mongoose\";\r\nimport { CategoryModule } from \"../category/category.module\";\r\nimport { IconModule } from \"../icon/icon.module\";\r\nimport { Neo4jModule } from \"../neo4j/neo4j.module\";\r\nimport { UserModule } from \"../user/user.module\";\r\nimport { ProductController } from \"./product.controller\";\r\nimport { Product, ProductSchema } from \"./product.schema\";\r\nimport { ProductService } from \"./product.service\";\r\n\r\n@Module({\r\n    imports: [MongooseModule.forFeature([{ name: Product.name, schema: ProductSchema }]), forwardRef(() => UserModule), forwardRef(() => CategoryModule), IconModule, Neo4jModule.forRoot({\r\n        scheme: 'bolt',\r\n        host: '127.0.0.1',\r\n        port: 7687,\r\n        username: 'neo4j',\r\n        password: 'password',\r\n    })],\r\n    controllers: [ProductController],\r\n    providers: [ProductService],\r\n    exports: [ProductService]\r\n})\r\n\r\nexport class ProductModule {};","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ObjectId } from 'mongoose';\r\nimport { Category } from '../category/category.schema';\r\nimport { User } from '../user/user.schema';\r\n\r\n@Schema()\r\nexport class Product {\r\n    @Prop()\r\n    _id: ObjectId\r\n\r\n    @Prop({\r\n        required: [true, 'Name is required!'],\r\n    })\r\n    name: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Picture is required!'],\r\n    })\r\n    picture: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Price is required!'],\r\n    })\r\n    price: Number;\r\n\r\n    @Prop({\r\n        required: [true, 'Description is required!'],\r\n    })\r\n    description: String;\r\n\r\n    @Prop()\r\n    category: Category;\r\n\r\n    @Prop()\r\n    comments: [Comment];\r\n\r\n    @Prop()\r\n    createdBy: User;\r\n\r\n    @Prop()\r\n    createdAt: Date;\r\n}\r\n\r\nexport const ProductSchema = SchemaFactory.createForClass(Product);","import { forwardRef, HttpException, HttpStatus, Inject, Injectable, UnauthorizedException } from \"@nestjs/common\";\r\nimport { InjectModel } from \"@nestjs/mongoose\";\r\nimport mongoose, { Model } from \"mongoose\";\r\nimport { CategoryService } from \"../category/category.service\";\r\nimport { Comment } from \"../comment/comment.schema\";\r\nimport { CommentDto } from \"../comment/comment.dto\";\r\nimport { UserService } from \"../user/user.service\";\r\nimport { ProductDto } from \"./product.dto\";\r\nimport { Product } from \"./product.schema\";\r\nimport { CategoryDto } from \"../category/category.dto\";\r\nimport { IconService } from \"../icon/icon.service\";\r\nimport { Neo4jService } from \"../neo4j/neo4j.service\";\r\n\r\n@Injectable()\r\nexport class ProductService {\r\n    constructor(@InjectModel(Product.name) private productModel: Model<Product>, @Inject(forwardRef(() => CategoryService)) private categoryService: CategoryService, @Inject(forwardRef(() => UserService)) private userService: UserService, @Inject(IconService) private iconService: IconService, private neo4jService: Neo4jService) { }\r\n\r\n    async getAllProducts(): Promise<Product[]> {\r\n        const products = await this.productModel.aggregate([\r\n            {\r\n                '$unwind': {\r\n                    'path': '$comments',\r\n                    'preserveNullAndEmptyArrays': true\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'category.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'category.createdBy'\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'comments.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'comment.createdBy'\r\n                }\r\n            }, {\r\n                '$set': {\r\n                    'category.createdBy': {\r\n                        '$first': '$category.createdBy'\r\n                    },\r\n                    'comments.createdBy': {\r\n                        '$first': '$comment.createdBy'\r\n                    }\r\n                }\r\n            }, {\r\n                '$group': {\r\n                    '_id': '$_id',\r\n                    'name': {\r\n                        '$first': '$name'\r\n                    },\r\n                    'picture': {\r\n                        '$first': '$picture'\r\n                    },\r\n                    'price': {\r\n                        '$first': '$price'\r\n                    },\r\n                    'description': {\r\n                        '$first': '$description'\r\n                    },\r\n                    'category': {\r\n                        '$first': '$category'\r\n                    },\r\n                    'comments': {\r\n                        '$push': '$comments'\r\n                    },\r\n                    'createdBy': {\r\n                        '$first': '$createdBy'\r\n                    },\r\n                    'createdAt': {\r\n                        '$first': '$createdAt'\r\n                    },\r\n                    '__v': {\r\n                        '$first': '$__v'\r\n                    }\r\n                }\r\n            }, {\r\n                '$sort': {\r\n                    'createdAt': -1\r\n                }\r\n            }\r\n        ]);\r\n\r\n        return products;\r\n    }\r\n\r\n    async getAllProductsFromBrand(brandId: string): Promise<Product[]> {\r\n        return await this.productModel.find({ 'createdBy._id': brandId });\r\n    }\r\n\r\n    async getAllProductsFromCategory(categoryId: string): Promise<Product[]> {\r\n        return await this.productModel.find({ 'category._id': categoryId });\r\n    }\r\n\r\n    async getAllComments(): Promise<Comment[]> {\r\n        const comments = await this.productModel.aggregate([\r\n            {\r\n                '$unwind': {\r\n                    'path': '$comments'\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'comments.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'comment.createdBy'\r\n                }\r\n            }, {\r\n                '$set': {\r\n                    'comments.createdBy': {\r\n                        '$first': '$comment.createdBy'\r\n                    }\r\n                }\r\n            }, {\r\n                '$group': {\r\n                    '_id': '$_id',\r\n                    'comments': {\r\n                        '$push': '$comments'\r\n                    }\r\n                }\r\n            }, {\r\n                '$project': {\r\n                    '_id': 0,\r\n                    'comments': 1\r\n                }\r\n            }\r\n        ]);\r\n\r\n        return comments[0]?.comments;\r\n    }\r\n\r\n    async getAllCommentsFromUser(userId: string): Promise<Comment[]> {\r\n        const comments = await this.productModel.aggregate([\r\n            {\r\n                '$unwind': {\r\n                    'path': '$comments'\r\n                }\r\n            }, {\r\n                '$match': {\r\n                    'comments.createdBy': new mongoose.Types.ObjectId(userId)\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'comments.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'comment.createdBy'\r\n                }\r\n            }, {\r\n                '$set': {\r\n                    'comments.createdBy': {\r\n                        '$first': '$comment.createdBy'\r\n                    }\r\n                }\r\n            }, {\r\n                '$group': {\r\n                    '_id': '$_id',\r\n                    'comments': {\r\n                        '$push': '$comments'\r\n                    }\r\n                }\r\n            }, {\r\n                '$project': {\r\n                    '_id': 0,\r\n                    'comments': 1\r\n                }\r\n            }\r\n        ]);\r\n\r\n        return comments[0]?.comments;\r\n    }\r\n\r\n    async getAllCommentsFromProduct(productId: string): Promise<Comment[]> {\r\n        const comments = await this.productModel.aggregate([\r\n            {\r\n                '$match': {\r\n                    '_id': new mongoose.Types.ObjectId(productId)\r\n                }\r\n            }, {\r\n                '$unwind': {\r\n                    'path': '$comments'\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'comments.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'comment.createdBy'\r\n                }\r\n            }, {\r\n                '$set': {\r\n                    'comments.createdBy': {\r\n                        '$first': '$comment.createdBy'\r\n                    }\r\n                }\r\n            }, {\r\n                '$group': {\r\n                    '_id': new mongoose.Types.ObjectId(productId),\r\n                    'comments': {\r\n                        '$push': '$comments'\r\n                    }\r\n                }\r\n            }, {\r\n                '$project': {\r\n                    '_id': 0,\r\n                    'comments': 1\r\n                }\r\n            }\r\n        ]);\r\n\r\n        return comments[0]?.comments;\r\n    }\r\n\r\n    async getProductById(productId: string): Promise<Product> {\r\n        const product = await this.productModel.aggregate([\r\n            {\r\n                '$match': {\r\n                    '_id': new mongoose.Types.ObjectId(productId)\r\n                }\r\n            },\r\n            {\r\n                '$unwind': {\r\n                    'path': '$comments',\r\n                    'preserveNullAndEmptyArrays': true\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'category.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'category.createdBy'\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'comments.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'comment.createdBy'\r\n                }\r\n            }, {\r\n                '$set': {\r\n                    'category.createdBy': {\r\n                        '$first': '$category.createdBy'\r\n                    },\r\n                    'comments.createdBy': {\r\n                        '$first': '$comment.createdBy'\r\n                    }\r\n                }\r\n            }, {\r\n                '$group': {\r\n                    '_id': '$_id',\r\n                    'name': {\r\n                        $first: '$name'\r\n                    },\r\n                    'picture': {\r\n                        $first: '$picture'\r\n                    },\r\n                    'price': {\r\n                        $first: '$price'\r\n                    },\r\n                    'description': {\r\n                        $first: '$description'\r\n                    },\r\n                    'category': {\r\n                        $first: '$category'\r\n                    },\r\n                    'comments': {\r\n                        '$push': '$comments'\r\n                    },\r\n                    'createdBy': {\r\n                        $first: '$createdBy'\r\n                    },\r\n                    'createdAt': {\r\n                        $first: '$createdAt'\r\n                    },\r\n                    '__v': {\r\n                        $first: '$__v'\r\n                    }\r\n                }\r\n            }\r\n        ]);\r\n\r\n        if (!product[0])\r\n            throw new HttpException(`This product doesn't exists!`, HttpStatus.NOT_FOUND)\r\n\r\n        return product[0];\r\n    }\r\n\r\n    async getCommentById(productId: string, commentId: string): Promise<Comment> {\r\n        const comment = await this.productModel.aggregate([\r\n            {\r\n                '$match': {\r\n                    '_id': new mongoose.Types.ObjectId(productId)\r\n                }\r\n            }, {\r\n                '$unwind': {\r\n                    'path': '$comments'\r\n                }\r\n            }, {\r\n                '$match': {\r\n                    'comments._id': new mongoose.Types.ObjectId(commentId)\r\n                }\r\n            }, {\r\n                '$lookup': {\r\n                    'from': 'users',\r\n                    'localField': 'comments.createdBy',\r\n                    'foreignField': '_id',\r\n                    'as': 'comment.createdBy'\r\n                }\r\n            }, {\r\n                '$set': {\r\n                    'comments.createdBy': {\r\n                        '$first': '$comment.createdBy'\r\n                    }\r\n                }\r\n            }, {\r\n                '$project': {\r\n                    '_id': 0,\r\n                    'comments': 1\r\n                }\r\n            }\r\n        ]);\r\n\r\n        if (!comment[0]?.comments || !comment[0])\r\n            throw new HttpException(`This comment doesn't exists!`, HttpStatus.NOT_FOUND)\r\n\r\n        return comment[0].comments;\r\n    }\r\n\r\n    async getRecommendations(userId: string): Promise<Product[]> {\r\n        const user = await this.userService.getUserById(userId);\r\n        // GetAllCustomers\r\n        const customers = user.following;\r\n        // Eerst delete alles customers/producten\r\n        const deleteAll = this.neo4jService.write('MATCH (n) DETACH DELETE n', {});\r\n        // Voeg ingelogde user toe ?? relatie\r\n        const addCurrentUser = this.neo4jService.write(`CREATE (n:Customer {id: '${user._id.toString()}'})`, {})\r\n        // Alle customers toevoegen ?? relatie\r\n        if(customers.length > 0) {\r\n            customers.forEach(customer => {\r\n                this.neo4jService.write(`CREATE (n:Customer {id: '${customer.toString()}'})`, {})\r\n            });\r\n        } else {\r\n            return null;\r\n        }\r\n        // Alle producten toevoegen die volgers hebben gereageerd  ?? relatie\r\n        // const products = this.\r\n\r\n        // Query voor het verkrijgen van een array van producten - \r\n        // Deze producten > Stel ik reageer product 1 en Klaas product 1 en 2, dan krijg ik product 2 recommend!\r\n\r\n\r\n        // if(user.following.length > 0) {\r\n        //     user.following.forEach(follow => {\r\n        //         this.neo4jService.write(`CREATE (n:Customer {id: '${user._id.toString()}', name: '${user.name}', following: '${user.following}'})`, {})\r\n        //     });\r\n        // }\r\n\r\n        return null;\r\n    }\r\n\r\n    async calculateAdvice(productId: string): Promise<Object> {\r\n        let advice: string;\r\n        const avg = await this.productModel.aggregate([\r\n            {\r\n                '$match': {\r\n                    '_id': new mongoose.Types.ObjectId(productId)\r\n                }\r\n            }, {\r\n                '$project': {\r\n                    'avg': {\r\n                        '$avg': '$comments.rating'\r\n                    }\r\n                }\r\n            }, {\r\n                '$project': {\r\n                    '_id': 0,\r\n                    'avg': {\r\n                        '$round': [\r\n                            '$avg', 2\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        ]);\r\n\r\n        if(avg[0]?.avg > 8) {\r\n            advice = 'The customers wants this product right now!'\r\n        } else if(avg[0]?.avg > 5.1) {\r\n            advice = 'Most of the customers wants this product on the market!'\r\n        } else if(avg[0]?.avg > 3) {\r\n            advice = `Most of the customers don't want this product on the market!`\r\n        } else if(avg[0]?.avg > 1) {\r\n            advice = `The customers don't want this product!`\r\n        } else {\r\n            advice = `No advice yet, because no comments!`\r\n        }\r\n\r\n        return {\r\n            avg: avg[0].avg,\r\n            advice\r\n        };\r\n    }\r\n\r\n    async createProduct(user: any, productDto: ProductDto): Promise<void> {\r\n        await this.productModel.create({\r\n            _id: new mongoose.Types.ObjectId(),\r\n            name: productDto.name,\r\n            picture: productDto.picture,\r\n            price: productDto.price,\r\n            description: productDto.description,\r\n            category: await this.categoryService.getCategoryById(productDto.category),\r\n            comments: [],\r\n            createdAt: new Date(),\r\n            createdBy: await this.userService.getUserByEmailAddress(user.emailAddress)\r\n        });\r\n    }\r\n\r\n    async addCommentToProduct(productId: string, newComment: Partial<CommentDto>): Promise<void> {\r\n        await this.productModel.findOneAndUpdate({ _id: productId }, { $push: { comments: newComment } }, {\r\n            upsert: true,\r\n            new: true,\r\n            runValidators: true,\r\n            setDefaultsOnInsert: true\r\n        });\r\n    }\r\n\r\n    async updateProduct(user: any, productId: string, newProduct: Partial<ProductDto>): Promise<void> {\r\n        const product = await this.productModel.findById({ _id: productId })\r\n\r\n        if (!user._id.equals(product.createdBy._id))\r\n            throw new UnauthorizedException({ message: `This user don't have access to this method!` });\r\n\r\n        if (product)\r\n            product.name = newProduct?.name;\r\n            product.picture = newProduct?.picture;\r\n            product.price = newProduct?.price;\r\n            product.description = newProduct?.description;\r\n            product.category = await this.categoryService.getCategoryById(newProduct.category);\r\n\r\n        await this.productModel.findOneAndUpdate({ _id: productId }, product, {\r\n            upsert: true,\r\n            new: true,\r\n            runValidators: true,\r\n            setDefaultsOnInsert: true\r\n        });\r\n    }\r\n\r\n    async updateCategoryFromNestedProducts(newCategory: Partial<CategoryDto>, products: Product[]): Promise<void> {\r\n        products.forEach(async product => {\r\n            await this.productModel.findOneAndUpdate({ 'category._id': product.category._id },\r\n                {\r\n                    'category.title': newCategory?.title,\r\n                    'category.description': newCategory?.description,\r\n                    'category.icon': await this.iconService.getIconById(newCategory?.icon),\r\n                }, {\r\n                upsert: true,\r\n                new: true,\r\n                runValidators: true,\r\n                setDefaultsOnInsert: true\r\n            })\r\n        });\r\n    }\r\n\r\n    async updateCommentFromProduct(user: any, productId: string, commentId: string, newComment: Partial<CommentDto>): Promise<void> {\r\n        const oldComment = await this.getCommentById(productId, commentId);\r\n\r\n        if (!user._id.equals(oldComment.createdBy._id))\r\n            throw new UnauthorizedException({ message: `This user don't have access to this method!` });\r\n\r\n        await this.productModel.findOneAndUpdate({ _id: productId, 'comments._id': new mongoose.Types.ObjectId(commentId) }, { $set: { 'comments.$.title': newComment?.title, 'comments.$.body': newComment?.body, 'comments.$.rating': newComment?.rating } }, {\r\n            upsert: true,\r\n            new: true,\r\n            runValidators: true,\r\n            setDefaultsOnInsert: true\r\n        });\r\n    }\r\n\r\n    async deleteProduct(user: any, productId: string): Promise<void> {\r\n        const product = await this.productModel.findById({ _id: productId })\r\n\r\n        if (!user._id.equals(product.createdBy._id))\r\n            throw new UnauthorizedException({ message: `This user don't have access to this method!` });\r\n\r\n        await this.productModel.findOneAndDelete({ _id: productId });\r\n    }\r\n\r\n    async deleteCommentFromProduct(user: any, productId: string, commentId: string): Promise<void> {\r\n        const comment = await this.getCommentById(productId, commentId);\r\n\r\n        if (!user._id.equals(comment.createdBy._id))\r\n            throw new UnauthorizedException({ message: `This user don't have access to this method!` });\r\n\r\n        await this.productModel.findOneAndUpdate({ _id: productId, 'comments._id': new mongoose.Types.ObjectId(commentId) }, { $pull: { 'comments': { _id: new mongoose.Types.ObjectId(commentId) } } }, {\r\n            upsert: true,\r\n            new: true,\r\n            runValidators: true,\r\n            setDefaultsOnInsert: true\r\n        });\r\n    }\r\n}","export class LoginUserDto {\r\n    username: string;\r\n    password: string;\r\n\r\n    constructor(username: string, password: string) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n}\r\n","export class RegisterUserDto {\r\n    name: string;\r\n    age: number;\r\n    emailAddress: string;\r\n    picture: string;\r\n    role: string;\r\n    password: string;\r\n\r\n    constructor(name: string, age: number, emailAddress: string, picture: string, role: string, password: string) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.emailAddress = emailAddress;\r\n        this.picture = picture;\r\n        this.role = role;\r\n        this.password = password;\r\n    }\r\n}\r\n","import { Body, Controller, Get, HttpException, HttpStatus, Param, Post, Request, UseGuards } from \"@nestjs/common\";\r\nimport { AuthGuard } from '@nestjs/passport';\r\nimport { AuthService } from \"../auth/auth.service\";\r\nimport { Role } from \"../auth/roles/role.enum\";\r\nimport { Roles } from \"../auth/roles/roles.decorator\";\r\nimport { RolesGuard } from \"../auth/roles/roles.guard\";\r\nimport { LoginUserDto } from \"./dtos/loginUser.dto\";\r\nimport { RegisterUserDto } from \"./dtos/registerUser.dto\";\r\nimport { User } from \"./user.schema\";\r\nimport { UserService } from \"./user.service\";\r\n\r\n@Controller('user')\r\nexport class UserController {\r\n    constructor(private authService: AuthService, private userService: UserService) { }\r\n\r\n    @UseGuards(AuthGuard('local'))\r\n    @Post('login')\r\n    async login(@Body() loginUserDto: LoginUserDto): Promise<Object> {\r\n        try {\r\n            const token = await this.authService.login(loginUserDto);\r\n\r\n            return {\r\n                'message': 'You are successfully logged in!',\r\n                'jwt_token': token\r\n            }\r\n        } catch (error) {\r\n            this.generateUserExceptions(error);\r\n        }\r\n    }\r\n\r\n    @Post('register')\r\n    async register(@Body() registerUserDto: RegisterUserDto): Promise<Object> {\r\n        try {\r\n            await this.authService.register(registerUserDto);\r\n\r\n            return {\r\n                status: 201,\r\n                message: 'User has been successfully registered!'\r\n            }\r\n        } catch (error) {\r\n            this.generateUserExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'))\r\n    @Get('profile')\r\n    async getProfile(@Request() req: any): Promise<User> {\r\n        return await this.userService.getUserByEmailAddress(req.user.emailAddress);\r\n    }\r\n\r\n    @Get(':userId')\r\n    async getUser(@Param('userId') userId: string): Promise<User> {\r\n        try {\r\n            return await this.userService.getUserById(userId);\r\n        } catch (error) {\r\n            this.generateUserExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'))\r\n    @Get(':userId/followers')\r\n    async getUserFollowers(@Param('userId') userId: string): Promise<User[]> {\r\n        try {\r\n            return await this.userService.getFollowers(userId);\r\n        } catch (error) {\r\n            this.generateUserExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.CUSTOMER)\r\n    @Post(':userId/follow')\r\n    async followUser(@Param('userId') userId: string, @Body() emailAddress: Object): Promise<Object> {\r\n        try {\r\n            await this.userService.followUser(Object(emailAddress)['emailAddress'], userId);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'User has been successfully followed!'\r\n            }\r\n        } catch (error) {\r\n            this.generateUserExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Roles(Role.CUSTOMER)\r\n    @Post(':userId/unfollow')\r\n    async unfollowUser(@Param('userId') userId: string, @Body() emailAddress: Object): Promise<Object> {\r\n        try {\r\n            await this.userService.unfollowUser(Object(emailAddress)['emailAddress'], userId);\r\n\r\n            return {\r\n                status: 200,\r\n                message: 'User has been successfully unfollowed!'\r\n            }\r\n        } catch (error) {\r\n            this.generateUserExceptions(error);\r\n        }\r\n    }\r\n\r\n    @UseGuards(AuthGuard('jwt'), RolesGuard)\r\n    @Get(':userId/status')\r\n    async checkFollowStatus(@Request() req: any, @Param('userId') userId: string): Promise<boolean> {\r\n        try {\r\n            return await this.userService.alreadyFollowingUser(req.user.emailAddress, userId);\r\n        } catch (error) {\r\n            this.generateUserExceptions(error);\r\n        }\r\n    }\r\n\r\n    generateUserExceptions(error: any) {\r\n        if (error?.name === 'CastError')\r\n            throw new HttpException(`This user doesn't exists!`, HttpStatus.NOT_FOUND)\r\n\r\n        if (error?.response === 'This user already exists!')\r\n            throw new HttpException(`This user already exists!`, HttpStatus.CONFLICT)\r\n\r\n        if (error?.response?.message === `You don't follow this customer!`)\r\n            throw new HttpException(`You don't follow this customer!`, HttpStatus.CONFLICT)\r\n\r\n        if (error?.response?.message === `You can only follow other customers!`)\r\n            throw new HttpException(`You can only follow other customers!`, HttpStatus.BAD_REQUEST)\r\n\r\n        if (error?.response?.message === `You already follow this customer!`)\r\n            throw new HttpException(`You already follow this customer!`, HttpStatus.BAD_REQUEST)\r\n\r\n        if (error?.errors?.name)\r\n            throw new HttpException(error.errors.name.message, HttpStatus.CONFLICT);\r\n\r\n        if (error?.errors?.emailAddress)\r\n            throw new HttpException(error.errors.emailAddress.message, HttpStatus.CONFLICT);\r\n\r\n        if (error?.errors?.picture)\r\n            throw new HttpException(error.errors.picture.message, HttpStatus.CONFLICT);\r\n\r\n        if (error?.errors?.role)\r\n            throw new HttpException(error.errors.role.message, HttpStatus.CONFLICT);\r\n\r\n        if (error?.errors?.password)\r\n            throw new HttpException(error.errors.password.message, HttpStatus.CONFLICT);\r\n    }\r\n}","import { forwardRef, Module } from \"@nestjs/common\";\r\nimport { MongooseModule } from \"@nestjs/mongoose\";\r\nimport { UserController } from \"./user.controller\";\r\nimport { User, UserSchema } from \"./user.schema\";\r\nimport { UserService } from \"./user.service\";\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { PassportModule } from \"@nestjs/passport\"\r\nimport { AuthModule } from \"../auth/auth.module\";\r\nimport { Neo4jModule } from \"../neo4j/neo4j.module\";\r\n\r\n@Module({\r\n    imports: [MongooseModule.forFeature([{ name: User.name, schema: UserSchema }]), forwardRef(() => AuthModule), PassportModule, JwtModule.register({\r\n        secret: 'S1e2C3r4E5t',\r\n        signOptions: { expiresIn: '7d' },\r\n    })],\r\n    controllers: [UserController],\r\n    providers: [UserService],\r\n    exports: [UserService]\r\n})\r\nexport class UserModule { };","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ObjectId } from 'mongoose';\r\nimport { Role } from '../auth/roles/role.enum';\r\n\r\n@Schema()\r\nexport class User {\r\n    @Prop()\r\n    _id: ObjectId;\r\n\r\n    @Prop({\r\n        required: [true, 'Name is required!'],\r\n    })\r\n    name: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Age is required!'],\r\n    })\r\n    age: Number;\r\n\r\n    @Prop({\r\n        required: [true, 'Emailaddress is required!'],\r\n        validate: {\r\n            validator: function (v: any) {\r\n                return /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(v);\r\n            },\r\n            message: 'Use a correct emailaddress like j.doe@gmail.com!',\r\n        },\r\n    })\r\n    emailAddress: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Picture is required!'],\r\n        default: 'https://cdn-icons-png.flaticon.com/512/149/149071.png'\r\n    })\r\n    picture: String;\r\n\r\n    @Prop({\r\n        ref: 'User'\r\n    })\r\n    following: [ObjectId];\r\n\r\n    @Prop({\r\n        required: [true, 'Role is required!'],\r\n        enum: {\r\n            values: [Role.BRAND, Role.CUSTOMER],\r\n            message: 'Choose between a customer or a brand as role!'\r\n        }\r\n    })\r\n    role: String;\r\n\r\n    @Prop({\r\n        required: [true, 'Password is required!']\r\n    })\r\n    password: String;\r\n\r\n    @Prop()\r\n    createdAt: Date;\r\n}\r\n\r\nexport const UserSchema = SchemaFactory.createForClass(User);","import { forwardRef, HttpException, HttpStatus, Inject, Injectable } from \"@nestjs/common\";\r\nimport { InjectModel } from \"@nestjs/mongoose\";\r\nimport mongoose, { Model } from \"mongoose\";\r\nimport { Neo4jService } from \"../neo4j/neo4j.service\";\r\nimport { RegisterUserDto } from \"./dtos/registerUser.dto\";\r\nimport { User } from \"./user.schema\";\r\n\r\n@Injectable()\r\nexport class UserService {\r\n    constructor(@InjectModel(User.name) private userModel: Model<User>) { }\r\n\r\n    async getUserById(userId: string): Promise<User> {\r\n        const user = await this.userModel.findOne({ _id: userId }).populate('following');\r\n\r\n        if (!user)\r\n            throw new HttpException({ message: `This user doesn't exists!` }, HttpStatus.NOT_FOUND);\r\n\r\n        return user;\r\n    }\r\n\r\n    async getUserByEmailAddress(emailAddress: string): Promise<User> {\r\n        return await this.userModel.findOne({ emailAddress }).populate('following');\r\n    }\r\n\r\n    async registerUser(registerUserDto: RegisterUserDto): Promise<void> {\r\n        const user = await this.userModel.create({\r\n            _id: new mongoose.Types.ObjectId(),\r\n            ...registerUserDto,\r\n            createdAt: new Date()\r\n        });\r\n    }\r\n\r\n    async getFollowers(userId: string): Promise<User[]> {\r\n        const checkUser = await this.getUserById(userId);\r\n\r\n        return this.userModel.aggregate([\r\n            {\r\n                '$unwind': {\r\n                    'path': '$following',\r\n                    'preserveNullAndEmptyArrays': true\r\n                }\r\n            }, {\r\n                '$match': {\r\n                    'following': new mongoose.Types.ObjectId(userId)\r\n                }\r\n            }, {\r\n                '$group': {\r\n                    '_id': '$role',\r\n                    'following': {\r\n                        '$push': {\r\n                            '_id': '$_id',\r\n                            'name': '$name',\r\n                            'picture': '$picture'\r\n                        }\r\n                    }\r\n                }\r\n            }, {\r\n                '$project': {\r\n                    '_id': 0,\r\n                    'following': 1\r\n                }\r\n            }\r\n        ])\r\n    }\r\n\r\n    async followUser(emailAddress: string, userId: string): Promise<User> {\r\n        const currentUser = await this.getUserByEmailAddress(emailAddress);\r\n        const followUser = await this.getUserById(userId);\r\n        const followedUser = await this.userModel.aggregate([\r\n            {\r\n                '$unwind': {\r\n                    'path': '$following'\r\n                }\r\n            }, {\r\n                '$match': {\r\n                    '_id': currentUser._id,\r\n                    'following': new mongoose.Types.ObjectId(userId)\r\n                }\r\n            }\r\n        ])\r\n\r\n        if (followUser.role === 'customer') {\r\n            if (followedUser.length === 0) {\r\n                return await this.userModel.findOneAndUpdate({ emailAddress }, { $push: { following: new mongoose.Types.ObjectId(userId) } });\r\n            } else {\r\n                throw new HttpException({ message: `You already follow this customer!` }, HttpStatus.BAD_REQUEST);\r\n            }\r\n        } else {\r\n            throw new HttpException({ message: `You can only follow other customers!` }, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    async unfollowUser(emailAddress: string, userId: string): Promise<User> {\r\n        const currentUser = await this.getUserByEmailAddress(emailAddress);\r\n        const followUser = await this.getUserById(userId);\r\n        const followedUser = await this.userModel.aggregate([\r\n            {\r\n                '$unwind': {\r\n                    'path': '$following'\r\n                }\r\n            }, {\r\n                '$match': {\r\n                    '_id': currentUser._id,\r\n                    'following': new mongoose.Types.ObjectId(userId)\r\n                }\r\n            }\r\n        ])\r\n\r\n        if (followedUser.length > 0)\r\n            return await this.userModel.findOneAndUpdate({ emailAddress }, { $pull: { following: new mongoose.Types.ObjectId(userId) } });\r\n\r\n        throw new HttpException({ message: `You don't follow this customer!` }, HttpStatus.CONFLICT);\r\n    }\r\n\r\n    async alreadyFollowingUser(emailAddress: string, userId: string): Promise<boolean> {\r\n        const currentUser = await this.getUserByEmailAddress(emailAddress);\r\n        const followUser = await this.getUserById(userId);\r\n        const followedUser = await this.userModel.aggregate([\r\n            {\r\n                '$unwind': {\r\n                    'path': '$following'\r\n                }\r\n            }, {\r\n                '$match': {\r\n                    '_id': currentUser._id,\r\n                    'following': new mongoose.Types.ObjectId(userId)\r\n                }\r\n            }\r\n        ])\r\n\r\n        if (followedUser.length > 0)\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n}","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/interopRequireDefault\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/jwt\");","module.exports = require(\"@nestjs/mongoose\");","module.exports = require(\"@nestjs/passport\");","module.exports = require(\"bcrypt\");","module.exports = require(\"buffer\");","module.exports = require(\"mongoose\");","module.exports = require(\"passport-jwt\");","module.exports = require(\"passport-local\");","module.exports = require(\"rxjs\");","module.exports = require(\"rxjs/operators\");","module.exports = require(\"string_decoder\");","module.exports = require(\"tslib\");","module.exports = require(\"dns\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"tls\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\r\n * This is not a production server yet!\r\n * This is only a minimal backend to get started.\r\n */\r\n\r\nimport { Logger } from '@nestjs/common';\r\nimport { NestFactory } from '@nestjs/core';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\nasync function bootstrap() {\r\n  const app = await NestFactory.create(AppModule, { cors: true });\r\n  const globalPrefix = 'api';\r\n  app.setGlobalPrefix(globalPrefix);\r\n  const port = process.env.PORT || 3333;\r\n  await app.listen(port);\r\n  Logger.log(\r\n    `🚀 Application is running on: http://localhost:${port}/${globalPrefix}`\r\n  );\r\n}\r\n\r\nbootstrap();\r\n"],"names":[],"sourceRoot":""}